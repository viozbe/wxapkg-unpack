;(function(global){var __wxConfig = global.WXConfig;var regeneratorRuntime,BabelRuntimeHelpers={};(()=>{var e={1964:(e,t,i)=>{"use strict";function n(e,t,i,n,r){var a={};return Object.keys(n).forEach((function(e){a[e]=n[e]})),a.enumerable=!!a.enumerable,a.configurable=!!a.configurable,("value"in a||a.initializer)&&(a.writable=!0),a=i.slice().reverse().reduce((function(i,n){return n(e,t,i)||i}),a),r&&void 0!==a.initializer&&(a.value=a.initializer?a.initializer.call(r):void 0,a.initializer=void 0),void 0===a.initializer&&(Object.defineProperty(e,t,a),a=null),a}i.r(t),i.d(t,{default:()=>n})},6470:(e,t,i)=>{"use strict";function n(e,t,i,n,r,a,o){try{var s=e[a](o),l=s.value}catch(e){return void i(e)}s.done?t(l):Promise.resolve(l).then(n,r)}function r(e){return function(){var t=this,i=arguments;return new Promise((function(r,a){var o=e.apply(t,i);function s(e){n(o,r,a,s,l,"next",e)}function l(e){n(o,r,a,s,l,"throw",e)}s(void 0)}))}}i.r(t),i.d(t,{default:()=>r})},1217:(e,t,i)=>{"use strict";function n(e,t,i,n){i&&Object.defineProperty(e,t,{enumerable:i.enumerable,configurable:i.configurable,writable:i.writable,value:i.initializer?i.initializer.call(n):void 0})}i.r(t),i.d(t,{default:()=>n})},6647:(e,t,i)=>{"use strict";function n(e,t){throw new Error("Decorating class property failed. Please ensure that proposal-class-properties is enabled and runs after the decorators transform.")}i.r(t),i.d(t,{default:()=>n})},1466:(e,t,i)=>{"use strict";function n(e,t,i){return t in e?Object.defineProperty(e,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[t]=i,e}function r(e,t){var i=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),i.push.apply(i,n)}return i}function a(e){for(var t=1;t<arguments.length;t++){var i=null!=arguments[t]?arguments[t]:{};t%2?r(Object(i),!0).forEach((function(t){n(e,t,i[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(i)):r(Object(i)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(i,t))}))}return e}i.r(t),i.d(t,{default:()=>a})},5238:(e,t,i)=>{"use strict";function n(e,t){if(null==e)return{};var i,n,r=function(e,t){if(null==e)return{};var i,n,r={},a=Object.keys(e);for(n=0;n<a.length;n++)i=a[n],t.indexOf(i)>=0||(r[i]=e[i]);return r}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(n=0;n<a.length;n++)i=a[n],t.indexOf(i)>=0||Object.prototype.propertyIsEnumerable.call(e,i)&&(r[i]=e[i])}return r}i.r(t),i.d(t,{default:()=>n})},929:(e,t,i)=>{"use strict";function n(e){return(n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}i.r(t),i.d(t,{default:()=>n})},5551:(e,t,i)=>{var n={"./applyDecoratedDescriptor":1964,"./asyncToGenerator":6470,"./initializerDefineProperty":1217,"./initializerWarningHelper":6647,"./objectSpread2":1466,"./objectWithoutProperties":5238,"./typeof":929};function r(e){var t=a(e);return i(t)}function a(e){if(!i.o(n,e)){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}return n[e]}r.keys=function(){return Object.keys(n)},r.resolve=a,e.exports=r,r.id=5551},5396:e=>{var t=function(e){"use strict";var t,i=Object.prototype,n=i.hasOwnProperty,r="function"==typeof Symbol?Symbol:{},a=r.iterator||"@@iterator",o=r.asyncIterator||"@@asyncIterator",s=r.toStringTag||"@@toStringTag";function l(e,t,i){return Object.defineProperty(e,t,{value:i,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{l({},"")}catch(e){l=function(e,t,i){return e[t]=i}}function c(e,t,i,n){var r=t&&t.prototype instanceof _?t:_,a=Object.create(r.prototype),o=new P(n||[]);return a._invoke=function(e,t,i){var n=u;return function(r,a){if(n===h)throw new Error("Generator is already running");if(n===f){if("throw"===r)throw a;return O()}for(i.method=r,i.arg=a;;){var o=i.delegate;if(o){var s=T(o,i);if(s){if(s===y)continue;return s}}if("next"===i.method)i.sent=i._sent=i.arg;else if("throw"===i.method){if(n===u)throw n=f,i.arg;i.dispatchException(i.arg)}else"return"===i.method&&i.abrupt("return",i.arg);n=h;var l=d(e,t,i);if("normal"===l.type){if(n=i.done?f:p,l.arg===y)continue;return{value:l.arg,done:i.done}}"throw"===l.type&&(n=f,i.method="throw",i.arg=l.arg)}}}(e,i,o),a}function d(e,t,i){try{return{type:"normal",arg:e.call(t,i)}}catch(e){return{type:"throw",arg:e}}}e.wrap=c;var u="suspendedStart",p="suspendedYield",h="executing",f="completed",y={};function _(){}function g(){}function m(){}var v={};v[a]=function(){return this};var E=Object.getPrototypeOf,I=E&&E(E(D([])));I&&I!==i&&n.call(I,a)&&(v=I);var w=m.prototype=_.prototype=Object.create(v);function b(e){["next","throw","return"].forEach((function(t){l(e,t,(function(e){return this._invoke(t,e)}))}))}function A(e,t){function i(r,a,o,s){var l=d(e[r],e,a);if("throw"!==l.type){var c=l.arg,u=c.value;return u&&"object"==typeof u&&n.call(u,"__await")?t.resolve(u.__await).then((function(e){i("next",e,o,s)}),(function(e){i("throw",e,o,s)})):t.resolve(u).then((function(e){c.value=e,o(c)}),(function(e){return i("throw",e,o,s)}))}s(l.arg)}var r;this._invoke=function(e,n){function a(){return new t((function(t,r){i(e,n,t,r)}))}return r=r?r.then(a,a):a()}}function T(e,i){var n=e.iterator[i.method];if(n===t){if(i.delegate=null,"throw"===i.method){if(e.iterator.return&&(i.method="return",i.arg=t,T(e,i),"throw"===i.method))return y;i.method="throw",i.arg=new TypeError("The iterator does not provide a 'throw' method")}return y}var r=d(n,e.iterator,i.arg);if("throw"===r.type)return i.method="throw",i.arg=r.arg,i.delegate=null,y;var a=r.arg;return a?a.done?(i[e.resultName]=a.value,i.next=e.nextLoc,"return"!==i.method&&(i.method="next",i.arg=t),i.delegate=null,y):a:(i.method="throw",i.arg=new TypeError("iterator result is not an object"),i.delegate=null,y)}function S(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function C(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function P(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(S,this),this.reset(!0)}function D(e){if(e){var i=e[a];if(i)return i.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var r=-1,o=function i(){for(;++r<e.length;)if(n.call(e,r))return i.value=e[r],i.done=!1,i;return i.value=t,i.done=!0,i};return o.next=o}}return{next:O}}function O(){return{value:t,done:!0}}return g.prototype=w.constructor=m,m.constructor=g,g.displayName=l(m,s,"GeneratorFunction"),e.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===g||"GeneratorFunction"===(t.displayName||t.name))},e.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,m):(e.__proto__=m,l(e,s,"GeneratorFunction")),e.prototype=Object.create(w),e},e.awrap=function(e){return{__await:e}},b(A.prototype),A.prototype[o]=function(){return this},e.AsyncIterator=A,e.async=function(t,i,n,r,a){void 0===a&&(a=Promise);var o=new A(c(t,i,n,r),a);return e.isGeneratorFunction(i)?o:o.next().then((function(e){return e.done?e.value:o.next()}))},b(w),l(w,s,"Generator"),w[a]=function(){return this},w.toString=function(){return"[object Generator]"},e.keys=function(e){var t=[];for(var i in e)t.push(i);return t.reverse(),function i(){for(;t.length;){var n=t.pop();if(n in e)return i.value=n,i.done=!1,i}return i.done=!0,i}},e.values=D,P.prototype={constructor:P,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=t,this.done=!1,this.delegate=null,this.method="next",this.arg=t,this.tryEntries.forEach(C),!e)for(var i in this)"t"===i.charAt(0)&&n.call(this,i)&&!isNaN(+i.slice(1))&&(this[i]=t)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var i=this;function r(n,r){return s.type="throw",s.arg=e,i.next=n,r&&(i.method="next",i.arg=t),!!r}for(var a=this.tryEntries.length-1;a>=0;--a){var o=this.tryEntries[a],s=o.completion;if("root"===o.tryLoc)return r("end");if(o.tryLoc<=this.prev){var l=n.call(o,"catchLoc"),c=n.call(o,"finallyLoc");if(l&&c){if(this.prev<o.catchLoc)return r(o.catchLoc,!0);if(this.prev<o.finallyLoc)return r(o.finallyLoc)}else if(l){if(this.prev<o.catchLoc)return r(o.catchLoc,!0)}else{if(!c)throw new Error("try statement without catch or finally");if(this.prev<o.finallyLoc)return r(o.finallyLoc)}}}},abrupt:function(e,t){for(var i=this.tryEntries.length-1;i>=0;--i){var r=this.tryEntries[i];if(r.tryLoc<=this.prev&&n.call(r,"finallyLoc")&&this.prev<r.finallyLoc){var a=r;break}}a&&("break"===e||"continue"===e)&&a.tryLoc<=t&&t<=a.finallyLoc&&(a=null);var o=a?a.completion:{};return o.type=e,o.arg=t,a?(this.method="next",this.next=a.finallyLoc,y):this.complete(o)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),y},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var i=this.tryEntries[t];if(i.finallyLoc===e)return this.complete(i.completion,i.afterLoc),C(i),y}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var i=this.tryEntries[t];if(i.tryLoc===e){var n=i.completion;if("throw"===n.type){var r=n.arg;C(i)}return r}}throw new Error("illegal catch attempt")},delegateYield:function(e,i,n){return this.delegate={iterator:D(e),resultName:i,nextLoc:n},"next"===this.method&&(this.arg=t),y}},e}(e.exports);try{regeneratorRuntime=t}catch(e){Function("r","regeneratorRuntime = r")(t)}},7162:(e,t,i)=>{i(5396)},9401:(e,t,i)=>{"use strict";i.r(t);i(7162);const n=i(5551);n.keys().forEach((e=>{BabelRuntimeHelpers[e.substr(2)]=n(e)}))},5482:(e,t,i)=>{"use strict";i.r(t);i(634),i(6882),i(7072),i(4870),i(5735),i(3108),i(9731),i(9992),i(3430),i(7694),i(3985),i(5388),i(2994),i(3498),i(9509),i(7846),i(6635),i(5883),i(1804),i(2775),i(2586),i(3045),i(7890),i(3439),i(1515),i(7368),i(7950),i(103),i(977),i(5734),i(5940),i(8319),i(5794),i(8827),i(1715),i(1382),i(1982),i(3229),i(4074),i(4696),i(3675),i(6920),i(3161),i(723),i(6618),i(9527),i(315),i(6886),i(4962),i(6481),i(8990),i(884),i(5431),i(5704);["Int8Array","Uint8Array","Uint8ClampedArray","Int16Array","Uint16Array","Int32Array","Uint32Array","Float32Array","Float64Array"].forEach((e=>{const t=globalThis[e];t&&t.name!==e&&Object.defineProperty(t,"name",{value:e})}))},305:(e,t,i)=>{var n=i(816),r=i(3718),a=i(6541),o=i(5353),s=a.data,l=a.normalize,c="USE_FUNCTION_CONSTRUCTOR",d="AsyncIteratorPrototype",u=function(e,t){if(r(e))for(var i=0;i<e.length;i++)s[l(e[i])]=t};e.exports=function(e){"object"==typeof e&&(u(e.useNative,a.NATIVE),u(e.usePolyfill,a.POLYFILL),u(e.useFeatureDetection,null),n(e,c)&&(o.USE_FUNCTION_CONSTRUCTOR=!!e.USE_FUNCTION_CONSTRUCTOR),n(e,d)&&(o.USE_FUNCTION_CONSTRUCTOR=e.AsyncIteratorPrototype))}},3819:e=>{e.exports=function(e){if("function"!=typeof e)throw TypeError(String(e)+" is not a function");return e}},8505:(e,t,i)=>{var n=i(5052);e.exports=function(e){if(!n(e)&&null!==e)throw TypeError("Can't set "+String(e)+" as a prototype");return e}},9736:(e,t,i)=>{var n=i(95),r=i(2391),a=i(1787),o=n("unscopables"),s=Array.prototype;null==s[o]&&a.f(s,o,{configurable:!0,value:r(null)}),e.exports=function(e){s[o][e]=!0}},6637:(e,t,i)=>{"use strict";var n=i(966).charAt;e.exports=function(e,t,i){return t+(i?n(e,t).length:1)}},7728:e=>{e.exports=function(e,t,i){if(!(e instanceof t))throw TypeError("Incorrect "+(i?i+" ":"")+"invocation");return e}},1176:(e,t,i)=>{var n=i(5052);e.exports=function(e){if(!n(e))throw TypeError(String(e)+" is not an object");return e}},3339:e=>{e.exports="undefined"!=typeof ArrayBuffer&&"undefined"!=typeof DataView},9918:(e,t,i)=>{"use strict";var n,r=i(3339),a=i(7400),o=i(9859),s=i(5052),l=i(816),c=i(1589),d=i(5762),u=i(7487),p=i(1787).f,h=i(7567),f=i(6540),y=i(95),_=i(1441),g=o.Int8Array,m=g&&g.prototype,v=o.Uint8ClampedArray,E=v&&v.prototype,I=g&&h(g),w=m&&h(m),b=Object.prototype,A=b.isPrototypeOf,T=y("toStringTag"),S=_("TYPED_ARRAY_TAG"),C=r&&!!f&&"Opera"!==c(o.opera),P=!1,D={Int8Array:1,Uint8Array:1,Uint8ClampedArray:1,Int16Array:2,Uint16Array:2,Int32Array:4,Uint32Array:4,Float32Array:4,Float64Array:8},O={BigInt64Array:8,BigUint64Array:8},k=function(e){if(!s(e))return!1;var t=c(e);return l(D,t)||l(O,t)};for(n in D)o[n]||(C=!1);if((!C||"function"!=typeof I||I===Function.prototype)&&(I=function(){throw TypeError("Incorrect invocation")},C))for(n in D)o[n]&&f(o[n],I);if((!C||!w||w===b)&&(w=I.prototype,C))for(n in D)o[n]&&f(o[n].prototype,w);if(C&&h(E)!==w&&f(E,w),a&&!l(w,T))for(n in P=!0,p(w,T,{get:function(){return s(this)?this[S]:void 0}}),D)o[n]&&d(o[n],S,n);e.exports={NATIVE_ARRAY_BUFFER_VIEWS:C,TYPED_ARRAY_TAG:P&&S,aTypedArray:function(e){if(k(e))return e;throw TypeError("Target is not a typed array")},aTypedArrayConstructor:function(e){if(f){if(A.call(I,e))return e}else for(var t in D)if(l(D,n)){var i=o[t];if(i&&(e===i||A.call(i,e)))return e}throw TypeError("Target is not a typed array constructor")},exportTypedArrayMethod:function(e,t,i){if(a){if(i)for(var n in D){var r=o[n];if(r&&l(r.prototype,e))try{delete r.prototype[e]}catch(e){}}w[e]&&!i||u(w,e,i?t:C&&m[e]||t)}},exportTypedArrayStaticMethod:function(e,t,i){var n,r;if(a){if(f){if(i)for(n in D)if((r=o[n])&&l(r,e))try{delete r[e]}catch(e){}if(I[e]&&!i)return;try{return u(I,e,i?t:C&&I[e]||t)}catch(e){}}for(n in D)!(r=o[n])||r[e]&&!i||u(r,e,t)}},isView:function(e){if(!s(e))return!1;var t=c(e);return"DataView"===t||l(D,t)||l(O,t)},isTypedArray:k,TypedArray:I,TypedArrayPrototype:w}},3816:(e,t,i)=>{"use strict";var n=i(9859),r=i(7400),a=i(3339),o=i(5762),s=i(8787),l=i(4229),c=i(7728),d=i(6051),u=i(4237),p=i(7331),h=i(6201),f=i(7567),y=i(6540),_=i(8151).f,g=i(1787).f,m=i(7065),v=i(4555),E=i(6407),I=E.get,w=E.set,b="ArrayBuffer",A="DataView",T="Wrong index",S=n.ArrayBuffer,C=S,P=n.DataView,D=P&&P.prototype,O=Object.prototype,k=n.RangeError,x=h.pack,R=h.unpack,N=function(e){return[255&e]},M=function(e){return[255&e,e>>8&255]},L=function(e){return[255&e,e>>8&255,e>>16&255,e>>24&255]},F=function(e){return e[3]<<24|e[2]<<16|e[1]<<8|e[0]},j=function(e){return x(e,23,4)},W=function(e){return x(e,52,8)},U=function(e,t){g(e.prototype,t,{get:function(){return I(this)[t]}})},V=function(e,t,i,n){var r=p(i),a=I(e);if(r+t>a.byteLength)throw k(T);var o=I(a.buffer).bytes,s=r+a.byteOffset,l=o.slice(s,s+t);return n?l:l.reverse()},B=function(e,t,i,n,r,a){var o=p(i),s=I(e);if(o+t>s.byteLength)throw k(T);for(var l=I(s.buffer).bytes,c=o+s.byteOffset,d=n(+r),u=0;u<t;u++)l[c+u]=d[a?u:t-u-1]};if(a){if(!l((function(){S(1)}))||!l((function(){new S(-1)}))||l((function(){return new S,new S(1.5),new S(NaN),S.name!=b}))){for(var Z,G=(C=function(e){return c(this,C),new S(p(e))}).prototype=S.prototype,H=_(S),$=0;H.length>$;)(Z=H[$++])in C||o(C,Z,S[Z]);G.constructor=C}y&&f(D)!==O&&y(D,O);var Y=new P(new C(2)),z=D.setInt8;Y.setInt8(0,2147483648),Y.setInt8(1,2147483649),!Y.getInt8(0)&&Y.getInt8(1)||s(D,{setInt8:function(e,t){z.call(this,e,t<<24>>24)},setUint8:function(e,t){z.call(this,e,t<<24>>24)}},{unsafe:!0})}else C=function(e){c(this,C,b);var t=p(e);w(this,{bytes:m.call(new Array(t),0),byteLength:t}),r||(this.byteLength=t)},P=function(e,t,i){c(this,P,A),c(e,C,A);var n=I(e).byteLength,a=d(t);if(a<0||a>n)throw k("Wrong offset");if(a+(i=void 0===i?n-a:u(i))>n)throw k("Wrong length");w(this,{buffer:e,byteLength:i,byteOffset:a}),r||(this.buffer=e,this.byteLength=i,this.byteOffset=a)},r&&(U(C,"byteLength"),U(P,"buffer"),U(P,"byteLength"),U(P,"byteOffset")),s(P.prototype,{getInt8:function(e){return V(this,1,e)[0]<<24>>24},getUint8:function(e){return V(this,1,e)[0]},getInt16:function(e){var t=V(this,2,e,arguments.length>1?arguments[1]:void 0);return(t[1]<<8|t[0])<<16>>16},getUint16:function(e){var t=V(this,2,e,arguments.length>1?arguments[1]:void 0);return t[1]<<8|t[0]},getInt32:function(e){return F(V(this,4,e,arguments.length>1?arguments[1]:void 0))},getUint32:function(e){return F(V(this,4,e,arguments.length>1?arguments[1]:void 0))>>>0},getFloat32:function(e){return R(V(this,4,e,arguments.length>1?arguments[1]:void 0),23)},getFloat64:function(e){return R(V(this,8,e,arguments.length>1?arguments[1]:void 0),52)},setInt8:function(e,t){B(this,1,e,N,t)},setUint8:function(e,t){B(this,1,e,N,t)},setInt16:function(e,t){B(this,2,e,M,t,arguments.length>2?arguments[2]:void 0)},setUint16:function(e,t){B(this,2,e,M,t,arguments.length>2?arguments[2]:void 0)},setInt32:function(e,t){B(this,4,e,L,t,arguments.length>2?arguments[2]:void 0)},setUint32:function(e,t){B(this,4,e,L,t,arguments.length>2?arguments[2]:void 0)},setFloat32:function(e,t){B(this,4,e,j,t,arguments.length>2?arguments[2]:void 0)},setFloat64:function(e,t){B(this,8,e,W,t,arguments.length>2?arguments[2]:void 0)}});v(C,b),v(P,A),e.exports={ArrayBuffer:C,DataView:P}},7065:(e,t,i)=>{"use strict";var n=i(2991),r=i(3231),a=i(4237);e.exports=function(e){for(var t=n(this),i=a(t.length),o=arguments.length,s=r(o>1?arguments[1]:void 0,i),l=o>2?arguments[2]:void 0,c=void 0===l?i:r(l,i);c>s;)t[s++]=e;return t}},9540:(e,t,i)=>{var n=i(905),r=i(4237),a=i(3231),o=function(e){return function(t,i,o){var s,l=n(t),c=r(l.length),d=a(o,c);if(e&&i!=i){for(;c>d;)if((s=l[d++])!=s)return!0}else for(;c>d;d++)if((e||d in l)&&l[d]===i)return e||d||0;return!e&&-1}};e.exports={includes:o(!0),indexOf:o(!1)}},9996:(e,t,i)=>{var n=i(7636),r=i(9337),a=i(2991),o=i(4237),s=i(7501),l=[].push,c=function(e){var t=1==e,i=2==e,c=3==e,d=4==e,u=6==e,p=7==e,h=5==e||u;return function(f,y,_,g){for(var m,v,E=a(f),I=r(E),w=n(y,_,3),b=o(I.length),A=0,T=g||s,S=t?T(f,b):i||p?T(f,0):void 0;b>A;A++)if((h||A in I)&&(v=w(m=I[A],A,E),e))if(t)S[A]=v;else if(v)switch(e){case 3:return!0;case 5:return m;case 6:return A;case 2:l.call(S,m)}else switch(e){case 4:return!1;case 7:l.call(S,m)}return u?-1:c||d?d:S}};e.exports={forEach:c(0),map:c(1),filter:c(2),some:c(3),every:c(4),find:c(5),findIndex:c(6),filterOut:c(7)}},6038:(e,t,i)=>{"use strict";var n=i(4229);e.exports=function(e,t){var i=[][e];return!!i&&n((function(){i.call(null,t||function(){throw 1},1)}))}},3143:(e,t,i)=>{var n=i(3819),r=i(2991),a=i(9337),o=i(4237),s=function(e){return function(t,i,s,l){n(i);var c=r(t),d=a(c),u=o(c.length),p=e?u-1:0,h=e?-1:1;if(s<2)for(;;){if(p in d){l=d[p],p+=h;break}if(p+=h,e?p<0:u<=p)throw TypeError("Reduce of empty array with no initial value")}for(;e?p>=0:u>p;p+=h)p in d&&(l=i(l,d[p],p,c));return l}};e.exports={left:s(!1),right:s(!0)}},3867:e=>{var t=Math.floor,i=function(e,a){var o=e.length,s=t(o/2);return o<8?n(e,a):r(i(e.slice(0,s),a),i(e.slice(s),a),a)},n=function(e,t){for(var i,n,r=e.length,a=1;a<r;){for(n=a,i=e[a];n&&t(e[n-1],i)>0;)e[n]=e[--n];n!==a++&&(e[n]=i)}return e},r=function(e,t,i){for(var n=e.length,r=t.length,a=0,o=0,s=[];a<n||o<r;)a<n&&o<r?s.push(i(e[a],t[o])<=0?e[a++]:t[o++]):s.push(a<n?e[a++]:t[o++]);return s};e.exports=i},7501:(e,t,i)=>{var n=i(5052),r=i(3718),a=i(95)("species");e.exports=function(e,t){var i;return r(e)&&("function"!=typeof(i=e.constructor)||i!==Array&&!r(i.prototype)?n(i)&&null===(i=i[a])&&(i=void 0):i=void 0),new(void 0===i?Array:i)(0===t?0:t)}},4575:(e,t,i)=>{var n=i(95)("iterator"),r=!1;try{var a=0,o={next:function(){return{done:!!a++}},return:function(){r=!0}};o[n]=function(){return this},Array.from(o,(function(){throw 2}))}catch(e){}e.exports=function(e,t){if(!t&&!r)return!1;var i=!1;try{var a={};a[n]=function(){return{next:function(){return{done:i=!0}}}},e(a)}catch(e){}return i}},7079:e=>{var t={}.toString;e.exports=function(e){return t.call(e).slice(8,-1)}},1589:(e,t,i)=>{var n=i(1601),r=i(7079),a=i(95)("toStringTag"),o="Arguments"==r(function(){return arguments}());e.exports=n?r:function(e){var t,i,n;return void 0===e?"Undefined":null===e?"Null":"string"==typeof(i=function(e,t){try{return e[t]}catch(e){}}(t=Object(e),a))?i:o?r(t):"Object"==(n=r(t))&&"function"==typeof t.callee?"Arguments":n}},7081:(e,t,i)=>{var n=i(816),r=i(4826),a=i(7933),o=i(1787);e.exports=function(e,t){for(var i=r(t),s=o.f,l=a.f,c=0;c<i.length;c++){var d=i[c];n(e,d)||s(e,d,l(t,d))}}},7528:(e,t,i)=>{var n=i(4229);e.exports=!n((function(){function e(){}return e.prototype.constructor=null,Object.getPrototypeOf(new e)!==e.prototype}))},3723:(e,t,i)=>{"use strict";var n=i(693).IteratorPrototype,r=i(2391),a=i(5358),o=i(4555),s=i(5495),l=function(){return this};e.exports=function(e,t,i){var c=t+" Iterator";return e.prototype=r(n,{next:a(1,i)}),o(e,c,!1,!0),s[c]=l,e}},5762:(e,t,i)=>{var n=i(7400),r=i(1787),a=i(5358);e.exports=n?function(e,t,i){return r.f(e,t,a(1,i))}:function(e,t,i){return e[t]=i,e}},5358:e=>{e.exports=function(e,t){return{enumerable:!(1&e),configurable:!(2&e),writable:!(4&e),value:t}}},2324:(e,t,i)=>{"use strict";var n=i(2066),r=i(1787),a=i(5358);e.exports=function(e,t,i){var o=n(t);o in e?r.f(e,o,a(0,i)):e[o]=i}},7675:(e,t,i)=>{"use strict";var n=i(3103),r=i(3723),a=i(7567),o=i(6540),s=i(4555),l=i(5762),c=i(7487),d=i(95),u=i(4231),p=i(5495),h=i(693),f=h.IteratorPrototype,y=h.BUGGY_SAFARI_ITERATORS,_=d("iterator"),g="keys",m="values",v="entries",E=function(){return this};e.exports=function(e,t,i,d,h,I,w){r(i,t,d);var b,A,T,S=function(e){if(e===h&&k)return k;if(!y&&e in D)return D[e];switch(e){case g:case m:case v:return function(){return new i(this,e)}}return function(){return new i(this)}},C=t+" Iterator",P=!1,D=e.prototype,O=D[_]||D["@@iterator"]||h&&D[h],k=!y&&O||S(h),x="Array"==t&&D.entries||O;if(x&&(b=a(x.call(new e)),f!==Object.prototype&&b.next&&(u||a(b)===f||(o?o(b,f):"function"!=typeof b[_]&&l(b,_,E)),s(b,C,!0,!0),u&&(p[C]=E))),h==m&&O&&O.name!==m&&(P=!0,k=function(){return O.call(this)}),u&&!w||D[_]===k||l(D,_,k),p[t]=k,h)if(A={values:S(m),keys:I?k:S(g),entries:S(v)},w)for(T in A)(y||P||!(T in D))&&c(D,T,A[T]);else n({target:t,proto:!0,forced:y||P},A);return A}},8423:(e,t,i)=>{var n=i(9276),r=i(816),a=i(5391),o=i(1787).f;e.exports=function(e){var t=n.Symbol||(n.Symbol={});r(t,e)||o(t,e,{value:a.f(e)})}},7400:(e,t,i)=>{var n=i(4229);e.exports=!n((function(){return 7!=Object.defineProperty({},1,{get:function(){return 7}})[1]}))},2635:(e,t,i)=>{var n=i(9859),r=i(5052),a=n.document,o=r(a)&&r(a.createElement);e.exports=function(e){return o?a.createElement(e):{}}},5694:e=>{e.exports={CSSRuleList:0,CSSStyleDeclaration:0,CSSValueList:0,ClientRectList:0,DOMRectList:0,DOMStringList:0,DOMTokenList:1,DataTransferItemList:0,FileList:0,HTMLAllCollection:0,HTMLCollection:0,HTMLFormElement:0,HTMLSelectElement:0,MediaList:0,MimeTypeArray:0,NamedNodeMap:0,NodeList:1,PaintRequestList:0,Plugin:0,PluginArray:0,SVGLengthList:0,SVGNumberList:0,SVGPathSegList:0,SVGPointList:0,SVGStringList:0,SVGTransformList:0,SourceBufferList:0,StyleSheetList:0,TextTrackCueList:0,TextTrackList:0,TouchList:0}},2671:(e,t,i)=>{var n=i(598).match(/firefox\/(\d+)/i);e.exports=!!n&&+n[1]},8639:e=>{e.exports="object"==typeof window},8506:(e,t,i)=>{var n=i(598);e.exports=/MSIE|Trident/.test(n)},2023:(e,t,i)=>{var n=i(598);e.exports=/(?:iphone|ipod|ipad).*applewebkit/i.test(n)},8801:(e,t,i)=>{var n=i(7079),r=i(9859);e.exports="process"==n(r.process)},263:(e,t,i)=>{var n=i(598);e.exports=/web0s(?!.*chrome)/i.test(n)},598:(e,t,i)=>{var n=i(1333);e.exports=n("navigator","userAgent")||""},6358:(e,t,i)=>{var n,r,a=i(9859),o=i(598),s=a.process,l=s&&s.versions,c=l&&l.v8;c?r=(n=c.split("."))[0]<4?1:n[0]+n[1]:o&&(!(n=o.match(/Edge\/(\d+)/))||n[1]>=74)&&(n=o.match(/Chrome\/(\d+)/))&&(r=n[1]),e.exports=r&&+r},9811:(e,t,i)=>{var n=i(598).match(/AppleWebKit\/(\d+)\./);e.exports=!!n&&+n[1]},3837:e=>{e.exports=["constructor","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","toLocaleString","toString","valueOf"]},3103:(e,t,i)=>{var n=i(9859),r=i(7933).f,a=i(5762),o=i(7487),s=i(2079),l=i(7081),c=i(6541);e.exports=function(e,t){var i,d,u,p,h,f=e.target,y=e.global,_=e.stat;if(i=y?n:_?n[f]||s(f,{}):(n[f]||{}).prototype)for(d in t){if(p=t[d],u=e.noTargetGet?(h=r(i,d))&&h.value:i[d],!c(y?d:f+(_?".":"#")+d,e.forced)&&void 0!==u){if(typeof p==typeof u)continue;l(p,u)}(e.sham||u&&u.sham)&&a(p,"sham",!0),o(i,d,p,e)}}},4229:e=>{e.exports=function(e){try{return!!e()}catch(e){return!0}}},4954:(e,t,i)=>{"use strict";i(7950);var n=i(7487),r=i(3466),a=i(4229),o=i(95),s=i(5762),l=o("species"),c=RegExp.prototype;e.exports=function(e,t,i,d){var u=o(e),p=!a((function(){var t={};return t[u]=function(){return 7},7!=""[e](t)})),h=p&&!a((function(){var t=!1,i=/a/;return"split"===e&&((i={}).constructor={},i.constructor[l]=function(){return i},i.flags="",i[u]=/./[u]),i.exec=function(){return t=!0,null},i[u](""),!t}));if(!p||!h||i){var f=/./[u],y=t(u,""[e],(function(e,t,i,n,a){var o=t.exec;return o===r||o===c.exec?p&&!a?{done:!0,value:f.call(t,i,n)}:{done:!0,value:e.call(i,t,n)}:{done:!1}}));n(String.prototype,e,y[0]),n(c,u,y[1])}d&&s(c[u],"sham",!0)}},4990:(e,t,i)=>{"use strict";var n=i(3718),r=i(4237),a=i(7636),o=function(e,t,i,s,l,c,d,u){for(var p,h=l,f=0,y=!!d&&a(d,u,3);f<s;){if(f in i){if(p=y?y(i[f],f,t):i[f],c>0&&n(p))h=o(e,t,p,r(p.length),h,c-1)-1;else{if(h>=9007199254740991)throw TypeError("Exceed the acceptable array length");e[h]=p}h++}f++}return h};e.exports=o},7636:(e,t,i)=>{var n=i(3819);e.exports=function(e,t,i){if(n(e),void 0===t)return e;switch(i){case 0:return function(){return e.call(t)};case 1:return function(i){return e.call(t,i)};case 2:return function(i,n){return e.call(t,i,n)};case 3:return function(i,n,r){return e.call(t,i,n,r)}}return function(){return e.apply(t,arguments)}}},1333:(e,t,i)=>{var n=i(9276),r=i(9859),a=function(e){return"function"==typeof e?e:void 0};e.exports=function(e,t){return arguments.length<2?a(n[e])||a(r[e]):n[e]&&n[e][t]||r[e]&&r[e][t]}},8830:(e,t,i)=>{var n=i(1589),r=i(5495),a=i(95)("iterator");e.exports=function(e){if(null!=e)return e[a]||e["@@iterator"]||r[n(e)]}},17:(e,t,i)=>{var n=i(2991),r=Math.floor,a="".replace,o=/\$([$&'`]|\d{1,2}|<[^>]*>)/g,s=/\$([$&'`]|\d{1,2})/g;e.exports=function(e,t,i,l,c,d){var u=i+e.length,p=l.length,h=s;return void 0!==c&&(c=n(c),h=o),a.call(d,h,(function(n,a){var o;switch(a.charAt(0)){case"$":return"$";case"&":return e;case"`":return t.slice(0,i);case"'":return t.slice(u);case"<":o=c[a.slice(1,-1)];break;default:var s=+a;if(0===s)return n;if(s>p){var d=r(s/10);return 0===d?n:d<=p?void 0===l[d-1]?a.charAt(1):l[d-1]+a.charAt(1):n}o=l[s-1]}return void 0===o?"":o}))}},9859:(e,t,i)=>{var n=function(e){return e&&e.Math==Math&&e};e.exports=n("object"==typeof globalThis&&globalThis)||n("object"==typeof window&&window)||n("object"==typeof self&&self)||n("object"==typeof i.g&&i.g)||function(){return this}()||Function("return this")()},816:(e,t,i)=>{var n=i(2991),r={}.hasOwnProperty;e.exports=Object.hasOwn||function(e,t){return r.call(n(e),t)}},5977:e=>{e.exports={}},4665:(e,t,i)=>{var n=i(9859);e.exports=function(e,t){var i=n.console;i&&i.error&&(1===arguments.length?i.error(e):i.error(e,t))}},3777:(e,t,i)=>{var n=i(1333);e.exports=n("document","documentElement")},4394:(e,t,i)=>{var n=i(7400),r=i(4229),a=i(2635);e.exports=!n&&!r((function(){return 7!=Object.defineProperty(a("div"),"a",{get:function(){return 7}}).a}))},6201:e=>{var t=Math.abs,i=Math.pow,n=Math.floor,r=Math.log,a=Math.LN2;e.exports={pack:function(e,o,s){var l,c,d,u=new Array(s),p=8*s-o-1,h=(1<<p)-1,f=h>>1,y=23===o?i(2,-24)-i(2,-77):0,_=e<0||0===e&&1/e<0?1:0,g=0;for((e=t(e))!=e||e===1/0?(c=e!=e?1:0,l=h):(l=n(r(e)/a),e*(d=i(2,-l))<1&&(l--,d*=2),(e+=l+f>=1?y/d:y*i(2,1-f))*d>=2&&(l++,d/=2),l+f>=h?(c=0,l=h):l+f>=1?(c=(e*d-1)*i(2,o),l+=f):(c=e*i(2,f-1)*i(2,o),l=0));o>=8;u[g++]=255&c,c/=256,o-=8);for(l=l<<o|c,p+=o;p>0;u[g++]=255&l,l/=256,p-=8);return u[--g]|=128*_,u},unpack:function(e,t){var n,r=e.length,a=8*r-t-1,o=(1<<a)-1,s=o>>1,l=a-7,c=r-1,d=e[c--],u=127&d;for(d>>=7;l>0;u=256*u+e[c],c--,l-=8);for(n=u&(1<<-l)-1,u>>=-l,l+=t;l>0;n=256*n+e[c],c--,l-=8);if(0===u)u=1-s;else{if(u===o)return n?NaN:d?-1/0:1/0;n+=i(2,t),u-=s}return(d?-1:1)*n*i(2,u-t)}}},9337:(e,t,i)=>{var n=i(4229),r=i(7079),a="".split;e.exports=n((function(){return!Object("z").propertyIsEnumerable(0)}))?function(e){return"String"==r(e)?a.call(e,""):Object(e)}:Object},835:(e,t,i)=>{var n=i(5052),r=i(6540);e.exports=function(e,t,i){var a,o;return r&&"function"==typeof(a=t.constructor)&&a!==i&&n(o=a.prototype)&&o!==i.prototype&&r(e,o),e}},8511:(e,t,i)=>{var n=i(5353),r=Function.toString;"function"!=typeof n.inspectSource&&(n.inspectSource=function(e){return r.call(e)}),e.exports=n.inspectSource},6407:(e,t,i)=>{var n,r,a,o=i(8694),s=i(9859),l=i(5052),c=i(5762),d=i(816),u=i(5353),p=i(4399),h=i(5977),f="Object already initialized",y=s.WeakMap;if(o||u.state){var _=u.state||(u.state=new y),g=_.get,m=_.has,v=_.set;n=function(e,t){if(m.call(_,e))throw new TypeError(f);return t.facade=e,v.call(_,e,t),t},r=function(e){return g.call(_,e)||{}},a=function(e){return m.call(_,e)}}else{var E=p("state");h[E]=!0,n=function(e,t){if(d(e,E))throw new TypeError(f);return t.facade=e,c(e,E,t),t},r=function(e){return d(e,E)?e[E]:{}},a=function(e){return d(e,E)}}e.exports={set:n,get:r,has:a,enforce:function(e){return a(e)?r(e):n(e,{})},getterFor:function(e){return function(t){var i;if(!l(t)||(i=r(t)).type!==e)throw TypeError("Incompatible receiver, "+e+" required");return i}}}},1943:(e,t,i)=>{var n=i(95),r=i(5495),a=n("iterator"),o=Array.prototype;e.exports=function(e){return void 0!==e&&(r.Array===e||o[a]===e)}},3718:(e,t,i)=>{var n=i(7079);e.exports=Array.isArray||function(e){return"Array"==n(e)}},6541:(e,t,i)=>{var n=i(4229),r=/#|\.prototype\./,a=function(e,t){var i=s[o(e)];return i==c||i!=l&&("function"==typeof t?n(t):!!t)},o=a.normalize=function(e){return String(e).replace(r,".").toLowerCase()},s=a.data={},l=a.NATIVE="N",c=a.POLYFILL="P";e.exports=a},5052:e=>{e.exports=function(e){return"object"==typeof e?null!==e:"function"==typeof e}},4231:e=>{e.exports=!1},8311:(e,t,i)=>{var n=i(5052),r=i(7079),a=i(95)("match");e.exports=function(e){var t;return n(e)&&(void 0!==(t=e[a])?!!t:"RegExp"==r(e))}},9003:(e,t,i)=>{var n=i(1176),r=i(1943),a=i(4237),o=i(7636),s=i(8830),l=i(7281),c=function(e,t){this.stopped=e,this.result=t};e.exports=function(e,t,i){var d,u,p,h,f,y,_,g=i&&i.that,m=!(!i||!i.AS_ENTRIES),v=!(!i||!i.IS_ITERATOR),E=!(!i||!i.INTERRUPTED),I=o(t,g,1+m+E),w=function(e){return d&&l(d),new c(!0,e)},b=function(e){return m?(n(e),E?I(e[0],e[1],w):I(e[0],e[1])):E?I(e,w):I(e)};if(v)d=e;else{if("function"!=typeof(u=s(e)))throw TypeError("Target is not iterable");if(r(u)){for(p=0,h=a(e.length);h>p;p++)if((f=b(e[p]))&&f instanceof c)return f;return new c(!1)}d=u.call(e)}for(y=d.next;!(_=y.call(d)).done;){try{f=b(_.value)}catch(e){throw l(d),e}if("object"==typeof f&&f&&f instanceof c)return f}return new c(!1)}},7281:(e,t,i)=>{var n=i(1176);e.exports=function(e){var t=e.return;if(void 0!==t)return n(t.call(e)).value}},693:(e,t,i)=>{"use strict";var n,r,a,o=i(4229),s=i(7567),l=i(5762),c=i(816),d=i(95),u=i(4231),p=d("iterator"),h=!1;[].keys&&("next"in(a=[].keys())?(r=s(s(a)))!==Object.prototype&&(n=r):h=!0);var f=null==n||o((function(){var e={};return n[p].call(e)!==e}));f&&(n={}),u&&!f||c(n,p)||l(n,p,(function(){return this})),e.exports={IteratorPrototype:n,BUGGY_SAFARI_ITERATORS:h}},5495:e=>{e.exports={}},9037:e=>{var t=Math.log;e.exports=Math.log1p||function(e){return(e=+e)>-1e-8&&e<1e-8?e-e*e/2:t(1+e)}},4794:(e,t,i)=>{var n,r,a,o,s,l,c,d,u=i(9859),p=i(7933).f,h=i(5795).set,f=i(2023),y=i(263),_=i(8801),g=u.MutationObserver||u.WebKitMutationObserver,m=u.document,v=u.process,E=u.Promise,I=p(u,"queueMicrotask"),w=I&&I.value;w||(n=function(){var e,t;for(_&&(e=v.domain)&&e.exit();r;){t=r.fn,r=r.next;try{t()}catch(e){throw r?o():a=void 0,e}}a=void 0,e&&e.enter()},f||_||y||!g||!m?E&&E.resolve?((c=E.resolve(void 0)).constructor=E,d=c.then,o=function(){d.call(c,n)}):o=_?function(){v.nextTick(n)}:function(){h.call(u,n)}:(s=!0,l=m.createTextNode(""),new g(n).observe(l,{characterData:!0}),o=function(){l.data=s=!s})),e.exports=w||function(e){var t={fn:e,next:void 0};a&&(a.next=t),r||(r=t,o()),a=t}},4226:(e,t,i)=>{var n=i(9859);e.exports=n.Promise},3839:(e,t,i)=>{var n=i(6358),r=i(4229);e.exports=!!Object.getOwnPropertySymbols&&!r((function(){var e=Symbol();return!String(e)||!(Object(e)instanceof Symbol)||!Symbol.sham&&n&&n<41}))},8694:(e,t,i)=>{var n=i(9859),r=i(8511),a=n.WeakMap;e.exports="function"==typeof a&&/native code/.test(r(a))},6485:(e,t,i)=>{"use strict";var n=i(3819),r=function(e){var t,i;this.promise=new e((function(e,n){if(void 0!==t||void 0!==i)throw TypeError("Bad Promise constructor");t=e,i=n})),this.resolve=n(t),this.reject=n(i)};e.exports.f=function(e){return new r(e)}},2391:(e,t,i)=>{var n,r=i(1176),a=i(219),o=i(3837),s=i(5977),l=i(3777),c=i(2635),d=i(4399),u=d("IE_PROTO"),p=function(){},h=function(e){return"<script>"+e+"</"+"script>"},f=function(){try{n=document.domain&&new ActiveXObject("htmlfile")}catch(e){}var e,t;f=n?function(e){e.write(h("")),e.close();var t=e.parentWindow.Object;return e=null,t}(n):((t=c("iframe")).style.display="none",l.appendChild(t),t.src=String("javascript:"),(e=t.contentWindow.document).open(),e.write(h("document.F=Object")),e.close(),e.F);for(var i=o.length;i--;)delete f.prototype[o[i]];return f()};s[u]=!0,e.exports=Object.create||function(e,t){var i;return null!==e?(p.prototype=r(e),i=new p,p.prototype=null,i[u]=e):i=f(),void 0===t?i:a(i,t)}},219:(e,t,i)=>{var n=i(7400),r=i(1787),a=i(1176),o=i(5632);e.exports=n?Object.defineProperties:function(e,t){a(e);for(var i,n=o(t),s=n.length,l=0;s>l;)r.f(e,i=n[l++],t[i]);return e}},1787:(e,t,i)=>{var n=i(7400),r=i(4394),a=i(1176),o=i(2066),s=Object.defineProperty;t.f=n?s:function(e,t,i){if(a(e),t=o(t,!0),a(i),r)try{return s(e,t,i)}catch(e){}if("get"in i||"set"in i)throw TypeError("Accessors not supported");return"value"in i&&(e[t]=i.value),e}},7933:(e,t,i)=>{var n=i(7400),r=i(9195),a=i(5358),o=i(905),s=i(2066),l=i(816),c=i(4394),d=Object.getOwnPropertyDescriptor;t.f=n?d:function(e,t){if(e=o(e),t=s(t,!0),c)try{return d(e,t)}catch(e){}if(l(e,t))return a(!r.f.call(e,t),e[t])}},8151:(e,t,i)=>{var n=i(140),r=i(3837).concat("length","prototype");t.f=Object.getOwnPropertyNames||function(e){return n(e,r)}},894:(e,t)=>{t.f=Object.getOwnPropertySymbols},7567:(e,t,i)=>{var n=i(816),r=i(2991),a=i(4399),o=i(7528),s=a("IE_PROTO"),l=Object.prototype;e.exports=o?Object.getPrototypeOf:function(e){return e=r(e),n(e,s)?e[s]:"function"==typeof e.constructor&&e instanceof e.constructor?e.constructor.prototype:e instanceof Object?l:null}},140:(e,t,i)=>{var n=i(816),r=i(905),a=i(9540).indexOf,o=i(5977);e.exports=function(e,t){var i,s=r(e),l=0,c=[];for(i in s)!n(o,i)&&n(s,i)&&c.push(i);for(;t.length>l;)n(s,i=t[l++])&&(~a(c,i)||c.push(i));return c}},5632:(e,t,i)=>{var n=i(140),r=i(3837);e.exports=Object.keys||function(e){return n(e,r)}},9195:(e,t)=>{"use strict";var i={}.propertyIsEnumerable,n=Object.getOwnPropertyDescriptor,r=n&&!i.call({1:2},1);t.f=r?function(e){var t=n(this,e);return!!t&&t.enumerable}:i},5020:(e,t,i)=>{"use strict";var n=i(4231),r=i(9859),a=i(4229),o=i(9811);e.exports=n||!a((function(){if(!(o&&o<535)){var e=Math.random();__defineSetter__.call(null,e,(function(){})),delete r[e]}}))},6540:(e,t,i)=>{var n=i(1176),r=i(8505);e.exports=Object.setPrototypeOf||("__proto__"in{}?function(){var e,t=!1,i={};try{(e=Object.getOwnPropertyDescriptor(Object.prototype,"__proto__").set).call(i,[]),t=i instanceof Array}catch(e){}return function(i,a){return n(i),r(a),t?e.call(i,a):i.__proto__=a,i}}():void 0)},7664:(e,t,i)=>{var n=i(7400),r=i(5632),a=i(905),o=i(9195).f,s=function(e){return function(t){for(var i,s=a(t),l=r(s),c=l.length,d=0,u=[];c>d;)i=l[d++],n&&!o.call(s,i)||u.push(e?[i,s[i]]:s[i]);return u}};e.exports={entries:s(!0),values:s(!1)}},4826:(e,t,i)=>{var n=i(1333),r=i(8151),a=i(894),o=i(1176);e.exports=n("Reflect","ownKeys")||function(e){var t=r.f(o(e)),i=a.f;return i?t.concat(i(e)):t}},9276:(e,t,i)=>{var n=i(9859);e.exports=n},4624:e=>{e.exports=function(e){try{return{error:!1,value:e()}}catch(e){return{error:!0,value:e}}}},7757:(e,t,i)=>{var n=i(1176),r=i(5052),a=i(6485);e.exports=function(e,t){if(n(e),r(t)&&t.constructor===e)return t;var i=a.f(e);return(0,i.resolve)(t),i.promise}},8787:(e,t,i)=>{var n=i(7487);e.exports=function(e,t,i){for(var r in t)n(e,r,t[r],i);return e}},7487:(e,t,i)=>{var n=i(9859),r=i(5762),a=i(816),o=i(2079),s=i(8511),l=i(6407),c=l.get,d=l.enforce,u=String(String).split("String");(e.exports=function(e,t,i,s){var l,c=!!s&&!!s.unsafe,p=!!s&&!!s.enumerable,h=!!s&&!!s.noTargetGet;"function"==typeof i&&("string"!=typeof t||a(i,"name")||r(i,"name",t),(l=d(i)).source||(l.source=u.join("string"==typeof t?t:""))),e!==n?(c?!h&&e[t]&&(p=!0):delete e[t],p?e[t]=i:r(e,t,i)):p?e[t]=i:o(t,i)})(Function.prototype,"toString",(function(){return"function"==typeof this&&c(this).source||s(this)}))},8115:(e,t,i)=>{var n=i(7079),r=i(3466);e.exports=function(e,t){var i=e.exec;if("function"==typeof i){var a=i.call(e,t);if("object"!=typeof a)throw TypeError("RegExp exec method returned something other than an Object or null");return a}if("RegExp"!==n(e))throw TypeError("RegExp#exec called on incompatible receiver");return r.call(e,t)}},3466:(e,t,i)=>{"use strict";var n,r,a=i(895),o=i(5650),s=i(3036),l=i(2391),c=i(6407).get,d=i(2926),u=i(461),p=RegExp.prototype.exec,h=s("native-string-replace",String.prototype.replace),f=p,y=(n=/a/,r=/b*/g,p.call(n,"a"),p.call(r,"a"),0!==n.lastIndex||0!==r.lastIndex),_=o.UNSUPPORTED_Y||o.BROKEN_CARET,g=void 0!==/()??/.exec("")[1];(y||g||_||d||u)&&(f=function(e){var t,i,n,r,o,s,d,u=this,m=c(u),v=m.raw;if(v)return v.lastIndex=u.lastIndex,t=f.call(v,e),u.lastIndex=v.lastIndex,t;var E=m.groups,I=_&&u.sticky,w=a.call(u),b=u.source,A=0,T=e;if(I&&(-1===(w=w.replace("y","")).indexOf("g")&&(w+="g"),T=String(e).slice(u.lastIndex),u.lastIndex>0&&(!u.multiline||u.multiline&&"\n"!==e[u.lastIndex-1])&&(b="(?: "+b+")",T=" "+T,A++),i=new RegExp("^(?:"+b+")",w)),g&&(i=new RegExp("^"+b+"$(?!\\s)",w)),y&&(n=u.lastIndex),r=p.call(I?i:u,T),I?r?(r.input=r.input.slice(A),r[0]=r[0].slice(A),r.index=u.lastIndex,u.lastIndex+=r[0].length):u.lastIndex=0:y&&r&&(u.lastIndex=u.global?r.index+r[0].length:n),g&&r&&r.length>1&&h.call(r[0],i,(function(){for(o=1;o<arguments.length-2;o++)void 0===arguments[o]&&(r[o]=void 0)})),r&&E)for(r.groups=s=l(null),o=0;o<E.length;o++)s[(d=E[o])[0]]=r[d[1]];return r}),e.exports=f},895:(e,t,i)=>{"use strict";var n=i(1176);e.exports=function(){var e=n(this),t="";return e.global&&(t+="g"),e.ignoreCase&&(t+="i"),e.multiline&&(t+="m"),e.dotAll&&(t+="s"),e.unicode&&(t+="u"),e.sticky&&(t+="y"),t}},5650:(e,t,i)=>{var n=i(4229),r=function(e,t){return RegExp(e,t)};t.UNSUPPORTED_Y=n((function(){var e=r("a","y");return e.lastIndex=2,null!=e.exec("abcd")})),t.BROKEN_CARET=n((function(){var e=r("^r","gy");return e.lastIndex=2,null!=e.exec("str")}))},2926:(e,t,i)=>{var n=i(4229);e.exports=n((function(){var e=RegExp(".","string".charAt(0));return!(e.dotAll&&e.exec("\n")&&"s"===e.flags)}))},461:(e,t,i)=>{var n=i(4229);e.exports=n((function(){var e=RegExp("(?<a>b)","string".charAt(5));return"b"!==e.exec("b").groups.a||"bc"!=="b".replace(e,"$<a>c")}))},8885:e=>{e.exports=function(e){if(null==e)throw TypeError("Can't call method on "+e);return e}},2079:(e,t,i)=>{var n=i(9859),r=i(5762);e.exports=function(e,t){try{r(n,e,t)}catch(i){n[e]=t}return t}},1832:(e,t,i)=>{"use strict";var n=i(1333),r=i(1787),a=i(95),o=i(7400),s=a("species");e.exports=function(e){var t=n(e),i=r.f;o&&t&&!t[s]&&i(t,s,{configurable:!0,get:function(){return this}})}},4555:(e,t,i)=>{var n=i(1787).f,r=i(816),a=i(95)("toStringTag");e.exports=function(e,t,i){e&&!r(e=i?e:e.prototype,a)&&n(e,a,{configurable:!0,value:t})}},4399:(e,t,i)=>{var n=i(3036),r=i(1441),a=n("keys");e.exports=function(e){return a[e]||(a[e]=r(e))}},5353:(e,t,i)=>{var n=i(9859),r=i(2079),a="__core-js_shared__",o=n[a]||r(a,{});e.exports=o},3036:(e,t,i)=>{var n=i(4231),r=i(5353);(e.exports=function(e,t){return r[e]||(r[e]=void 0!==t?t:{})})("versions",[]).push({version:"3.15.1",mode:n?"pure":"global",copyright:"© 2021 Denis Pushkarev (zloirock.ru)"})},7942:(e,t,i)=>{var n=i(1176),r=i(3819),a=i(95)("species");e.exports=function(e,t){var i,o=n(e).constructor;return void 0===o||null==(i=n(o)[a])?t:r(i)}},966:(e,t,i)=>{var n=i(6051),r=i(8885),a=function(e){return function(t,i){var a,o,s=String(r(t)),l=n(i),c=s.length;return l<0||l>=c?e?"":void 0:(a=s.charCodeAt(l))<55296||a>56319||l+1===c||(o=s.charCodeAt(l+1))<56320||o>57343?e?s.charAt(l):a:e?s.slice(l,l+2):o-56320+(a-55296<<10)+65536}};e.exports={codeAt:a(!1),charAt:a(!0)}},7456:(e,t,i)=>{var n=i(598);e.exports=/Version\/10(?:\.\d+){1,2}(?: [\w./]+)?(?: Mobile\/\w+)? Safari\//.test(n)},6650:(e,t,i)=>{var n=i(4237),r=i(3124),a=i(8885),o=Math.ceil,s=function(e){return function(t,i,s){var l,c,d=String(a(t)),u=d.length,p=void 0===s?" ":String(s),h=n(i);return h<=u||""==p?d:(l=h-u,(c=r.call(p,o(l/p.length))).length>l&&(c=c.slice(0,l)),e?d+c:c+d)}};e.exports={start:s(!1),end:s(!0)}},3124:(e,t,i)=>{"use strict";var n=i(6051),r=i(8885);e.exports=function(e){var t=String(r(this)),i="",a=n(e);if(a<0||a==1/0)throw RangeError("Wrong number of repetitions");for(;a>0;(a>>>=1)&&(t+=t))1&a&&(i+=t);return i}},9445:(e,t,i)=>{var n=i(4229),r=i(1647);e.exports=function(e){return n((function(){return!!r[e]()||"​᠎"!="​᠎"[e]()||r[e].name!==e}))}},1017:(e,t,i)=>{var n=i(8885),r="["+i(1647)+"]",a=RegExp("^"+r+r+"*"),o=RegExp(r+r+"*$"),s=function(e){return function(t){var i=String(n(t));return 1&e&&(i=i.replace(a,"")),2&e&&(i=i.replace(o,"")),i}};e.exports={start:s(1),end:s(2),trim:s(3)}},5795:(e,t,i)=>{var n,r,a,o=i(9859),s=i(4229),l=i(7636),c=i(3777),d=i(2635),u=i(2023),p=i(8801),h=o.location,f=o.setImmediate,y=o.clearImmediate,_=o.process,g=o.MessageChannel,m=o.Dispatch,v=0,E={},I="onreadystatechange",w=function(e){if(E.hasOwnProperty(e)){var t=E[e];delete E[e],t()}},b=function(e){return function(){w(e)}},A=function(e){w(e.data)},T=function(e){o.postMessage(e+"",h.protocol+"//"+h.host)};f&&y||(f=function(e){for(var t=[],i=1;arguments.length>i;)t.push(arguments[i++]);return E[++v]=function(){("function"==typeof e?e:Function(e)).apply(void 0,t)},n(v),v},y=function(e){delete E[e]},p?n=function(e){_.nextTick(b(e))}:m&&m.now?n=function(e){m.now(b(e))}:g&&!u?(a=(r=new g).port2,r.port1.onmessage=A,n=l(a.postMessage,a,1)):o.addEventListener&&"function"==typeof postMessage&&!o.importScripts&&h&&"file:"!==h.protocol&&!s(T)?(n=T,o.addEventListener("message",A,!1)):n=I in d("script")?function(e){c.appendChild(d("script")).onreadystatechange=function(){c.removeChild(this),w(e)}}:function(e){setTimeout(b(e),0)}),e.exports={set:f,clear:y}},3231:(e,t,i)=>{var n=i(6051),r=Math.max,a=Math.min;e.exports=function(e,t){var i=n(e);return i<0?r(i+t,0):a(i,t)}},7331:(e,t,i)=>{var n=i(6051),r=i(4237);e.exports=function(e){if(void 0===e)return 0;var t=n(e),i=r(t);if(t!==i)throw RangeError("Wrong length or index");return i}},905:(e,t,i)=>{var n=i(9337),r=i(8885);e.exports=function(e){return n(r(e))}},6051:e=>{var t=Math.ceil,i=Math.floor;e.exports=function(e){return isNaN(e=+e)?0:(e>0?i:t)(e)}},4237:(e,t,i)=>{var n=i(6051),r=Math.min;e.exports=function(e){return e>0?r(n(e),9007199254740991):0}},2991:(e,t,i)=>{var n=i(8885);e.exports=function(e){return Object(n(e))}},4262:(e,t,i)=>{var n=i(2002);e.exports=function(e,t){var i=n(e);if(i%t)throw RangeError("Wrong offset");return i}},2002:(e,t,i)=>{var n=i(6051);e.exports=function(e){var t=n(e);if(t<0)throw RangeError("The argument can't be less than 0");return t}},2066:(e,t,i)=>{var n=i(5052);e.exports=function(e,t){if(!n(e))return e;var i,r;if(t&&"function"==typeof(i=e.toString)&&!n(r=i.call(e)))return r;if("function"==typeof(i=e.valueOf)&&!n(r=i.call(e)))return r;if(!t&&"function"==typeof(i=e.toString)&&!n(r=i.call(e)))return r;throw TypeError("Can't convert object to primitive value")}},1601:(e,t,i)=>{var n={};n[i(95)("toStringTag")]="z",e.exports="[object z]"===String(n)},2574:(e,t,i)=>{"use strict";var n=i(3103),r=i(9859),a=i(7400),o=i(8200),s=i(9918),l=i(3816),c=i(7728),d=i(5358),u=i(5762),p=i(4237),h=i(7331),f=i(4262),y=i(2066),_=i(816),g=i(1589),m=i(5052),v=i(2391),E=i(6540),I=i(8151).f,w=i(5215),b=i(9996).forEach,A=i(1832),T=i(1787),S=i(7933),C=i(6407),P=i(835),D=C.get,O=C.set,k=T.f,x=S.f,R=Math.round,N=r.RangeError,M=l.ArrayBuffer,L=l.DataView,F=s.NATIVE_ARRAY_BUFFER_VIEWS,j=s.TYPED_ARRAY_TAG,W=s.TypedArray,U=s.TypedArrayPrototype,V=s.aTypedArrayConstructor,B=s.isTypedArray,Z="BYTES_PER_ELEMENT",G="Wrong length",H=function(e,t){for(var i=0,n=t.length,r=new(V(e))(n);n>i;)r[i]=t[i++];return r},$=function(e,t){k(e,t,{get:function(){return D(this)[t]}})},Y=function(e){var t;return e instanceof M||"ArrayBuffer"==(t=g(e))||"SharedArrayBuffer"==t},z=function(e,t){return B(e)&&"symbol"!=typeof t&&t in e&&String(+t)==String(t)},q=function(e,t){return z(e,t=y(t,!0))?d(2,e[t]):x(e,t)},K=function(e,t,i){return!(z(e,t=y(t,!0))&&m(i)&&_(i,"value"))||_(i,"get")||_(i,"set")||i.configurable||_(i,"writable")&&!i.writable||_(i,"enumerable")&&!i.enumerable?k(e,t,i):(e[t]=i.value,e)};a?(F||(S.f=q,T.f=K,$(U,"buffer"),$(U,"byteOffset"),$(U,"byteLength"),$(U,"length")),n({target:"Object",stat:!0,forced:!F},{getOwnPropertyDescriptor:q,defineProperty:K}),e.exports=function(e,t,i){var a=e.match(/\d+$/)[0]/8,s=e+(i?"Clamped":"")+"Array",l="get"+e,d="set"+e,y=r[s],_=y,g=_&&_.prototype,T={},S=function(e,t){k(e,t,{get:function(){return function(e,t){var i=D(e);return i.view[l](t*a+i.byteOffset,!0)}(this,t)},set:function(e){return function(e,t,n){var r=D(e);i&&(n=(n=R(n))<0?0:n>255?255:255&n),r.view[d](t*a+r.byteOffset,n,!0)}(this,t,e)},enumerable:!0})};F?o&&(_=t((function(e,t,i,n){return c(e,_,s),P(m(t)?Y(t)?void 0!==n?new y(t,f(i,a),n):void 0!==i?new y(t,f(i,a)):new y(t):B(t)?H(_,t):w.call(_,t):new y(h(t)),e,_)})),E&&E(_,W),b(I(y),(function(e){e in _||u(_,e,y[e])})),_.prototype=g):(_=t((function(e,t,i,n){c(e,_,s);var r,o,l,d=0,u=0;if(m(t)){if(!Y(t))return B(t)?H(_,t):w.call(_,t);r=t,u=f(i,a);var y=t.byteLength;if(void 0===n){if(y%a)throw N(G);if((o=y-u)<0)throw N(G)}else if((o=p(n)*a)+u>y)throw N(G);l=o/a}else l=h(t),r=new M(o=l*a);for(O(e,{buffer:r,byteOffset:u,byteLength:o,length:l,view:new L(r)});d<l;)S(e,d++)})),E&&E(_,W),g=_.prototype=v(U)),g.constructor!==_&&u(g,"constructor",_),j&&u(g,j,s),T[s]=_,n({global:!0,forced:_!=y,sham:!F},T),Z in _||u(_,Z,a),Z in g||u(g,Z,a),A(s)}):e.exports=function(){}},8200:(e,t,i)=>{var n=i(9859),r=i(4229),a=i(4575),o=i(9918).NATIVE_ARRAY_BUFFER_VIEWS,s=n.ArrayBuffer,l=n.Int8Array;e.exports=!o||!r((function(){l(1)}))||!r((function(){new l(-1)}))||!a((function(e){new l,new l(null),new l(1.5),new l(e)}),!0)||r((function(){return 1!==new l(new s(2),1,void 0).length}))},5215:(e,t,i)=>{var n=i(2991),r=i(4237),a=i(8830),o=i(1943),s=i(7636),l=i(9918).aTypedArrayConstructor;e.exports=function(e){var t,i,c,d,u,p,h=n(e),f=arguments.length,y=f>1?arguments[1]:void 0,_=void 0!==y,g=a(h);if(null!=g&&!o(g))for(p=(u=g.call(h)).next,h=[];!(d=p.call(u)).done;)h.push(d.value);for(_&&f>2&&(y=s(y,arguments[2],2)),i=r(h.length),c=new(l(this))(i),t=0;i>t;t++)c[t]=_?y(h[t],t):h[t];return c}},1441:e=>{var t=0,i=Math.random();e.exports=function(e){return"Symbol("+String(void 0===e?"":e)+")_"+(++t+i).toString(36)}},6969:(e,t,i)=>{var n=i(3839);e.exports=n&&!Symbol.sham&&"symbol"==typeof Symbol.iterator},5391:(e,t,i)=>{var n=i(95);t.f=n},95:(e,t,i)=>{var n=i(9859),r=i(3036),a=i(816),o=i(1441),s=i(3839),l=i(6969),c=r("wks"),d=n.Symbol,u=l?d:d&&d.withoutSetter||o;e.exports=function(e){return a(c,e)&&(s||"string"==typeof c[e])||(s&&a(d,e)?c[e]=d[e]:c[e]=u("Symbol."+e)),c[e]}},1647:e=>{e.exports="\t\n\v\f\r                　\u2028\u2029\ufeff"},5738:(e,t,i)=>{"use strict";var n=i(3103),r=i(7567),a=i(6540),o=i(2391),s=i(5762),l=i(5358),c=i(9003),d=function(e,t){var i=this;if(!(i instanceof d))return new d(e,t);a&&(i=a(new Error(void 0),r(i))),void 0!==t&&s(i,"message",String(t));var n=[];return c(e,n.push,{that:n}),s(i,"errors",n),i};d.prototype=o(Error.prototype,{constructor:l(5,d),message:l(5,""),name:l(5,"AggregateError")}),n({global:!0},{AggregateError:d})},5388:(e,t,i)=>{"use strict";var n=i(3103),r=i(9859),a=i(3816),o=i(1832),s="ArrayBuffer",l=a.ArrayBuffer;n({global:!0,forced:r.ArrayBuffer!==l},{ArrayBuffer:l}),o(s)},2994:(e,t,i)=>{"use strict";var n=i(3103),r=i(4229),a=i(3816),o=i(1176),s=i(3231),l=i(4237),c=i(7942),d=a.ArrayBuffer,u=a.DataView,p=d.prototype.slice;n({target:"ArrayBuffer",proto:!0,unsafe:!0,forced:r((function(){return!new d(2).slice(1,void 0).byteLength}))},{slice:function(e,t){if(void 0!==p&&void 0===t)return p.call(o(this),e);for(var i=o(this).byteLength,n=s(e,i),r=s(void 0===t?i:t,i),a=new(c(this,d))(l(r-n)),h=new u(this),f=new u(a),y=0;n<r;)f.setUint8(y++,h.getUint8(n++));return a}})},4870:(e,t,i)=>{"use strict";var n=i(3103),r=i(4990),a=i(2991),o=i(4237),s=i(3819),l=i(7501);n({target:"Array",proto:!0},{flatMap:function(e){var t,i=a(this),n=o(i.length);return s(e),(t=l(i,0)).length=r(t,i,i,n,0,1,e,arguments.length>1?arguments[1]:void 0),t}})},7072:(e,t,i)=>{"use strict";var n=i(3103),r=i(4990),a=i(2991),o=i(4237),s=i(6051),l=i(7501);n({target:"Array",proto:!0},{flat:function(){var e=arguments.length?arguments[0]:void 0,t=a(this),i=o(t.length),n=l(t,0);return n.length=r(n,t,t,i,0,void 0===e?1:s(e)),n}})},5735:(e,t,i)=>{"use strict";var n=i(905),r=i(9736),a=i(5495),o=i(6407),s=i(7675),l="Array Iterator",c=o.set,d=o.getterFor(l);e.exports=s(Array,"Array",(function(e,t){c(this,{type:l,target:n(e),index:0,kind:t})}),(function(){var e=d(this),t=e.target,i=e.kind,n=e.index++;return!t||n>=t.length?(e.target=void 0,{value:void 0,done:!0}):"keys"==i?{value:n,done:!1}:"values"==i?{value:t[n],done:!1}:{value:[n,t[n]],done:!1}}),"values"),a.Arguments=a.Array,r("keys"),r("values"),r("entries")},9731:(e,t,i)=>{"use strict";var n=i(3103),r=i(3143).right,a=i(6038),o=i(6358),s=i(8801);n({target:"Array",proto:!0,forced:!a("reduceRight")||!s&&o>79&&o<83},{reduceRight:function(e){return r(this,e,arguments.length,arguments.length>1?arguments[1]:void 0)}})},3108:(e,t,i)=>{"use strict";var n=i(3103),r=i(3143).left,a=i(6038),o=i(6358),s=i(8801);n({target:"Array",proto:!0,forced:!a("reduce")||!s&&o>79&&o<83},{reduce:function(e){return r(this,e,arguments.length,arguments.length>1?arguments[1]:void 0)}})},9992:(e,t,i)=>{"use strict";var n=i(3103),r=i(3718),a=[].reverse,o=[1,2];n({target:"Array",proto:!0,forced:String(o)===String(o.reverse())},{reverse:function(){return r(this)&&(this.length=this.length),a.call(this)}})},3430:(e,t,i)=>{"use strict";var n=i(3103),r=i(3819),a=i(2991),o=i(4237),s=i(4229),l=i(3867),c=i(6038),d=i(2671),u=i(8506),p=i(6358),h=i(9811),f=[],y=f.sort,_=s((function(){f.sort(void 0)})),g=s((function(){f.sort(null)})),m=c("sort"),v=!s((function(){if(p)return p<70;if(!(d&&d>3)){if(u)return!0;if(h)return h<603;var e,t,i,n,r="";for(e=65;e<76;e++){switch(t=String.fromCharCode(e),e){case 66:case 69:case 70:case 72:i=3;break;case 68:case 71:i=4;break;default:i=2}for(n=0;n<47;n++)f.push({k:t+n,v:i})}for(f.sort((function(e,t){return t.v-e.v})),n=0;n<f.length;n++)t=f[n].k.charAt(0),r.charAt(r.length-1)!==t&&(r+=t);return"DGBEFHACIJK"!==r}}));n({target:"Array",proto:!0,forced:_||!g||!m||!v},{sort:function(e){void 0!==e&&r(e);var t=a(this);if(v)return void 0===e?y.call(t):y.call(t,e);var i,n,s=[],c=o(t.length);for(n=0;n<c;n++)n in t&&s.push(t[n]);for(i=(s=l(s,function(e){return function(t,i){return void 0===i?-1:void 0===t?1:void 0!==e?+e(t,i)||0:String(t)>String(i)?1:-1}}(e))).length,n=0;n<i;)t[n]=s[n++];for(;n<c;)delete t[n++];return t}})},3985:(e,t,i)=>{i(9736)("flatMap")},7694:(e,t,i)=>{i(9736)("flat")},4173:(e,t,i)=>{i(3103)({global:!0},{globalThis:i(9859)})},3498:(e,t,i)=>{var n=i(3103),r=i(9037),a=Math.acosh,o=Math.log,s=Math.sqrt,l=Math.LN2;n({target:"Math",stat:!0,forced:!a||710!=Math.floor(a(Number.MAX_VALUE))||a(1/0)!=1/0},{acosh:function(e){return(e=+e)<1?NaN:e>94906265.62425156?o(e)+l:r(e-1+s(e-1)*s(e+1))}})},9509:(e,t,i)=>{var n=i(3103),r=Math.hypot,a=Math.abs,o=Math.sqrt;n({target:"Math",stat:!0,forced:!!r&&r(1/0,NaN)!==1/0},{hypot:function(e,t){for(var i,n,r=0,s=0,l=arguments.length,c=0;s<l;)c<(i=a(arguments[s++]))?(r=r*(n=c/i)*n+1,c=i):r+=i>0?(n=i/c)*n:i;return c===1/0?1/0:c*o(r)}})},7846:(e,t,i)=>{"use strict";var n=i(3103),r=i(7400),a=i(5020),o=i(2991),s=i(3819),l=i(1787);r&&n({target:"Object",proto:!0,forced:a},{__defineGetter__:function(e,t){l.f(o(this),e,{get:s(t),enumerable:!0,configurable:!0})}})},6635:(e,t,i)=>{"use strict";var n=i(3103),r=i(7400),a=i(5020),o=i(2991),s=i(3819),l=i(1787);r&&n({target:"Object",proto:!0,forced:a},{__defineSetter__:function(e,t){l.f(o(this),e,{set:s(t),enumerable:!0,configurable:!0})}})},5883:(e,t,i)=>{var n=i(3103),r=i(7664).entries;n({target:"Object",stat:!0},{entries:function(e){return r(e)}})},1804:(e,t,i)=>{var n=i(3103),r=i(9003),a=i(2324);n({target:"Object",stat:!0},{fromEntries:function(e){var t={};return r(e,(function(e,i){a(t,e,i)}),{AS_ENTRIES:!0}),t}})},2775:(e,t,i)=>{var n=i(3103),r=i(7400),a=i(4826),o=i(905),s=i(7933),l=i(2324);n({target:"Object",stat:!0,sham:!r},{getOwnPropertyDescriptors:function(e){for(var t,i,n=o(e),r=s.f,c=a(n),d={},u=0;c.length>u;)void 0!==(i=r(n,t=c[u++]))&&l(d,t,i);return d}})},2586:(e,t,i)=>{"use strict";var n=i(3103),r=i(7400),a=i(5020),o=i(2991),s=i(2066),l=i(7567),c=i(7933).f;r&&n({target:"Object",proto:!0,forced:a},{__lookupGetter__:function(e){var t,i=o(this),n=s(e,!0);do{if(t=c(i,n))return t.get}while(i=l(i))}})},3045:(e,t,i)=>{"use strict";var n=i(3103),r=i(7400),a=i(5020),o=i(2991),s=i(2066),l=i(7567),c=i(7933).f;r&&n({target:"Object",proto:!0,forced:a},{__lookupSetter__:function(e){var t,i=o(this),n=s(e,!0);do{if(t=c(i,n))return t.set}while(i=l(i))}})},7890:(e,t,i)=>{var n=i(3103),r=i(7664).values;n({target:"Object",stat:!0},{values:function(e){return r(e)}})},7919:(e,t,i)=>{"use strict";var n=i(3103),r=i(3819),a=i(6485),o=i(4624),s=i(9003);n({target:"Promise",stat:!0},{allSettled:function(e){var t=this,i=a.f(t),n=i.resolve,l=i.reject,c=o((function(){var i=r(t.resolve),a=[],o=0,l=1;s(e,(function(e){var r=o++,s=!1;a.push(void 0),l++,i.call(t,e).then((function(e){s||(s=!0,a[r]={status:"fulfilled",value:e},--l||n(a))}),(function(e){s||(s=!0,a[r]={status:"rejected",reason:e},--l||n(a))}))})),--l||n(a)}));return c.error&&l(c.value),i.promise}})},7178:(e,t,i)=>{"use strict";var n=i(3103),r=i(3819),a=i(1333),o=i(6485),s=i(4624),l=i(9003),c="No one promise resolved";n({target:"Promise",stat:!0},{any:function(e){var t=this,i=o.f(t),n=i.resolve,d=i.reject,u=s((function(){var i=r(t.resolve),o=[],s=0,u=1,p=!1;l(e,(function(e){var r=s++,l=!1;o.push(void 0),u++,i.call(t,e).then((function(e){l||p||(p=!0,n(e))}),(function(e){l||p||(l=!0,o[r]=e,--u||d(new(a("AggregateError"))(o,c)))}))})),--u||d(new(a("AggregateError"))(o,c))}));return u.error&&d(u.value),i.promise}})},1515:(e,t,i)=>{"use strict";var n=i(3103),r=i(4231),a=i(4226),o=i(4229),s=i(1333),l=i(7942),c=i(7757),d=i(7487);if(n({target:"Promise",proto:!0,real:!0,forced:!!a&&o((function(){a.prototype.finally.call({then:function(){}},(function(){}))}))},{finally:function(e){var t=l(this,s("Promise")),i="function"==typeof e;return this.then(i?function(i){return c(t,e()).then((function(){return i}))}:e,i?function(i){return c(t,e()).then((function(){throw i}))}:e)}}),!r&&"function"==typeof a){var u=s("Promise").prototype.finally;a.prototype.finally!==u&&d(a.prototype,"finally",u,{unsafe:!0})}},3439:(e,t,i)=>{"use strict";var n,r,a,o,s=i(3103),l=i(4231),c=i(9859),d=i(1333),u=i(4226),p=i(7487),h=i(8787),f=i(6540),y=i(4555),_=i(1832),g=i(5052),m=i(3819),v=i(7728),E=i(8511),I=i(9003),w=i(4575),b=i(7942),A=i(5795).set,T=i(4794),S=i(7757),C=i(4665),P=i(6485),D=i(4624),O=i(6407),k=i(6541),x=i(95),R=i(8639),N=i(8801),M=i(6358),L=x("species"),F="Promise",j=O.get,W=O.set,U=O.getterFor(F),V=u&&u.prototype,B=u,Z=V,G=c.TypeError,H=c.document,$=c.process,Y=P.f,z=Y,q=!!(H&&H.createEvent&&c.dispatchEvent),K="function"==typeof PromiseRejectionEvent,J="unhandledrejection",X=!1,Q=k(F,(function(){var e=E(B)!==String(B);if(!e&&66===M)return!0;if(l&&!Z.finally)return!0;if(M>=51&&/native code/.test(B))return!1;var t=new B((function(e){e(1)})),i=function(e){e((function(){}),(function(){}))};return(t.constructor={})[L]=i,!(X=t.then((function(){}))instanceof i)||!e&&R&&!K})),ee=Q||!w((function(e){B.all(e).catch((function(){}))})),te=function(e){var t;return!(!g(e)||"function"!=typeof(t=e.then))&&t},ie=function(e,t){if(!e.notified){e.notified=!0;var i=e.reactions;T((function(){for(var n=e.value,r=1==e.state,a=0;i.length>a;){var o,s,l,c=i[a++],d=r?c.ok:c.fail,u=c.resolve,p=c.reject,h=c.domain;try{d?(r||(2===e.rejection&&oe(e),e.rejection=1),!0===d?o=n:(h&&h.enter(),o=d(n),h&&(h.exit(),l=!0)),o===c.promise?p(G("Promise-chain cycle")):(s=te(o))?s.call(o,u,p):u(o)):p(n)}catch(e){h&&!l&&h.exit(),p(e)}}e.reactions=[],e.notified=!1,t&&!e.rejection&&re(e)}))}},ne=function(e,t,i){var n,r;q?((n=H.createEvent("Event")).promise=t,n.reason=i,n.initEvent(e,!1,!0),c.dispatchEvent(n)):n={promise:t,reason:i},!K&&(r=c["on"+e])?r(n):e===J&&C("Unhandled promise rejection",i)},re=function(e){A.call(c,(function(){var t,i=e.facade,n=e.value;if(ae(e)&&(t=D((function(){N?$.emit("unhandledRejection",n,i):ne(J,i,n)})),e.rejection=N||ae(e)?2:1,t.error))throw t.value}))},ae=function(e){return 1!==e.rejection&&!e.parent},oe=function(e){A.call(c,(function(){var t=e.facade;N?$.emit("rejectionHandled",t):ne("rejectionhandled",t,e.value)}))},se=function(e,t,i){return function(n){e(t,n,i)}},le=function(e,t,i){e.done||(e.done=!0,i&&(e=i),e.value=t,e.state=2,ie(e,!0))},ce=function(e,t,i){if(!e.done){e.done=!0,i&&(e=i);try{if(e.facade===t)throw G("Promise can't be resolved itself");var n=te(t);n?T((function(){var i={done:!1};try{n.call(t,se(ce,i,e),se(le,i,e))}catch(t){le(i,t,e)}})):(e.value=t,e.state=1,ie(e,!1))}catch(t){le({done:!1},t,e)}}};if(Q&&(Z=(B=function(e){v(this,B,F),m(e),n.call(this);var t=j(this);try{e(se(ce,t),se(le,t))}catch(e){le(t,e)}}).prototype,(n=function(e){W(this,{type:F,done:!1,notified:!1,parent:!1,reactions:[],rejection:!1,state:0,value:void 0})}).prototype=h(Z,{then:function(e,t){var i=U(this),n=Y(b(this,B));return n.ok="function"!=typeof e||e,n.fail="function"==typeof t&&t,n.domain=N?$.domain:void 0,i.parent=!0,i.reactions.push(n),0!=i.state&&ie(i,!1),n.promise},catch:function(e){return this.then(void 0,e)}}),r=function(){var e=new n,t=j(e);this.promise=e,this.resolve=se(ce,t),this.reject=se(le,t)},P.f=Y=function(e){return e===B||e===a?new r(e):z(e)},!l&&"function"==typeof u&&V!==Object.prototype)){o=V.then,X||(p(V,"then",(function(e,t){var i=this;return new B((function(e,t){o.call(i,e,t)})).then(e,t)}),{unsafe:!0}),p(V,"catch",Z.catch,{unsafe:!0}));try{delete V.constructor}catch(e){}f&&f(V,Z)}s({global:!0,wrap:!0,forced:Q},{Promise:B}),y(B,F,!1,!0),_(F),a=d(F),s({target:F,stat:!0,forced:Q},{reject:function(e){var t=Y(this);return t.reject.call(void 0,e),t.promise}}),s({target:F,stat:!0,forced:l||Q},{resolve:function(e){return S(l&&this===a?B:this,e)}}),s({target:F,stat:!0,forced:ee},{all:function(e){var t=this,i=Y(t),n=i.resolve,r=i.reject,a=D((function(){var i=m(t.resolve),a=[],o=0,s=1;I(e,(function(e){var l=o++,c=!1;a.push(void 0),s++,i.call(t,e).then((function(e){c||(c=!0,a[l]=e,--s||n(a))}),r)})),--s||n(a)}));return a.error&&r(a.value),i.promise},race:function(e){var t=this,i=Y(t),n=i.reject,r=D((function(){var r=m(t.resolve);I(e,(function(e){r.call(t,e).then(i.resolve,n)}))}));return r.error&&n(r.value),i.promise}})},7368:(e,t,i)=>{var n=i(7400),r=i(9859),a=i(6541),o=i(835),s=i(5762),l=i(1787).f,c=i(8151).f,d=i(8311),u=i(895),p=i(5650),h=i(7487),f=i(4229),y=i(816),_=i(6407).enforce,g=i(1832),m=i(95),v=i(2926),E=i(461),I=m("match"),w=r.RegExp,b=w.prototype,A=/^\?<[^\s\d!#%&*+<=>@^][^\s!#%&*+<=>@^]*>/,T=/a/g,S=/a/g,C=new w(T)!==T,P=p.UNSUPPORTED_Y,D=n&&(!C||P||v||E||f((function(){return S[I]=!1,w(T)!=T||w(S)==S||"/a/i"!=w(T,"i")})));if(a("RegExp",D)){for(var O=function(e,t){var i,n,r,a,l,c,p=this instanceof O,h=d(e),f=void 0===t,g=[],m=e;if(!p&&h&&f&&e.constructor===O)return e;if((h||e instanceof O)&&(e=e.source,f&&(t="flags"in m?m.flags:u.call(m))),e=void 0===e?"":String(e),t=void 0===t?"":String(t),m=e,v&&"dotAll"in T&&(n=!!t&&t.indexOf("s")>-1)&&(t=t.replace(/s/g,"")),i=t,P&&"sticky"in T&&(r=!!t&&t.indexOf("y")>-1)&&(t=t.replace(/y/g,"")),E&&(e=(a=function(e){for(var t,i=e.length,n=0,r="",a=[],o={},s=!1,l=!1,c=0,d="";n<=i;n++){if("\\"===(t=e.charAt(n)))t+=e.charAt(++n);else if("]"===t)s=!1;else if(!s)switch(!0){case"["===t:s=!0;break;case"("===t:A.test(e.slice(n+1))&&(n+=2,l=!0),r+=t,c++;continue;case">"===t&&l:if(""===d||y(o,d))throw new SyntaxError("Invalid capture group name");o[d]=!0,a.push([d,c]),l=!1,d="";continue}l?d+=t:r+=t}return[r,a]}(e))[0],g=a[1]),l=o(w(e,t),p?this:b,O),(n||r||g.length)&&(c=_(l),n&&(c.dotAll=!0,c.raw=O(function(e){for(var t,i=e.length,n=0,r="",a=!1;n<=i;n++)"\\"!==(t=e.charAt(n))?a||"."!==t?("["===t?a=!0:"]"===t&&(a=!1),r+=t):r+="[\\s\\S]":r+=t+e.charAt(++n);return r}(e),i)),r&&(c.sticky=!0),g.length&&(c.groups=g)),e!==m)try{s(l,"source",""===m?"(?:)":m)}catch(e){}return l},k=function(e){e in O||l(O,e,{configurable:!0,get:function(){return w[e]},set:function(t){w[e]=t}})},x=c(w),R=0;x.length>R;)k(x[R++]);b.constructor=O,O.prototype=b,h(r,"RegExp",O)}g("RegExp")},7950:(e,t,i)=>{"use strict";var n=i(3103),r=i(3466);n({target:"RegExp",proto:!0,forced:/./.exec!==r},{exec:r})},103:(e,t,i)=>{var n=i(7400),r=i(1787),a=i(895),o=i(4229);n&&o((function(){return"sy"!==Object.getOwnPropertyDescriptor(RegExp.prototype,"flags").get.call({dotAll:!0,sticky:!0})}))&&r.f(RegExp.prototype,"flags",{configurable:!0,get:a})},3887:(e,t,i)=>{"use strict";var n=i(3103),r=i(3723),a=i(8885),o=i(4237),s=i(3819),l=i(1176),c=i(7079),d=i(8311),u=i(895),p=i(5762),h=i(4229),f=i(95),y=i(7942),_=i(6637),g=i(6407),m=i(4231),v=f("matchAll"),E="RegExp String",I="RegExp String Iterator",w=g.set,b=g.getterFor(I),A=RegExp.prototype,T=A.exec,S="".matchAll,C=!!S&&!h((function(){"a".matchAll(/./)})),P=r((function(e,t,i,n){w(this,{type:I,regexp:e,string:t,global:i,unicode:n,done:!1})}),E,(function(){var e=b(this);if(e.done)return{value:void 0,done:!0};var t=e.regexp,i=e.string,n=function(e,t){var i,n=e.exec;if("function"==typeof n){if("object"!=typeof(i=n.call(e,t)))throw TypeError("Incorrect exec result");return i}return T.call(e,t)}(t,i);return null===n?{value:void 0,done:e.done=!0}:e.global?(""==String(n[0])&&(t.lastIndex=_(i,o(t.lastIndex),e.unicode)),{value:n,done:!1}):(e.done=!0,{value:n,done:!1})})),D=function(e){var t,i,n,r,a,s,c=l(this),d=String(e);return t=y(c,RegExp),void 0===(i=c.flags)&&c instanceof RegExp&&!("flags"in A)&&(i=u.call(c)),n=void 0===i?"":String(i),r=new t(t===RegExp?c.source:c,n),a=!!~n.indexOf("g"),s=!!~n.indexOf("u"),r.lastIndex=o(c.lastIndex),new P(r,d,a,s)};n({target:"String",proto:!0,forced:C},{matchAll:function(e){var t,i,n,r=a(this);if(null!=e){if(d(e)&&!~String(a("flags"in A?e.flags:u.call(e))).indexOf("g"))throw TypeError("`.matchAll` does not allow non-global regexes");if(C)return S.apply(r,arguments);if(void 0===(i=e[v])&&m&&"RegExp"==c(e)&&(i=D),null!=i)return s(i).call(e,r)}else if(C)return S.apply(r,arguments);return t=String(r),n=new RegExp(e,"g"),m?D.call(n,t):n[v](t)}}),m||v in A||p(A,v,D)},977:(e,t,i)=>{"use strict";var n=i(3103),r=i(6650).end;n({target:"String",proto:!0,forced:i(7456)},{padEnd:function(e){return r(this,e,arguments.length>1?arguments[1]:void 0)}})},5734:(e,t,i)=>{"use strict";var n=i(3103),r=i(6650).start;n({target:"String",proto:!0,forced:i(7456)},{padStart:function(e){return r(this,e,arguments.length>1?arguments[1]:void 0)}})},1639:(e,t,i)=>{"use strict";var n=i(3103),r=i(8885),a=i(8311),o=i(895),s=i(17),l=i(95),c=i(4231),d=l("replace"),u=RegExp.prototype,p=Math.max,h=function(e,t,i){return i>e.length?-1:""===t?i:e.indexOf(t,i)};n({target:"String",proto:!0},{replaceAll:function(e,t){var i,n,l,f,y,_,g,m,v=r(this),E=0,I=0,w="";if(null!=e){if((i=a(e))&&!~String(r("flags"in u?e.flags:o.call(e))).indexOf("g"))throw TypeError("`.replaceAll` does not allow non-global regexes");if(void 0!==(n=e[d]))return n.call(e,v,t);if(c&&i)return String(v).replace(e,t)}for(l=String(v),f=String(e),(y="function"==typeof t)||(t=String(t)),_=f.length,g=p(1,_),E=h(l,f,0);-1!==E;)m=y?String(t(f,E,l)):s(f,l,E,[],void 0,t),w+=l.slice(I,E)+m,I=E+_,E=h(l,f,E+g);return I<l.length&&(w+=l.slice(I)),w}})},5940:(e,t,i)=>{"use strict";var n=i(4954),r=i(4229),a=i(1176),o=i(4237),s=i(6051),l=i(8885),c=i(6637),d=i(17),u=i(8115),p=i(95)("replace"),h=Math.max,f=Math.min,y="$0"==="a".replace(/./,"$0"),_=!!/./[p]&&""===/./[p]("a","$0");n("replace",(function(e,t,i){var n=_?"$":"$0";return[function(e,i){var n=l(this),r=null==e?void 0:e[p];return void 0!==r?r.call(e,n,i):t.call(String(n),e,i)},function(e,r){if("string"==typeof r&&-1===r.indexOf(n)&&-1===r.indexOf("$<")){var l=i(t,this,e,r);if(l.done)return l.value}var p=a(this),y=String(e),_="function"==typeof r;_||(r=String(r));var g=p.global;if(g){var m=p.unicode;p.lastIndex=0}for(var v=[];;){var E=u(p,y);if(null===E)break;if(v.push(E),!g)break;""===String(E[0])&&(p.lastIndex=c(y,o(p.lastIndex),m))}for(var I,w="",b=0,A=0;A<v.length;A++){E=v[A];for(var T=String(E[0]),S=h(f(s(E.index),y.length),0),C=[],P=1;P<E.length;P++)C.push(void 0===(I=E[P])?I:String(I));var D=E.groups;if(_){var O=[T].concat(C,S,y);void 0!==D&&O.push(D);var k=String(r.apply(void 0,O))}else k=d(T,y,S,C,D,r);S>=b&&(w+=y.slice(b,S)+k,b=S+T.length)}return w+y.slice(b)}]}),!!r((function(){var e=/./;return e.exec=function(){var e=[];return e.groups={a:"7"},e},"7"!=="".replace(e,"$<a>")}))||!y||_)},8319:(e,t,i)=>{"use strict";var n=i(4954),r=i(8311),a=i(1176),o=i(8885),s=i(7942),l=i(6637),c=i(4237),d=i(8115),u=i(3466),p=i(5650),h=i(4229),f=p.UNSUPPORTED_Y,y=[].push,_=Math.min,g=4294967295;n("split",(function(e,t,i){var n;return n="c"=="abbc".split(/(b)*/)[1]||4!="test".split(/(?:)/,-1).length||2!="ab".split(/(?:ab)*/).length||4!=".".split(/(.?)(.?)/).length||".".split(/()()/).length>1||"".split(/.?/).length?function(e,i){var n=String(o(this)),a=void 0===i?g:i>>>0;if(0===a)return[];if(void 0===e)return[n];if(!r(e))return t.call(n,e,a);for(var s,l,c,d=[],p=(e.ignoreCase?"i":"")+(e.multiline?"m":"")+(e.unicode?"u":"")+(e.sticky?"y":""),h=0,f=new RegExp(e.source,p+"g");(s=u.call(f,n))&&!((l=f.lastIndex)>h&&(d.push(n.slice(h,s.index)),s.length>1&&s.index<n.length&&y.apply(d,s.slice(1)),c=s[0].length,h=l,d.length>=a));)f.lastIndex===s.index&&f.lastIndex++;return h===n.length?!c&&f.test("")||d.push(""):d.push(n.slice(h)),d.length>a?d.slice(0,a):d}:"0".split(void 0,0).length?function(e,i){return void 0===e&&0===i?[]:t.call(this,e,i)}:t,[function(t,i){var r=o(this),a=null==t?void 0:t[e];return void 0!==a?a.call(t,r,i):n.call(String(r),t,i)},function(e,r){var o=i(n,this,e,r,n!==t);if(o.done)return o.value;var u=a(this),p=String(e),h=s(u,RegExp),y=u.unicode,m=(u.ignoreCase?"i":"")+(u.multiline?"m":"")+(u.unicode?"u":"")+(f?"g":"y"),v=new h(f?"^(?:"+u.source+")":u,m),E=void 0===r?g:r>>>0;if(0===E)return[];if(0===p.length)return null===d(v,p)?[p]:[];for(var I=0,w=0,b=[];w<p.length;){v.lastIndex=f?0:w;var A,T=d(v,f?p.slice(w):p);if(null===T||(A=_(c(v.lastIndex+(f?w:0)),p.length))===I)w=l(p,w,y);else{if(b.push(p.slice(I,w)),b.length===E)return b;for(var S=1;S<=T.length-1;S++)if(b.push(T[S]),b.length===E)return b;w=I=A}}return b.push(p.slice(I)),b}]}),!!h((function(){var e=/(?:)/,t=e.exec;e.exec=function(){return t.apply(this,arguments)};var i="ab".split(e);return 2!==i.length||"a"!==i[0]||"b"!==i[1]})),f)},8827:(e,t,i)=>{"use strict";var n=i(3103),r=i(1017).end,a=i(9445)("trimEnd"),o=a?function(){return r(this)}:"".trimEnd;n({target:"String",proto:!0,forced:a},{trimEnd:o,trimRight:o})},1715:(e,t,i)=>{"use strict";var n=i(3103),r=i(1017).start,a=i(9445)("trimStart"),o=a?function(){return r(this)}:"".trimStart;n({target:"String",proto:!0,forced:a},{trimStart:o,trimLeft:o})},5794:(e,t,i)=>{"use strict";var n=i(3103),r=i(1017).trim;n({target:"String",proto:!0,forced:i(9445)("trim")},{trim:function(){return r(this)}})},6882:(e,t,i)=>{i(8423)("asyncIterator")},634:(e,t,i)=>{"use strict";var n=i(3103),r=i(7400),a=i(9859),o=i(816),s=i(5052),l=i(1787).f,c=i(7081),d=a.Symbol;if(r&&"function"==typeof d&&(!("description"in d.prototype)||void 0!==d().description)){var u={},p=function(){var e=arguments.length<1||void 0===arguments[0]?void 0:String(arguments[0]),t=this instanceof p?new d(e):void 0===e?d():d(e);return""===e&&(u[t]=!0),t};c(p,d);var h=p.prototype=d.prototype;h.constructor=p;var f=h.toString,y="Symbol(test)"==String(d("test")),_=/^Symbol\((.*)\)[^)]+$/;l(h,"description",{configurable:!0,get:function(){var e=s(this)?this.valueOf():this,t=f.call(e);if(o(u,e))return"";var i=y?t.slice(7,-1):t.replace(_,"$1");return""===i?void 0:i}}),n({global:!0,forced:!0},{Symbol:p})}},1382:(e,t,i)=>{i(2574)("Float32",(function(e){return function(t,i,n){return e(this,t,i,n)}}))},1982:(e,t,i)=>{i(2574)("Float64",(function(e){return function(t,i,n){return e(this,t,i,n)}}))},6618:(e,t,i)=>{"use strict";var n=i(8200);(0,i(9918).exportTypedArrayStaticMethod)("from",i(5215),n)},4074:(e,t,i)=>{i(2574)("Int16",(function(e){return function(t,i,n){return e(this,t,i,n)}}))},4696:(e,t,i)=>{i(2574)("Int32",(function(e){return function(t,i,n){return e(this,t,i,n)}}))},3229:(e,t,i)=>{i(2574)("Int8",(function(e){return function(t,i,n){return e(this,t,i,n)}}))},9527:(e,t,i)=>{"use strict";var n=i(9918),r=i(8200),a=n.aTypedArrayConstructor;(0,n.exportTypedArrayStaticMethod)("of",(function(){for(var e=0,t=arguments.length,i=new(a(this))(t);t>e;)i[e]=arguments[e++];return i}),r)},315:(e,t,i)=>{"use strict";var n=i(9918),r=i(9859),a=i(4229),o=i(3819),s=i(4237),l=i(3867),c=i(2671),d=i(8506),u=i(6358),p=i(9811),h=n.aTypedArray,f=n.exportTypedArrayMethod,y=r.Uint16Array,_=y&&y.prototype.sort,g=!!_&&!a((function(){var e=new y(2);e.sort(null),e.sort({})})),m=!!_&&!a((function(){if(u)return u<74;if(c)return c<67;if(d)return!0;if(p)return p<602;var e,t,i=new y(516),n=Array(516);for(e=0;e<516;e++)t=e%4,i[e]=515-e,n[e]=e-2*t+3;for(i.sort((function(e,t){return(e/4|0)-(t/4|0)})),e=0;e<516;e++)if(i[e]!==n[e])return!0}));f("sort",(function(e){var t=this;if(void 0!==e&&o(e),m)return _.call(t,e);h(t);var i,n=s(t.length),r=Array(n);for(i=0;i<n;i++)r[i]=t[i];for(r=l(t,function(e){return function(t,i){return void 0!==e?+e(t,i)||0:i!=i?-1:t!=t?1:0===t&&0===i?1/t>0&&1/i<0?1:-1:t>i}}(e)),i=0;i<n;i++)t[i]=r[i];return t}),!m||g)},3161:(e,t,i)=>{i(2574)("Uint16",(function(e){return function(t,i,n){return e(this,t,i,n)}}))},723:(e,t,i)=>{i(2574)("Uint32",(function(e){return function(t,i,n){return e(this,t,i,n)}}))},3675:(e,t,i)=>{i(2574)("Uint8",(function(e){return function(t,i,n){return e(this,t,i,n)}}))},6920:(e,t,i)=>{i(2574)("Uint8",(function(e){return function(t,i,n){return e(this,t,i,n)}}),!0)},4962:(e,t,i)=>{i(5738)},6481:(e,t,i)=>{i(4173)},8990:(e,t,i)=>{i(7919)},884:(e,t,i)=>{i(7178)},5431:(e,t,i)=>{i(3887)},5704:(e,t,i)=>{i(1639)},6886:(e,t,i)=>{var n=i(9859),r=i(5694),a=i(5735),o=i(5762),s=i(95),l=s("iterator"),c=s("toStringTag"),d=a.values;for(var u in r){var p=n[u],h=p&&p.prototype;if(h){if(h[l]!==d)try{o(h,l,d)}catch(e){h[l]=d}if(h[c]||o(h,c,u),r[u])for(var f in a)if(h[f]!==a[f])try{o(h,f,a[f])}catch(e){h[f]=a[f]}}}}},t={};function i(n){var r=t[n];if(void 0!==r)return r.exports;var a=t[n]={exports:{}};return e[n](a,a.exports,i),a.exports}i.n=e=>{var t=e&&e.__esModule?()=>e.default:()=>e;return i.d(t,{a:t}),t},i.d=(e,t)=>{for(var n in t)i.o(t,n)&&!i.o(e,n)&&Object.defineProperty(e,n,{enumerable:!0,get:t[n]})},i.g=function(){if("object"==typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"==typeof window)return window}}(),i.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),i.r=e=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},(()=>{let e=!1;if(i.g.__wxConfig&&"string"==typeof i.g.__wxConfig.platform)"ios"===i.g.__wxConfig.platform.toLowerCase()&&(e=!0);else if("undefined"!=typeof navigator&&"string"==typeof navigator.userAgent){const t=navigator.userAgent.toLowerCase();(t.indexOf("iphone")>=0||t.indexOf("ipad")>=0)&&(e=!0)}const t=[];e&&(i.g.Promise=void 0,t.push("Promise")),i(305)({usePolyfill:t,useNative:["WeakMap"]}),i(5482),i(9401)})()})(),(()=>{var e={2288:(e,t,i)=>{"use strict";i.d(t,{b:()=>r});i(665);var n=i(1106);const r=(e={})=>(0,n.IN)("getABTestConfig",e)},812:(e,t,i)=>{"use strict";i.d(t,{FE:()=>n.FE,YG:()=>n.YG,IN:()=>n.IN,bb:()=>n.bb,jQ:()=>n.jQ,Ld:()=>n.Ld});i(5260),i(2582),i(9973),i(665),i(1095);var n=i(1106)},7551:(e,t,i)=>{"use strict";i.d(t,{Z:()=>n});const n={lastRoute:"",lastOpenType:"",query:{},runningStatus:"active",navigatorLock:!1,openUrlLock:!1,possessingBackgroundAudioPlayer:!1,webviewEventCallback:null,hanged:!1,appStatus:0,navigationBarTitleMap:{},currentNetworkType:""}},29:(e,t,i)=>{"use strict";i.d(t,{dq:()=>o});var n=i(8159),r=i(1106);i(5260);const a=new n.Z;(0,r.jQ)("onPageReload",((e={},t=0)=>{e.webviewId=t,a.emit("onPageReload",e)}));const o=function(e,t){a.once(`onBeforeUnloadPage_${e}`,(e=>{"function"==typeof t&&t(e)}))}},5260:(e,t,i)=>{"use strict";i.d(t,{Em:()=>r.Em,sd:()=>l,S0:()=>c,p9:()=>d,HR:()=>u,cE:()=>p,mQ:()=>h,Pp:()=>f,Z8:()=>y,iZ:()=>g,l7:()=>m,Nf:()=>E,M8:()=>I,yC:()=>w,AK:()=>b,El:()=>A,Ky:()=>T});var n=i(665),r=i(7452),a=(i(2582),i(1661));const o=/^[-+a-zA-Z0-9]+:\/\//,s=/^__[-+a-zA-Z0-9]+__\//;function l(e,t,i=!0){if(i&&(t=f(t)),0===t.indexOf("/"))return t.substr(1);if(0===t.indexOf("./"))return l(e,t.substr(2),!1);{const i=t.split("/");let n,r;for(n=0,r=i.length;n<r&&".."===i[n];n++);i.splice(0,n);const a=e.length>0?e.split("/"):[];a.splice(a.length-n-1,n+1);const o=a.concat(i).join("/");return o}}function c(e){const t=e.match(o);if(!t)return e;const i=t[0];if("plugin://"===i){const t=i.length,r=e.indexOf("/",t);if(r>=0){const i=e.slice(t,r),a=n.Z.plugins&&n.Z.plugins[i]?n.Z.plugins[i].provider:i;e=e.slice(0,t)+a+e.slice(r)}let a=e.indexOf("?");a<0&&(a=e.length);const o=e.slice(0,a),s=exparser.Component._list[o];if(!s)throw new _(`Page "${o}" is not found`);e=s.is+e.slice(a)}else if("plugin-private://"===i){let t=e.indexOf("?");t<0&&(t=e.length);const i=e.slice(0,t);e="/"+__appServiceEngine__.convertComponentAliasToRoute(i)+e.slice(t)}else{if("wx://"!==i)throw new _(`Unknown URL protocol "${i}"`);e="/__wx__/"+e.slice(5)}return e}function d(e){const t=e.match(o),i=e.match(s);let r="";if(t){const i=t[0];if("plugin://"===i){const t=i.length,a=e.indexOf("/",t);if(a>=0){const i=e.slice(t,a);r=n.Z.plugins&&n.Z.plugins[i]?n.Z.plugins[i].provider:i}}else if("plugin-private://"===i){const t=i.length,n=e.indexOf("/",t);if(n>=0){r=e.slice(t,n)}}else"wx://"===i&&(r="//")}if(i){const t=i[0];if("__plugin__/"===t){const i=t.length,n=e.indexOf("/",i);if(n>=0){r=e.slice(i,n)}}else"__wx__/"===t&&(r="//")}return r}function u(e,t=!1){if("object"!=typeof e)return e;const i=[];for(const n in e)if((0,a.n)(e,n))if(t)try{i.push(`${encodeURIComponent(n)}=${encodeURIComponent(e[n])}`)}catch(t){i.push(`${n}=${e[n]}`)}else i.push(`${n}=${e[n]}`);return i.join("&")}function p(e,t){if("string"==typeof e&&"object"==typeof t&&null!==t&&Object.keys(t).length>0){const i=e.split("?");return i[0]+"?"+u(function(...e){return e.reduce(((e,t)=>{for(const i in t)e[i]=t[i];return e}),{})}((i[1]||"").split("&").reduce(((e,t)=>{if("string"==typeof t&&t.length>0){const i=t.split("="),n=i[0],r=i[1];e[n]=r}return e}),{}),Object.keys(t).reduce(((e,i)=>("object"==typeof t[i]?e[encodeURIComponent(i)]=encodeURIComponent(JSON.stringify(t[i])):e[encodeURIComponent(i)]=encodeURIComponent(t[i]),e)),{})))}return e}function h(e,t="http"){return"http"===t?/^(http|https):\/\/.*/i.test(e):"websocket"===t?/^(ws|wss):\/\/.*/i.test(e):void 0}function f(e){if("string"!=typeof e)return e;{let t=e.split("?")[0];const i=e.split("?")[1];return t+=".html",void 0!==i?`${t}?${i}`:t}}function y(e){return"string"==typeof e?-1!==e.indexOf("?")?e.replace(/\.html\?/,"?"):e.replace(/\.html$/,""):e}class _ extends Error{constructor(e){super(`APP-SERVICE-SDK:${e}`),this.type="AppServiceSdkKnownError"}}class g extends Error{constructor(e){super(`${e}`),this.type="ThirdScriptError"}}function m(e,t){for(const i in t)e[i]=t[i];return e}const v="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=";globalThis.btoa,globalThis.atob;function E(e){return Object.keys(e).reduce(((t,i)=>("string"==typeof e[i]?t[i]=e[i]:"number"==typeof e[i]?t[i]=e[i]+"":t[i]=Object.prototype.toString.apply(e[i]),t)),{})}function I(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,(function(e){const t=16*Math.random()|0;return("x"===e?t:3&t|8).toString(16)}))}n.Z.clientVersion;function w(e,t){e=e.split("."),t=t.split(".");const i=Math.max(e.length,t.length);for(;e.length<i;)e.push("0");for(;t.length<i;)t.push("0");for(let n=0;n<i;n++){const i=parseInt(e[n],10),r=parseInt(t[n],10);if(i>r)return 1;if(i<r)return-1}return 0}function b(e={},t){"function"==typeof e.success&&e.success(t),"function"==typeof e.complete&&e.complete(t)}function A(e={},t){const i=t?{errMsg:t}:void 0;"function"==typeof e.success&&e.success(i),"function"==typeof e.complete&&e.complete(i)}function T(e={},t){const i=t?{errMsg:t}:void 0;"function"==typeof e.fail&&e.fail(i),"function"==typeof e.complete&&e.complete(i)}},5985:(e,t,i)=>{"use strict";i.d(t,{Z:()=>o});var n=i(8159),r=i(9078);const a=new n.Z,o={appLaunchInfo:null,appLaunchShareInfo:null,sceneHistory:[],appId:"",ShareInfoStorage:r.Z,emitter:a}},4915:(e,t,i)=>{"use strict";i.d(t,{e4:()=>r,WZ:()=>o,LY:()=>s});var n=i(1106);const r=["startPullDownRefresh"];let a=[];const o={appRoute:!1,appRouteDone:!1},s=(e,t,i)=>{const{appRoute:r,appRouteDone:s}=o;!r&&s?(0,n.oQ)(e,t,i):a.push({name:e,args:t,option:i})}},9185:(e,t,i)=>{"use strict";i.d(t,{b:()=>b,H:()=>w});var n=i(1106),r=i(2999),a=i(972),o=i(5985),s=i(5260),l=i(2046),c=i(8186),d=i(4212);const u=Object.hasOwnProperty,p=(0,l.s)("AppRouteNotFound"),h=(p.onMethod,p.offMethod,p.emit),f=(e,t)=>{d.s.info(`[rewriteRoute] (webviewId=${t}) ${e}`)};let y={};const _=(e,{needHtmlSuffix:t})=>{const i=e.replace(/\.html(\?|$)/i,(e=>e.slice(5)));let n=(0,s.S0)(i);if("/"===n[0]&&(n=n.slice(1)),!t)return n;let r=n.indexOf("?");r<0&&(r=n.length);return n.slice(0,r)+".html"+n.slice(r)},g=(e,t=0)=>{if(["dismissPip","navigateBack"].includes(e.openType))return!1;if("rewriteRoute"===e.openType&&(e=((e,t)=>{let i=0;if(u.call(e,"originalWebviewId"))i=e.originalWebviewId,f(`Found originalWebviewId=${i}`,t);else{if(1!==Object.keys(y).length)return f(`No originalWebviewId found and we have ${Object.keys(y).length} backup data, guess failed, cleaning backups and giving up`,t),y={},e;i=Object.keys(y)[0],f(`No originalWebviewId found and guess it=${i}`,t)}const n=y[i];return delete y[i],["openType","wxMaterial","location","prerender"].forEach((t=>{e[t]=n[t]})),e})(e,t)),!e.notFound)return!1;let i=!1,n=e.rawPath;for(;/^[-_+a-z]+:\/\//i.test(n);){f(`${n} has protocol, try rewriting`,t);try{n=_(n,{needHtmlSuffix:!0}),i=!0}catch(e){return"AppServiceSdkKnownError"===e.type&&console.error(e.message),(0,c.IN)("pageNotFoundCallback",{hasHandler:!1,webviewId:t}),!1}}return i?(y[t]=e,f(`rewriteRoute from "${e.rawPath}" to "${n}"`,t),(0,c.IN)("rewriteRoute",{url:n,webviewId:t}),!0):(h(e,t),!1)};var m=i(665),v=i(7551),E=i(4915);const I=(0,l.s)("AppRoute"),w=I.internalOnMethod,b=I.internalOffMethod,A=new Set;(0,r.n)("onAppRoute",((e,t=0)=>{d.s.log("received onAppRoute, res=",JSON.stringify(e)),E.WZ.appRoute=!0,E.WZ.appRouteDone=!1;if(!g(e,t)){if(e.path=(0,s.Z8)(e.path),e.webviewId=void 0!==e.webviewId?e.webviewId:t,"dismissPip"!==e.openType&&(v.Z.lastRoute=e.path||"",v.Z.lastRawQuery=JSON.parse(JSON.stringify(e.query||{}))),v.Z.lastOpenType=e.openType,["appLaunch","autoReLaunch"].includes(e.openType)&&A.add(t),!A.has(t))for(const t in e.query)try{e.query[t]=decodeURIComponent(e.query[t])}catch(e){}if("dismissPip"!==e.openType&&(v.Z.query=e.query,v.Z.currentWebviewId=e.webviewId),"undefined"!=typeof __libVersionInfo__&&__libVersionInfo__.features&&__libVersionInfo__.features.pruneWxConfigByPage){const t=e.preloadRule||m.Z._preloadRule&&m.Z._preloadRule[e.path],i=e.page||m.Z._page&&m.Z._page[e.path+".html"];if(t&&(m.Z.updatePreloadRule(e.path,t),e.preloadRule,m.Z.preloadRule),i){const t=m.Z.global&&m.Z.global.window||{};i.window=Object.assign({},t,i.window),m.Z.updatePage(e.path,i),e.page,m.Z.page}}(0,n.nY)("onAppRoute",e,[]),(0,a._o)()&&o.Z.emitter.emit("onAppRoute"),I.emit(e)}}))},2802:(e,t,i)=>{"use strict";i.d(t,{c:()=>n});const n="undefined"==typeof __libVersionInfo__||"develop"===__libVersionInfo__.version?"9.9.9":__libVersionInfo__.version},4212:(e,t,i)=>{"use strict";i.d(t,{s:()=>l});var n=i(1106);const r=__wxConfig.platform;let a=[];const o=e=>{const t=("0"+(e.getMonth()+1)).slice(-2),i=("0"+e.getDate()).slice(-2),n=("0"+e.getHours()).slice(-2),a=("0"+e.getMinutes()).slice(-2),o=("0"+e.getSeconds()).slice(-2),s=("00"+e.getMilliseconds()).slice(-3),l=`${e.getFullYear()}-${t}-${i}`,c=`${n}:${a}:${o}.${s}`;if("ios"===r){return`${l} ${c}000${(e.getTimezoneOffset()/6e3*-1).toFixed(4).replace(/^0\./,"+").replace(/-0\./,"-")}`}return`${l} ${(e.getTimezoneOffset()/60*-1).toFixed(1).replace(/^(\d)/,"+$1")} ${c}`},s=e=>function(...t){const i=t.map((e=>{switch(e){case null:return"null";case void 0:return"undefined";default:return e.toString()}})).join(" ");a.push({date:new Date,type:e,content:i})};__wxConfig.onReady((()=>{setTimeout((function e(){var t;(setTimeout(e,2e3),0!==a.length)&&(t=a.slice(),"ios"===r&&"function"==typeof systemLog?systemLog({dataArray:t.map((e=>`\n${o(e.date)} [${e.type[0].toUpperCase()}][weapplib] ${e.content}`))}):"ios"===r||"windows"===r?(0,n.IN)("systemLog",{dataArray:t.map((e=>({message:`\n${o(e.date)} [${e.type[0].toUpperCase()}][weapplib] ${e.content}`})))}):"android"===r&&(0,n.IN)("systemLog",{message:["\n"].concat(t.map((e=>`[${e.type[0].toUpperCase()}][${o(e.date)}][weapplib] ${e.content}`))).join("\n")}),a=[])}),2e3)}));const l={log:s("log"),debug:s("debug"),info:s("info"),warn:s("warn"),error:s("error")}},6998:(e,t,i)=>{"use strict";i.d(t,{_V:()=>c,PQ:()=>d,PL:()=>u});var n=i(1106),r=i(2046),a=i(665),o=i(7551);let s="";const l=(0,r.s)("networkstatusChange"),c=e=>{(0,n.IN)("getNetworkType",e)},d=l.onMethod,u=(l.offMethod,()=>s);(0,n.jQ)("onNetworkStatusChange",((e={})=>{s=e.networkType,o.Z.currentNetworkType=s,l.emit(e),(0,n.nY)("onNetworkStatusChange",e)})),a.Z.onReady((()=>{c({success(e){s=e.networkType,o.Z.currentNetworkType=s}})}))},3170:(e,t,i)=>{"use strict";i.d(t,{xI:()=>p,Oo:()=>m,Ew:()=>v});var n=i(1106),r=i(2999),a=i(2802),o=i(665),s=i(2582),l=i(1095);i(7322);let c=null;const d=e=>{let t=s.iw;s.cj&&(e.brand="iPhone"),s.gm&&"devtools"!==e.brand&&(t="iPhone"===e.brand?"ios":"android"),e.platform=t,e.SDKVersion=a.c,e.enableDebug=Boolean(o.Z.debug),o.Z.devicePixelRatio&&(e.devicePixelRatio=o.Z.devicePixelRatio),o.Z.theme&&(e.theme=o.Z.theme),o.Z.host&&(e.host=o.Z.host),s.wZ&&/^\d+\.\d+$/.test(e.version)&&(e.version+=".0"),c=Object.assign({},e),delete c.errMsg,(0,l.Av)()&&4!==o.Z.appType&&(e.safeArea=Object.assign({},e.safeArea),e.safeArea.top=0,e.safeArea.bottom=e.screenHeight,e.safeArea.height=e.safeArea.bottom-e.safeArea.top),s.jP&&(e.renderer="h5")},u=()=>{o.Z.isReady||(new Error).stack},p=()=>{let e={};var t;return t={success(t){delete t.errMsg,e=t,c=Object.assign({},e)}},u(),(0,n.IN)("getSystemInfo",t,{beforeSuccess:d}),e},h=()=>c||p();let f=null,y=0,_=0;const g=["brand","model","pixelRatio","language","version","system","platform","SDKVersion"];o.Z.onReady((()=>{f={};for(let e=0;e<g.length;e++){if(!(g[e]in o.Z)){f=h();break}f[g[e]]=o.Z[g[e]]}if(o.Z.screenHeight&&o.Z.screenWidth)y=o.Z.screenWidth,_=o.Z.screenHeight;else{const e=h();y=e.screenWidth,_=e.screenHeight}}));const m=()=>o.Z.isReady?Object.assign({},f):((new Error).stack,{}),v=()=>o.Z.isReady?{screenWidth:y,screenHeight:_,deviceOrientation:y>_?"landscape":"portrait"}:((new Error).stack,{});let E=!1;const I=new Set;(0,r.n)("onAppRouteDone",(()=>{E=!0,I.forEach((e=>e())),I.clear()}));new Set,(()=>{let e})()},7322:(e,t,i)=>{"use strict";var n=i(1106);i(7452),i(7551);const r=[];(0,n.Ld)("callbackWebviewMethod",(({res:e,callbackId:t})=>{const i=r[t];delete r[t],i&&i(e)}))},4016:(e,t,i)=>{"use strict";i.d(t,{o:()=>ce,b:()=>me});var n=i(812),r=i(6998),a=i(1106),o=i(1095),s=i(9066);let l=0,c=[];const d=()=>{const e=JSON.stringify({business:"mmbizwxaservicequality",dataArray:c,appType:Reporter.getAppType()},null,2);(0,a.IN)("reportRealtimeAction",{actionData:e}),c=[]},u=e=>{let t="";return Object.keys(e).forEach(((i,n)=>{try{const r=`${encodeURIComponent(i)}=${encodeURIComponent(e[i])}`;0!==n&&(t+="&"),t+=r}catch(e){}})),t};var p=i(2184),h=i(7452),f=i(2347);i(2159);const{saveFile:y,saveFileSync:_,getSavedFileList:g,getSavedFileInfo:m,removeSavedFile:v,getFileInfo:E,readFile:I,readFileSync:w,writeFile:b,writeFileSync:A,mkdir:T,mkdirSync:S,rmdir:C,rmdirSync:P,readdir:D,readdirSync:O,access:k,accessSync:x,unlink:R,unlinkSync:N,stat:M,statSync:L,unzip:F,copyFile:j,copyFileSync:W,rename:U,renameSync:V,appendFile:B,appendFileSync:Z}=f.ZP.app;var G=i(6012),H=i(2582);class ${constructor(e){if(this._status="pending",this._return=void 0,this._processors=[],"function"!=typeof e)throw new TypeError("Promise resolver is not a function");try{e((e=>{"pending"===this._status&&(this._status="then",this._return=e,this._consume())}),(e=>{"pending"===this._status&&(this._status="catch",this._return=e,this._consume())}))}catch(e){this._status="catch",this._return=e,this._consume()}}_consume(){if("pending"===this._status)return;let e;do{e=this._processors.shift()}while(e&&e.type!==this._status);if(e)try{this._return=e.func(this._return),this._status="then"}catch(e){this._return=e,this._status="catch"}finally{this._consume()}}then(e){return this._processors.push({func:e,type:"then"}),this._consume(),this}catch(e){return this._processors.push({func:e,type:"catch"}),this._consume(),this}static resolve(e){return new $((t=>t(e)))}static reject(e){return new $((()=>{throw e}))}}var Y=i(665);const z=(0,o.Fr)(M);let q=0;const K=new WeakMap,J=new WeakMap,X=new WeakMap,Q=new WeakMap,ee=new WeakMap,te=new WeakMap,ie=new WeakMap,ne=new WeakMap,re=new WeakMap,ae=new WeakMap,oe={},se=new p.Q("Network",!0),le=wxNativeConsole.createLogger("NetworkTask");class ce{constructor(e,{taskType:t,beforeSend:i,beforeSuccess:n,beforeFail:r}){const a=q++;K.set(this,a),X.set(this,"waiting"),Q.set(this,e),ee.set(this,t),ie.set(this,i),ne.set(this,n),(0,h.mf)(r)&&re.set(this,r);let o=!1;H.jP&&(o=!0),H.wZ&&Y.Z.clientVersion>=654315008&&("Download"!==t&&"Request"!==t||Object.keys(Y.Z.gamePlugins||Y.Z.plugins||{}).forEach((e=>{const t=(Y.Z.gamePlugins||Y.Z.plugins)[e];!t||"wx20afc706a711eefc"!==t.provider&&"wx4d5893418b75cb20"!==t.provider||(o=!0)}))),ae.set(this,o),this.promise=new $(((e,t)=>{this.resolve=e,this.reject=t}));const s=()=>{_e.call(this)?oe[t].taskQueue.push({id:a,item:this}):ue.call(this)};(0,h.mf)(e.customCheck)?e.customCheck(e,(i=>{i?de(t,e,i):s()})):s()}abort(){if(le.info(`[${ee.get(this)}][${K.get(this)}]abort()`),"waiting"===X.get(this)){le.info(`[${ee.get(this)}][${K.get(this)}] waiting=true`);const e=oe[ee.get(this)].taskQueue.findIndex((e=>e.id===K.get(this)));e>-1&&(oe[ee.get(this)].taskQueue.splice(e,1),(0,n.YG)(oe[ee.get(this)].functionName,Q.get(this),"abort")),X.set(this,"done")}else this.promise.then((()=>{(0,n.IN)(`operate${ee.get(this)}Task`,{[`${ee.get(this).toLowerCase()}TaskId`]:J.get(this),operationType:"abort"})}))}onProgressUpdate(e){this.promise.then((()=>{se.on(`${ee.get(this)}${J.get(this)}progressUpdate`,e)}))}offProgressUpdate(e){this.promise.then((()=>{se.off(`${ee.get(this)}${J.get(this)}progressUpdate`,e)}))}onHeadersReceived(e){this.promise.then((()=>{se.on(`${ee.get(this)}${J.get(this)}headersReceived`,e)}))}offHeadersReceived(e){this.promise.then((()=>{se.off(`${ee.get(this)}${J.get(this)}headersReceived`,e)}))}}function de(e,t,i){(0,n.FE)({name:oe[e].functionName,args:{success:t.success,fail:t.fail,complete:t.complete},success:!1,errMsg:i})}function ue(){const e=Q.get(this),t=ee.get(this),i=ae.get(this);X.set(this,"sending"),te.set(this,Date.now());const n=pe.call(this);i?this.promise.then((()=>{he.call(this)})).catch((i=>{de(t,e,i)})):n?de(t,e,n):he.call(this)}function pe(){const e=ee.get(this),t=Q.get(this);let i;oe[e].currentTaskCount++;const r={data:t.data,url:t.url,header:t.header,method:t.method,timeout:(0,h.hj)(t.timeout)?t.timeout:0,enableHttp2:!!(0,h.jn)(t.enableHttp2)&&t.enableHttp2,enableQuic:!!(0,h.jn)(t.enableQuic)&&t.enableQuic,enableCache:!!(0,h.jn)(t.enableCache)&&t.enableCache,enableProfile:!(0,h.jn)(t.enableProfile)||t.enableProfile,ip:t.ip,port:t.port,forbidReuse:!!(0,h.jn)(t.forbidReuse)&&t.forbidReuse,host:t.host,__skipDomainCheck__:t.__skipDomainCheck__,success:t=>{const i=t[`${e.toLowerCase()}TaskId`];J.set(this,i),oe[e].taskIdMap[i]=this,this.resolve()},fail:n=>{oe[e].currentTaskCount--;const r=n[`${e.toLowerCase()}TaskId`];i=n.errMsg,fe.call(this,{taskType:e,options:t,errMsg:i,success:!1}),this.reject(i),le.error(`[${e}][createTask][Fail] taskId=${r}`)},complete:()=>{X.set(this,"done")}},a=ae.get(this),o=`create${e}Task${a?"Async":""}`;return(0,n.IN)(o,ie.get(this)(r)),i}function he(){const e=J.get(this),t=Q.get(this),i=ee.get(this),r=oe[i].functionName;se.on(`${i}${e}success`,(e=>{ne.get(this).call(this,e),(0,n.FE)({name:r,args:{success:t.success,fail:t.fail,complete:t.complete},res:e})})),se.on(`${i}${e}fail`,(e=>{const i=re.get(this);i&&i.call(this,e),(0,n.FE)({name:r,args:{success:t.success,fail:t.fail,complete:t.complete},success:!1,errMsg:e.errMsg})}))}function fe({taskType:e,options:t,errMsg:i,success:n=!0,dataLength:a=0,statusCode:p="",responseDataLength:h=0,profile:f={}}){const y=t.url,_=n?1:2,g=Date.now()-te.get(this),m=t.__skipDomainCheck__;g>=6e4&&le.error(`reportTask costTime too long: ${g}ms, taskId=${J.get(this)}`),((e,t,i,n,a,p,h,f=0,y=0,_={})=>{let g="",m="";if((0,o.aI)()&&(m=u(s.Z.query)),"undefined"!=typeof __appServiceEngine__){const e=__appServiceEngine__.getCurrentPages();if(e&&e.length>0){const t=e[e.length-1];t&&(g=t.route,m=t.__displayReporter&&t.__displayReporter.showOptions&&t.__displayReporter.showOptions.query)}}const v=[e,t,i,n,a,Reporter.getAppType(),p,f,(0,r.PL)(),g,m,y,u(_)].map(encodeURIComponent).join(",");Reporter.reportKeyValue({key:"NetworkAPI",value:v}),Reporter.reportIDKey({key:`${e}_${1===i?"ok":"fail"}`}),c.push([e,t,i,p||"",n,a,(0,r.PL)(),h?"1":"0",Reporter.getAppType(),f].map((e=>{let t;try{t=encodeURIComponent(e)}catch(i){t=e}return t})).join(",")),Date.now()-l>=6e4&&(l=Date.now(),setTimeout(d,6e4))})(oe[e].functionName,y,_,g,i,p,m,a,h,f)}function ye(e,t){const i=`${t.toLowerCase()}TaskId`,n=e[i],{state:r,header:a}=e;if(delete e.state,delete e[i],e.cookies=a?(0,G.$)(a["Set-Cookie"]||a["set-cookie"]):[],se.emit(`${t}${n}${r}`,e),"success"===r||"fail"===r){const i=oe[t].taskIdMap[n],a=Q.get(i);if(!i)return;oe[t].currentTaskCount-=1,oe[t].taskQueue.length>0&&ue.call(oe[t].taskQueue.shift().item);let s=Promise.resolve((0,o.Y6)(a.data));if("Upload"===t){let e=0;"object"==typeof a.formData&&null!==a.formData&&(e=JSON.stringify(a.formData).length),s=z({path:a.filePath}).then((t=>e+t.stats.size)).catch((()=>e))}let l=Promise.resolve((0,o.Y6)(e.data));if("Download"===t){const t=e.dataLength;l="number"==typeof t?Promise.resolve(t):z({path:e.filePath||e.tempFilePath||""}).then((e=>e.stats.size)).catch((()=>0))}Promise.all([s,l]).then((([n,o])=>{fe.call(i,{taskType:t,options:a,errMsg:e.errMsg,statusCode:e.statusCode,success:"success"===r,dataLength:n,responseDataLength:o,profile:e.profile})})),ge.call(i)}}function _e(){const e=ee.get(this);return oe[e].currentTaskCount>=oe[e].maxTaskCount}function ge(){const e=ee.get(this),t=J.get(this);delete oe[e].taskIdMap[t],se.removeAllListeners(`${e}${t}success`),se.removeAllListeners(`${e}${t}fail`),se.removeAllListeners(`${e}${t}complete`)}function me(e,t){const i=oe[e]?oe[e]:{currentTaskCount:0,maxTaskCount:10,taskQueue:[],functionName:"",taskIdMap:{}};(0,n.jQ)(`on${e}TaskStateChange`,(t=>{ye.call(this,t,e)})),oe[e]=Object.assign(i,t)}},6012:(e,t,i)=>{"use strict";function n(e){if(!e)return[];if(Array.isArray(e))return e;return e.split(",").reduce(((e,t)=>(/^\s*\S+=/.test(t)?e.push(t):e.length&&(e[e.length-1]+=t),e)),[]).map((e=>e.trim()))}function r(e){const t={protocol:/^(.+)\:\/\//,host:/\:\/\/(.+?)[\?\#\s\/]/,path:/\w(\/.*?)[\?\#\s]/,query:/\?(.+?)[\#\/\s]/,hash:/\#(\w+)\s$/};return e+=" ",Object.keys(t).forEach((i=>{const n=t[i];t[i]="query"===i?n.exec(e)&&n.exec(e)[1].split("&").reduce(((e,t)=>{const i=t.split("=");return e[i[0]]=i[1],e}),{}):n.exec(e)&&n.exec(e)[1]})),t}i.d(t,{$:()=>n,e:()=>r})},7646:(e,t,i)=>{"use strict";i.d(t,{JM:()=>o,Ce:()=>a});var n=i(1106),r=i(2582);const a=(e=!0,t,i=!1,a=!1)=>(o={})=>{if(!(0,n.r3)("operateWXData",o,{apiName:""}))return;if("operateWXData"===t){}const s={api_name:o.apiName,data:o.reqData||{},operate_directly:e};i&&(s.plugin_appid=o.pluginId);const l={data:s,isImportant:!0===a,requestInQueue:!o.hasOwnProperty("requestInQueue")||Boolean(o.requestInQueue)};(0,n.gM)(Object.assign({},l,o),{beforeAll(e){void 0!==t&&(e.errMsg=e.errMsg.replace("operateWXData",t))},beforeSuccess(e){r.wZ&&"string"==typeof e.data&&(e.data=JSON.parse(e.data)),void 0!==e.data.data&&(e.rawData=e.data.data),e.data.encryptedData&&(e.encryptedData=e.data.encryptedData,e.iv=e.data.iv,e.data.cloud_id&&(e.cloudID=e.data.cloud_id)),e.respData=e.data,delete e.data}})},o=(a(!0),a(!1));a(!0,void 0,!0)},9078:(e,t,i)=>{"use strict";i.d(t,{Z:()=>a});var n=i(5260);const r={},a={lastShareTicket:null,get:e=>r[e],set(e,t){const i=(0,n.M8)();return r[i]={shareKey:e,shareName:t},i}}},972:(e,t,i)=>{"use strict";i.d(t,{_o:()=>a,Ft:()=>o,LN:()=>s,Ks:()=>l});var n=i(665),r=i(2582);const a=(()=>{let e=!1;return(r.cj||r.wZ&&n.Z.clientVersion>=637865520)&&(e=!0),()=>e})(),o=(()=>{let e=!1;return r.cj&&n.Z.clientVersion>=385877248&&(e=!0),()=>e})(),s=(()=>{let e=!1;return r.cj&&n.Z.clientVersion>=385878314&&(e=!0),()=>e})(),l=(()=>{let e=!1;return r.cj&&n.Z.clientVersion>=402655232&&n.Z.clientVersion<=402655487&&(e=!0),()=>e})()},3533:(e,t,i)=>{"use strict";i.d(t,{iy:()=>le,Hk:()=>we});var n=i(1503),r=i.n(n),a=i(3356),o=i.n(a),s=i(812),l=i(5260),c=i(1106),d=i(5985),u=i(972),p=i(7551),h=i(665),f=i(5014);function y(e={},t){if(e.scene=e.scene?parseInt(e.scene,10):e.scene,e.query=(t?e.query:p.Z.query)||{},e.path=t?(0,l.Z8)(e.path):(0,l.Z8)(p.Z.lastRoute),e.referrerInfo=e.referrerInfo||{},e.isLaunch=t,t||(1044===e.scene?p.Z.lastShareInfo={shareInfo:e.shareInfo,path:e.path,query:e.query}:p.Z.lastShareInfo=void 0),d.Z.sceneHistory.push(e.scene),!e.referrerInfo.appId||1036!==e.scene&&1069!==e.scene||(d.Z.appId=e.referrerInfo.appId),"object"==typeof e.shareInfo&&null!==e.shareInfo){const{shareInfo:t}=e;t.shareKey&&t.shareName&&((0,c.IN)("showUpdatableMessageSubscribeButton",{shareKey:t.shareKey}),e.shareTicket=d.Z.ShareInfoStorage.set(t.shareKey,t.shareName),d.Z.ShareInfoStorage.lastShareTicket=e.shareTicket),delete e.shareInfo}return e}let _;function g(e={},t){0===(e=Object.assign({},e)).scene?e.scene=_:_=e.scene;let i=e.scene;1103===i?i=1001:1104===i?i=1089:1131===i||1158!==i&&1159!==i&&1160!==i||!(0,f.J)("getGroupToolbarInfo")&&(i=1008),[1106,1005,1006,1027,1042].indexOf(i)>-1&&(e.referrerInfo.appId=null);const n=e.referrerInfo.appId?{appId:e.referrerInfo.appId,extraData:e.referrerInfo.extraData}:{};if(e.referrerInfo.privateExtraData&&e.referrerInfo.privateExtraData.__pluginAppId){e.referrerInfo.appId&&(n.pluginAppId=e.referrerInfo.privateExtraData.__pluginAppId),delete e.referrerInfo.privateExtraData.__pluginAppId;0===Object.keys(e.referrerInfo.privateExtraData).length&&delete e.referrerInfo.privateExtraData}const r={path:e.path,query:e.query,scene:i,shareTicket:e.shareTicket,referrerInfo:n};e.chatroomUsername&&1156===i&&(r.chatroomUsername=e.chatroomUsername),e.chatType&&(r.chatType=e.chatType);const a=e.nativeExtraData||{};return a.location&&(r.locationInfo=a.location),7!==h.Z.appType&&10!==h.Z.appType||(e.nativeExtraData&&(r.nativeExtraData=e.nativeExtraData),r.sessionId=e.sessionid||e.sessionId,r.isLaunch=e.isLaunch,e.isLaunch&&(r.prerender=!!h.Z.prerender),r.clickTimestamp=e.clickTimestamp,r.preloadType=t),e.mode&&(r.mode=e.mode),1173===i&&(a.mimeType?r.forwardMaterials=[{type:a.mimeType,path:a.materialPath,name:a.materialName,size:a.materialSize}]:Array.isArray(a.materials)&&(r.forwardMaterials=a.materials)),r}function m(e,t=""){if((0,l.p9)(e.path||"")!==t){const t={path:e.path,query:{},scene:e.scene,shareTicket:e.shareTicket,referrerInfo:{}};return e.mode&&(t.mode=e.mode),10===h.Z.appType&&(e.nativeExtraData&&(t.nativeExtraData=e.nativeExtraData),t.sessionId=e.sessionId,t.isLaunch=e.isLaunch,e.isLaunch&&(t.prerender=e.prerender),t.clickTimestamp=e.clickTimestamp,t.preloadType=e.preloadType),t}return e}i(883);new(i(8159).Z);var v=i(1095);new WeakMap;let E=null,I={};function w(e){E=e}function b(e){I=e}(0,c.Ld)("getEnterAppInfo",(({callbackId:e},t)=>{(0,c.nY)("appEnterInfoGot",{res:I,callbackId:e},[t])}));var A=i(2046),T=i(2999);h.Z.onReady((()=>{p.Z.scene=h.Z.appLaunchInfo.scene}));const S=(0,A.s)("AppEnterForeground"),C=S.internalOnMethod;function P(e){if(!(0,v.aI)()){b(e=y(e,!1));const t=g(e);e.__public=m(t,""),w(t),S.emit(e),p.Z.scene=e.scene}}(0,T.n)("onAppEnterForeground",((e={})=>{const t=e.debugLaunchInfo||{};Object.assign(e,t),delete e.debugLaunchInfo,!(0,u._o)()||1!==e.reLaunch&&!0!==e.reLaunch?P(e):d.Z.emitter.once("onAppRoute",(()=>{P(e)})),(0,c.nY)("onAppEnterForeground",e)}));var D=i(9185),O=(i(7322),i(2582));let k,x;(0,c.Ld)("getLaunchAppInfo",(({callbackId:e},t)=>{(0,c.nY)("appLaunchInfoGot",{res:{sceneHistory:d.Z.sceneHistory,appId:d.Z.appId},callbackId:e},[t])})),h.Z.onReady((()=>{if(!(0,v.aI)()){const e=h.Z.appLaunchInfo||{};Object.assign(e,h.Z.debugLaunchInfo||{}),d.Z.appLaunchInfo=e,d.Z.appLaunchShareInfo=e.shareInfo,b(e),x=y(e,!0),k=g(x,h.Z.preloadType),x.__public=m(k,""),w(k)}}));const R=(0,A.s)("AppShow"),N=(R.onMethod,R.offMethod,R.internalOnMethod);C((e=>{R.emitInternal(e)})),(0,D.H)((function e(t){if("appLaunch"===t.openType){const t=function(){if(!x)throw new Error("getLaunchOptionsSync:fail get launch options");return x||{}}();R.emitInternal(t),(0,D.b)(e)}}));let M=[];const L=["expires","domain","path","busid","indate","receivetime","spread"],F={scene:-1,sceneNote:"",sessionId:""};N(((e={})=>{F.scene=e.scene,F.sceneNote=e.scene_note,F.sessionId=e.sessionid}));function j(e){const t=[];for(const i in e)L.indexOf(i)>=0&&t.push(`${encodeURIComponent(i)}=${encodeURIComponent(e[i])}`);return t.push(`${encodeURIComponent(e.key)}=${encodeURIComponent(e.value)}`),t.join("; ")}const W=(0,A.s)("AppEnterBackground"),U=W.internalOnMethod;(0,T.n)("onAppEnterBackground",((e={})=>{W.emit(e),(0,c.nY)("onAppEnterBackground",e)}));i(9973);var V=i(7646),B=i(4212),Z=i(2288),G=i(5062);const H=(0,A.s)("navigateBackIntercept"),$={SlideBack:1,BottomBackButton:2,NavigationBarBack:3,NavigateBackCall:4},Y=[$.SlideBack,$.BottomBackButton,$.NavigationBarBack,$.NavigateBackCall],z=[];let q=0;(0,c.jQ)("onNavigateBackIntercept",((e={})=>{const{id:t}=z[z.length-1]||{};H.emit(r()(r()({},e),{},{id:t})),(0,c.nY)("onNavigateBackIntercept",r()(r()({},e),{},{id:t}))}));const K=({scopes:e}={})=>{const t=new Set(e||[]),i={scopes:Y.map((e=>({type:e,interception:t.has(e)})))};return(0,c.bb)("setNavigateBackInterception",i)},J=function(){var e=o()((function*(e={}){var t;e=r()(r()({},e),{},{scopes:null!==(t=e.scopes)&&void 0!==t?t:Y}),yield K(e);const i=++q;return z.push({id:i,options:e}),{id:i}}));return function(){return e.apply(this,arguments)}}(),X=((0,G.NX)("setNavigateBackInterception",J),function(){var e=o()((function*({id:e}={}){const t=z.findIndex((t=>t.id===e));if(!(t<0)){if(t===z.length-1){let e;e=z.length>1?z[z.length-2].options:{scope:[]},yield K(e)}z.splice(t,1)}}));return function(){return e.apply(this,arguments)}}()),Q=((0,G.NX)("stopNavigateBackInterception",X),H.internalOnMethod),ee=H.internalOffMethod,te=function(){var e=o()((function*(e,t=Y){const{id:i}=yield J({scopes:t}),n=t=>{t.id===i&&e(t)};return Q(n),{id:i,handler:n}}));return function(t){return e.apply(this,arguments)}}(),ie=function(){var e=o()((function*(e){const{id:t,handler:i}=(yield e)||{};yield X({id:t}),ee(i)}));return function(t){return e.apply(this,arguments)}}();var ne=i(607),re=i(6998);const ae=(()=>{let e;const t=t=>{e="halfPage"===t.mode};return C((e=>t(e))),h.Z.onReady((()=>t(h.Z.appLaunchInfo||{}))),()=>e})();(()=>{const e=[1175,1177];let t;const i=i=>{t=e.includes(i.scene)};C((e=>i(e))),h.Z.onReady((()=>i(h.Z.appLaunchInfo||{})))})();var oe=i(3536);const se=(0,G.Vl)(V.JM),le=(e={},t={},i={})=>{JSON.stringify(e),JSON.stringify(t),JSON.stringify(i),B.s.log(`[_doNavigateToMiniProgram], args=${JSON.stringify(e)}, privateArgs=${JSON.stringify(t)}, ext=${JSON.stringify(i)}`);const n=Object.assign({},e);delete n.sourcetype,delete n.preScene,delete n.preSceneNote,delete n.mode,7!==h.Z.appType&&(delete n.scene,delete n.sceneNote);const r=(e=>{const t=Date.now(),i=[];M.forEach((e=>{const n=e.expires||e.__wxprivate_calc_expires__;e.domain&&"*"===e.domain&&(!n||1e3*n>t)&&i.push(j(e))}));const n=i.join(";; ");return e&&e.success&&e.success({cookies:n}),n})();r?(n.privateExtraData=n.privateExtraData||{},n.privateExtraData.cookies=r):n.privateExtraData&&delete n.privateExtraData.cookies;const a=Object.assign({},n,t);if("string"==typeof a.path&&a.path.trim().length>0?a.path=(0,l.Pp)(a.path).trim():a.path=void 0,a.halfPage=Object.assign({},a.halfPage||{}),a.halfPage.hideCapsuleMenu=!1,a.halfPage.capsuleMenuType="singleClose",JSON.stringify(a),B.s.log(`[_doNavigateToMiniProgram], finalArgs=${JSON.stringify(a)}`),a.needTransferToWeChat&&(0,v.er)())return(0,s.FE)({name:"navigateToMiniProgram",args:a}),delete a.success,delete a.fail,delete a.complete,void(0,s.IN)("sdk_navigateToMiniProgram",a,i);(0,s.IN)("navigateToMiniProgram",a,i)},ce=(e,t,i,n)=>{const r=[e,t,h.Z.appType+1e3,i+1e3,n].join(",");Reporter.reportKeyValue({key:"NavigateToMiniProgramAlert",value:r})},de=(()=>{let e;return()=>(e||(e=new Promise((e=>{__sclEngine__.initScl((t=>e(t.mainRoot)))}))),e)})(),ue=function(){var e=o()((function*(e){const t=yield de();let i;switch(he){case pe.HALF_SCREEN_DIALOG_WITHOUT_LOGO:i=t.append("navigateToMp",{title:e.oldWording,logo:"",name:"",type:pe.HALF_SCREEN_DIALOG});break;case pe.HALF_SCREEN_DIALOG_WITH_FRIENDS_USED:i=t.append("navigateToMp",{title:e.title,logo:e.icon_url,name:e.desc,type:pe.HALF_SCREEN_DIALOG}),e.expensiveWording&&e.expensiveWording.then((({used_friend_cnt_sub_desc:e})=>{i.setData({desc:e||""})}));break;case pe.HALF_SCREEN_DIALOG_WITH_SCORE:i=t.append("navigateToMp",{title:e.title,logo:e.icon_url,name:e.desc,type:pe.HALF_SCREEN_DIALOG}),e.expensiveWording&&e.expensiveWording.then((({score_sub_desc:e})=>{i.setData({desc:e||""})}));break;default:i=t.append("navigateToMp",{title:e.title,logo:e.icon_url,name:e.desc,type:he})}const n=te((e=>{[$.BottomBackButton,$.NavigationBackInterceptionType,$.NavigateBackCall].includes(e.type)&&i.handleCancel()})),r=yield new Promise((e=>{i.addListener("confirm",(()=>{e({confirm:!0})})),i.addListener("cancel",(()=>{e({confirm:!1})}))}));return ie(n),r}));return function(t){return e.apply(this,arguments)}}(),pe={DEFAULT:0,DIALOG:1,HALF_SCREEN_DIALOG:2,HALF_SCREEN_DIALOG_WITHOUT_LOGO:3,HALF_SCREEN_DIALOG_WITH_SCORE:4,HALF_SCREEN_DIALOG_WITH_FRIENDS_USED:5};let he=pe.DEFAULT;h.Z.onReady((()=>{(0,Z.b)({experimentId:"clicfg_navigation_use_scl_alert_v5",experimentType:"Expt",success:e=>{JSON.stringify(e),e&&void 0!==e.testConfig&&(he=Number(e.testConfig)||pe.DEFAULT,Object.values(pe).includes(he)||(he=pe.DEFAULT))}})}));const fe=function(){var e=o()((function*(e,t,i,n,a,o){if(1===t)return;const l=he!==pe.DEFAULT&&"undefined"!=typeof __sclEngine__&&(O.gm||O.cj||O.wZ)&&a,c=l?he:pe.DEFAULT;let d;try{d=l?yield ue(r()(r()({},a),{},{oldWording:e,expensiveWording:o})):yield(0,s.bb)("showModal",{title:e,content:"",confirmText:"允许",cancelText:"取消",showCancel:!0,confirmColor:"#576B95",confirmColorDark:"#7D90A9",cancelColor:"#000000",cancelColorDark:"#AAAAAA"})}catch(e){throw ce(3,i,n,c),e}const{confirm:u}=d;if(!u)throw ce(2,i,n,c),new Error("cancel");ce(1,i,n,c)}));return function(t,i,n,r,a,o){return e.apply(this,arguments)}}(),ye=1,_e=2,ge=function(){var e=o()((function*(e){const t=[];switch(he){case pe.HALF_SCREEN_DIALOG_WITH_FRIENDS_USED:t.push(_e);break;case pe.HALF_SCREEN_DIALOG_WITH_SCORE:t.push(ye)}if(!t.length)return{};e.appId,B.s.log(`[_getNavigateWxAppDescInfo] appId=${e.appId}`);try{const{respData:i}=yield se({apiName:"webapi_getnavigatewxaappdesc",reqData:{target_appid:e.appId,desc_type_list:t}});i.data;return JSON.parse(i.data)}catch(e){return e.message,{}}}));return function(t){return e.apply(this,arguments)}}(),me=(()=>{let e=[];return h.Z.onReady((()=>{Array.isArray(h.Z.navigateToMiniProgramAppIdList)&&(e=h.Z.navigateToMiniProgramAppIdList,(0,f.J)("openWxappLimit5")&&e.splice(5))})),(t,i)=>new Promise(((n,r)=>{const a=(0,v.KU)("navigateToMiniProgramConfig");if(!1===a||O.gm)if(i)n();else if(e.indexOf(t)>-1)n({sourcetype:4});else{r({errMsg:`appId "${t}" is not in navigateToMiniProgramAppIdList`})}else!0===a?n():"unknown"===a&&n({sourcetype:4})}))})(),ve=function(){var e=o()((function*({appId:e,path:t,shortLink:i}){let n;B.s.log(`[_checkBeforeNavigateToMiniProgram] appId=${e} path=${t} shortLink=${i}`);const a=new Promise((e=>{n=e}));e&&!i&&n(e);const o=a.then((e=>ge({appId:e})));let l;he!==pe.DEFAULT&&de();try{l=yield(c={appId:e,shortLink:i},new Promise(((e,t)=>{c.appId,c.shortLink,B.s.log(`[_getNavigateWxAppInfo] appId=${c.appId} shortLink=${c.shortLink}`);const i=0,n=1;(0,V.JM)({apiName:"webapi_getnavigatewxaappinfo",reqData:{req_type:c.shortLink?n:i,target_appid:c.appId,target_short_link:c.shortLink},success(t){const i=JSON.parse(t.respData.data),n=i.action_code,r=i.skip_local_check,a=Boolean(i.runtime_sdk_whitelist),o=i.target_short_link_info;e({actionCode:n,skipLocalCheck:r,reason:i.reason,wording:i.wording,appType:i.apptype,newWording:i.new_wording,popupInfo:i.pop_up_info,needTransferToWeChat:a,shortLinkInfo:o}),t.respData.data},fail(e){t(e),e.errMsg}})})))}catch(i){return i.errMsg||i.message,{appId:e,path:t}}var c;const{actionCode:d,skipLocalCheck:u,reason:p,wording:f,appType:y,newWording:_,popupInfo:g,needTransferToWeChat:m,shortLinkInfo:v}=l;let E=1===d;if(v&&(e=v.wxa_appid,t=(v.wxa_path||"").replace(/\.html(\?|$)/,"$1"),n(e)),B.s.log(`[_getNavigateWxAppInfo][resolve] appId=${e} path=${t} actionCode=${d}, skipLocalCheck=${u}, reason=${p}, wording=${f}, appType=${y}, needTransferToWeChat=${m}`),1!==d&&2!==d)throw g?(Reporter.reportKeyValue({key:"WeAppNavBan",value:[h.Z.appType+1e3,h.Z.appLaunchInfo.scene,33,3302,0,1,p,"跳转跳出",(0,re.PL)()].join(",")}),(0,s.IN)("showModal",{showCancel:!0,content:g.desc,confirmText:g.confirm_wording,cancelText:g.cancel_wording,success({confirm:e}){const t=g.confirm_url;e&&(0,ne.n)({url:t}),Reporter.reportKeyValue({key:"WeAppNavBan",value:[h.Z.appType+1e3,h.Z.appLaunchInfo.scene,33,3302,e?1:2,2,p,"跳转跳出",(0,re.PL)()].join(",")})}})):f&&(0,s.IN)("showModal",{content:f,showCancel:!1}),new Error(p);if(1!==d&&ae()){if(7!==y)throw(0,oe.CF)({icon:"none",title:"暂不支持当前功能"}),new Error("not supported");E=!0}try{const i=yield me(e,u);return E||(yield fe(f,d,e,y,_,o)),r()(r()({},i),{},{appId:e,path:t,needTransferToWeChat:m})}catch(e){const t=e.errMsg||e.message;throw new Error(t)}}));return function(t){return e.apply(this,arguments)}}();(0,G.NX)("_checkBeforeNavigateToMiniProgram",ve);let Ee=!1,Ie=0;(0,s.Ld)("tapAnyWhere",(function(e){Ie=e.timeStamp,Ee=!0})),U((()=>{Ie=0,Ee=!1}));const we=()=>{Ie=Date.now(),Ee=!0}},607:(e,t,i)=>{"use strict";i.d(t,{n:()=>s});var n=i(1106),r=i(5260),a=i(7551);const o=e=>(t={})=>{if(!0!==a.Z.openUrlLock)if(t.url=t.url||"",(0,r.mQ)(t.url))a.Z.openUrlLock=!0,(0,n.IN)(e,t,{afterAll(){a.Z.openUrlLock=!1}});else{console.error("invalid url",t.url);const i={errMsg:`${e}: invalid url "${t.url}"`};"function"==typeof t.fail&&t.fail(i),"function"==typeof t.complete&&t.complete(i)}},s=(o("openUrl"),o("private_openUrl"))},9973:(e,t,i)=>{"use strict";i.d(t,{Y:()=>r});var n=i(7551);const r=({name:e,scene:t,strategy:i,timeDiffToLastTap:r=0})=>{let a;"undefined"!=typeof __appServiceEngine__&&(a=__appServiceEngine__.getCurrentPagesByDomain("").find((e=>e.__wxWebviewId__===n.Z.currentWebviewId))||{});const o=[e,t,Reporter.getAppType(),a?a.route:"",i||0,r].map(encodeURIComponent).join(",");Reporter.reportKeyValue({key:"RecycledAPI",value:o})}},3536:(e,t,i)=>{"use strict";i.d(t,{I6:()=>y,CF:()=>E});var n=i(1106),r=i(5260),a=i(7551),o=i(3533),s=i(2582),l=(i(1095),i(3872),i(9185)),c=i(2046);const d=(0,c.s)("XWebTextareaSupportedEvent");let u=!1;(0,n.Ld)("xWebTextareaSupported",(({canInsert2XWeb:e})=>{u=e,d.emit({canInsert2XWeb:e})})),(s.gm||s.qB||s.Mq||s.wZ||s.Ae)&&(0,n.Ld)("SPECIAL_PAGE_EVENT",(({data:e,eventName:t,ext:i,nodeId:o,instanceId:l},c=0)=>{if((!s.wZ||u)&&(e&&"input"===e.type&&i&&i.modelValueName&&__virtualDOM__.setModelValueData(e.detail.value,i.modelValueName,c,o),e&&"input"===e.type&&"function"==typeof a.Z.webviewEventCallback)){const s=a.Z.webviewEventCallback({data:e,eventName:t,webviewId:c,nodeId:o}),d=e.detail.value;if(i&&i.setKeyboardValue)if(void 0===s);else if("Object"===(0,r.Em)(s)){const e={};l&&(e.instanceId=l),d!==s.value&&(e.value=s.value+""),Number.isNaN(parseInt(s.cursor,10))||(e.cursor=parseInt(s.cursor,10)),(0,n.nY)("setKeyboardValue",e,[c])}else d!==s&&(0,n.nY)("setKeyboardValue",{value:s+"",cursor:-1,instanceId:l},[c])}}));const p=(0,c.s)("DomReady"),h=p.internalOnMethod;let f=!1;const y=(e={})=>{let t={title:"",content:"",confirmText:"确定",cancelText:"取消",showCancel:!0,confirmColor:"#576B95",confirmColorDark:void 0!==__wxConfig.theme&&e.confirmColor?e.confirmColor:"#7D90A9",cancelColor:"#000000",cancelColorDark:void 0!==__wxConfig.theme&&e.cancelColor?e.cancelColor:"#AAAAAA",editable:!1,placeholderText:""};t=(0,r.l7)(t,e),(0,n.r3)("showModal",t,{title:"",content:"",confirmText:"",cancelText:"",confirmColor:"",cancelColor:"",editable:!1,placeholderText:""})&&(t.confirmText.replace(/[^\x00-\xff]/g,"##").length>8?(0,n.YG)("showModal",e,"confirmText length should not larger than 4 Chinese characters"):t.cancelText.replace(/[^\x00-\xff]/g,"##").length>8?(0,n.YG)("showModal",e,"cancelText length should not larger than 4 Chinese characters"):(0,n.IN)("showModal",t,{beforeSuccess:e=>{e.confirm=Boolean(e.confirm),s.cj||s.Mq?e.cancel=!e.confirm:e.cancel=!e.confirm&&Boolean(e.cancel),(0,o.Hk)()},beforeAll(){f=!0},afterAll(){f=!1}}))},_={},g={};(0,l.H)((e=>{g[e.webviewId]=[]})),h((e=>{setTimeout((()=>{const t=e.webviewId,i=g[t]||[];_[t]=!0,i.length>0&&(v=!1,I=!1,i.forEach((e=>{const{res:t,args:i}=e,r=/hideLoading/.test(t.errMsg)?{beforeAll:e=>{e.errMsg=e.errMsg.replace("hideToast","hideLoading")}}:{};(0,n.IN)("hideToast",i,r)}))),delete g[t]}),100)}));let m=1,v=!1;const E=(e={})=>{let t={duration:1500,title:"",icon:"success",mask:!1};if(t=(0,r.l7)(t,e),e.image&&(t.image=(0,r.sd)(a.Z.lastRoute,e.image,!1)),["success","loading","none","error"].indexOf(t.icon)<0&&(t.icon="success"),"none"===t.icon&&(t.icon=""),!(0,n.r3)("showToast",t,{duration:1,title:"",icon:""}))return;const i=g[a.Z.currentWebviewId]||[];i.length>0&&(v=!1,I=!1,i.forEach((e=>{const{res:t,args:i}=e;"function"==typeof i.success&&i.success(t),"function"==typeof i.complete&&i.complete(t)})),delete g[a.Z.currentWebviewId]),v=m++,setTimeout((function(){v=!1}),t.duration),t.maskAll=!1,(0,n.IN)("showToast",t)};let I=!1},6947:(e,t,i)=>{"use strict";i.d(t,{Z:()=>n});const n="undefined"!=typeof NativeGlobal?NativeGlobal:{}},665:(e,t,i)=>{"use strict";i.d(t,{Z:()=>n});const n=__wxConfig},5014:(e,t,i)=>{"use strict";i.d(t,{J:()=>l});var n=i(1106),r=i(7452),a=i(665);const o={requestVirtualPayment:285,setCookies:502,getCookies:503,UDP:606,launchApplicationDirectly:620,screenCanvasReadPixels:631,navigateToMiniProgramDirectly:632,openDataContextExtension:638,batchGetContactDirectly:676,launchApp:692,sendBizRedPacketForOpen:694,openWxappLimit5:720,shareCallback:740,WeAppWorker:775,listenFrameChangeInWorker:776,requestSubscribeWhatsNew:782,getGroupToolbarInfo:803,requestMidasFriendPayment:804,createWebView:805,authShareRelationship:852,uploadToCommonCDN:878,quicklyAddBrandContact:879,engineOpenData:894,preloadMiniProgramEnvDirectly:900,predownloadMiniProgramPackageDirectly:901,addPhoneCalendar:912,addPhoneRepeatCalendar:913,privateScanItem:917,shareDataToWeRun:926,handoff:931,bindingDownload:972,bindingReadFile:973,bindingWebSocket:974,openH5GameClub:975,showShareImageMenu:978,plugin_launchApplicationDirectly_operateDirectly:1009,privateSearchContacts:1024,private_setNavigateBackInterception:1020,private_stopNavigateBackInterception:1021,TCP:1025,TCPServer:1026,inputTypeSafePassword:1027,startGameLiveDirectly:1045,getUserRecentGameLiveInfo:1049,private_getWebviewDebugInfo:1051,showRedPackage:1052},s={};a.Z.onReady((()=>{const e=Object.keys(o).map((e=>o[e]));(0,n.IN)("getPermissionBytes",{indexes:e,success(t){if(t.permissionBytes)for(let i=0;i<t.permissionBytes.length;i++){const n=e[i];s[n]=1===t.permissionBytes[i]}},fail(e){}})}));const l=e=>{const t=o[e];if("number"!=typeof t)return!1;if(!(0,r.o8)(s[t]))return s[t];let i=!1;return(0,n.IN)("getPermissionBytes",{indexes:[t],success(e){e.permissionBytes&&(i=1===e.permissionBytes[0],s[t]=i)}}),i}},2184:(e,t,i)=>{"use strict";i.d(t,{Q:()=>r});var n=i(7452);class r{constructor(e="",t=!1){this.type="",this.surround=!1,this.eventMap=new Map,this.callbackMap=new WeakMap,this.originalCallbackMap=new WeakMap,this.type=e,this.surround=t}on(e,t){if(!(0,n.mf)(t))return void console.error("emitter.on fail: callback must be a function");let i=t;var r,a;this.surround&&(r=t,a=`at ${this.type}${e} callback function`,i="undefined"!=typeof __errorTracer__?__errorTracer__.surroundThirdByTryCatch(r,a):"undefined"!=typeof __subContextEngine__?__subContextEngine__.surroundThirdByTryCatch(r,a):(...e)=>{try{return r(...e)}catch(e){return void console.error(`thirdScriptError\n${e.message};${a}\n`,e)}},this.callbackMap.set(t,i),this.originalCallbackMap.set(i,t)),this.eventMap.has(e)?this.eventMap.get(e).add(i):this.eventMap.set(e,new Set([i]))}off(e,t){const i=this.eventMap.get(e);if(i)if("function"!=typeof t)i.forEach((e=>{const t=this.originalCallbackMap.get(e);this.callbackMap.delete(t),this.originalCallbackMap.delete(e)})),i.clear();else if(this.surround){const e=this.callbackMap.get(t);i.delete(e),this.callbackMap.delete(t),this.originalCallbackMap.delete(e)}else i.delete(t)}emit(e,...t){if(this.eventMap.has(e)){new Set(this.eventMap.get(e)).forEach((e=>e(...t)))}}removeAllListeners(e){this.off(e)}getListenersLength(e){const t=this.eventMap.get(e);return t?t.size:0}}},2582:(e,t,i)=>{"use strict";i.d(t,{iw:()=>r,gm:()=>a,wZ:()=>o,cj:()=>s,qB:()=>l,Mq:()=>c,Ae:()=>d,DD:()=>u,jP:()=>h});var n=i(665);const r=n.Z.platform,a="devtools"===n.Z.platform,o="android"===n.Z.platform,s="ios"===n.Z.platform,l="windows"===n.Z.platform,c="mac"===n.Z.platform,d="mina"===n.Z.platform,u=l||c;const p=n.Z.host||{},h=(p.env,p.env,p.env,p.forceUseNativeMap,"object"==typeof window&&window&&window.__wkrenderer_h5)},2046:(e,t,i)=>{"use strict";i.d(t,{s:()=>s});var n=i(8159);const r=new n.Z({maxListeners:20,newListener:!1}),a=new n.Z({maxListeners:20,newListener:!1});const o={};function s(e){if(e=e[0].toUpperCase()+e.slice(1),!o[e]){let t=new WeakMap;o[e]={getGlobalListeners:()=>r.listeners(e),getInternalListeners:()=>a.listeners(e),emit:(...t)=>{a.emit(e,...t),r.emit(e,...t)},emitGlobal:(...t)=>{r.emit(e,...t)},emitInternal:(...t)=>{a.emit(e,...t)},internalOnMethod:(t,i={})=>{"function"==typeof t&&(i.prepend?i.once?a.prependOnceListener(e,t):a.prependListener(e,t):i.once?a.once(e,t):a.on(e,t))},internalOffMethod:t=>{"function"==typeof t&&a.off(e,t)},onMethod:i=>{const n=function(e,t){return"function"!=typeof t?(console.error(`on${e} should accept a function instead of ${typeof t}`),null):__errorTracer__.surroundThirdByTryCatch(t,`at api on${e} callback function`)}(e,i);n&&(t.set(i,n),r.on(e,n))},offMethod:i=>{if(function(e,t){return!t||"function"==typeof t||(console.error(`off${e} should accept a function instead of ${typeof t}`),!1)}(e,i))if(i){if(t.has(i)){const n=t.get(i);t.delete(i),r.off(e,n)}}else t=new WeakMap,r.removeAllListeners(e)}}}return o[e]}},8159:(e,t,i)=>{"use strict";i.d(t,{Z:()=>l});var n=Array.isArray?Array.isArray:function(e){return"[object Array]"===Object.prototype.toString.call(e)};function r(){this._events={},this._conf&&a.call(this,this._conf)}function a(e){e?(this._conf=e,e.delimiter&&(this.delimiter=e.delimiter),this._maxListeners=void 0!==e.maxListeners?e.maxListeners:20,e.newListener&&(this._newListener=e.newListener),e.removeListener&&(this._removeListener=e.removeListener)):this._maxListeners=20}function o(e,t){console.warn(`[Event] ${e} listeners of event ${t} have been added, possibly causing memory leak.`)}function s(e){this._events={},this._newListener=!1,this._removeListener=!1,a.call(this,e)}s.prototype.delimiter=".",s.prototype.setMaxListeners=function(e){void 0!==e&&(this._maxListeners=e,this._conf||(this._conf={}),this._conf.maxListeners=e)},s.prototype.event="",s.prototype.once=function(e,t){return this._once(e,t,!1)},s.prototype.prependOnceListener=function(e,t){return this._once(e,t,!0)},s.prototype._once=function(e,t,i){return this._many(e,1,t,i),this},s.prototype.many=function(e,t,i){return this._many(e,t,i,!1)},s.prototype.prependMany=function(e,t,i){return this._many(e,t,i,!0)},s.prototype._many=function(e,t,i,n){var r=this;if("function"!=typeof i)throw new Error("many only accepts instances of Function");function a(){return 0==--t&&r.off(e,a),i.apply(this,arguments)}return a._origin=i,this._on(e,a,n),r},s.prototype.emit=function(){this._events||r.call(this);var e=arguments[0];if("newListener"===e&&!this._newListener&&!this._events.newListener)return!1;var t,i,n,a,o,s=arguments.length;if(this._all&&this._all.length){if(o=this._all.slice(),s>3)for(t=new Array(s),a=0;a<s;a++)t[a]=arguments[a];for(n=0,i=o.length;n<i;n++)switch(this.event=e,s){case 1:o[n].call(this,e);break;case 2:o[n].call(this,e,arguments[1]);break;case 3:o[n].call(this,e,arguments[1],arguments[2]);break;default:o[n].apply(this,t)}}if("function"==typeof(o=this._events[e])){switch(this.event=e,s){case 1:o.call(this);break;case 2:o.call(this,arguments[1]);break;case 3:o.call(this,arguments[1],arguments[2]);break;default:for(t=new Array(s-1),a=1;a<s;a++)t[a-1]=arguments[a];o.apply(this,t)}return!0}if(o&&(o=o.slice()),o&&o.length){if(s>3)for(t=new Array(s-1),a=1;a<s;a++)t[a-1]=arguments[a];for(n=0,i=o.length;n<i;n++)switch(this.event=e,s){case 1:o[n].call(this);break;case 2:o[n].call(this,arguments[1]);break;case 3:o[n].call(this,arguments[1],arguments[2]);break;default:o[n].apply(this,t)}return!0}if(!this._all&&"error"===e)throw arguments[1]instanceof Error?arguments[1]:new Error("Uncaught, unspecified 'error' event.");return!!this._all},s.prototype.emitAsync=function(){this._events||r.call(this);var e=arguments[0];if("newListener"===e&&!this._newListener&&!this._events.newListener)return Promise.resolve([!1]);var t,i,n,a,o,s=[],l=arguments.length;if(this._all){if(l>3)for(t=new Array(l),a=1;a<l;a++)t[a]=arguments[a];for(n=0,i=this._all.length;n<i;n++)switch(this.event=e,l){case 1:s.push(this._all[n].call(this,e));break;case 2:s.push(this._all[n].call(this,e,arguments[1]));break;case 3:s.push(this._all[n].call(this,e,arguments[1],arguments[2]));break;default:s.push(this._all[n].apply(this,t))}}if("function"==typeof(o=this._events[e]))switch(this.event=e,l){case 1:s.push(o.call(this));break;case 2:s.push(o.call(this,arguments[1]));break;case 3:s.push(o.call(this,arguments[1],arguments[2]));break;default:for(t=new Array(l-1),a=1;a<l;a++)t[a-1]=arguments[a];s.push(o.apply(this,t))}else if(o&&o.length){if(o=o.slice(),l>3)for(t=new Array(l-1),a=1;a<l;a++)t[a-1]=arguments[a];for(n=0,i=o.length;n<i;n++)switch(this.event=e,l){case 1:s.push(o[n].call(this));break;case 2:s.push(o[n].call(this,arguments[1]));break;case 3:s.push(o[n].call(this,arguments[1],arguments[2]));break;default:s.push(o[n].apply(this,t))}}else if(!this._all&&"error"===e)return arguments[1]instanceof Error?Promise.reject(arguments[1]):Promise.reject("Uncaught, unspecified 'error' event.");return Promise.all(s)},s.prototype.on=function(e,t){return this._on(e,t,!1)},s.prototype.prependListener=function(e,t){return this._on(e,t,!0)},s.prototype.onAny=function(e){return this._onAny(e,!1)},s.prototype.prependAny=function(e){return this._onAny(e,!0)},s.prototype.addListener=s.prototype.on,s.prototype._onAny=function(e,t){if("function"!=typeof e)throw new Error("onAny only accepts instances of Function");return this._all||(this._all=[]),t?this._all.unshift(e):this._all.push(e),this},s.prototype._on=function(e,t,i){if("function"==typeof e)return this._onAny(e,t),this;if("function"!=typeof t)throw new Error("on only accepts instances of Function");return this._events||r.call(this),this._newListener&&this.emit("newListener",e,t),this._events[e]?("function"==typeof this._events[e]&&(this._events[e]=[this._events[e]]),i?this._events[e].unshift(t):this._events[e].push(t),!this._events[e].warned&&this._maxListeners>0&&this._events[e].length>this._maxListeners&&(this._events[e].warned=!0,o.call(this,this._events[e].length,e))):this._events[e]=t,this},s.prototype.off=function(e,t){if("function"!=typeof t)throw new Error("removeListener only takes instances of Function");var i,r=[];if(!this._events[e])return this;i=this._events[e],r.push({_listeners:i});for(var a=0;a<r.length;a++){if(i=r[a]._listeners,n(i)){for(var o=-1,s=0,l=i.length;s<l;s++)if(i[s]===t||i[s].listener&&i[s].listener===t||i[s]._origin&&i[s]._origin===t){o=s;break}if(o<0)continue;return this._events[e].splice(o,1),0===i.length&&delete this._events[e],this._removeListener&&this.emit("removeListener",e,t),this}(i===t||i.listener&&i.listener===t||i._origin&&i._origin===t)&&(delete this._events[e],this._removeListener&&this.emit("removeListener",e,t))}return function e(t){if(void 0!==t){var i=Object.keys(t);for(var n in i){var r=i[n],a=t[r];a instanceof Function||"object"!=typeof a||null===a||(Object.keys(a).length>0&&e(t[r]),0===Object.keys(a).length&&delete t[r])}}}(this.listenerTree),this},s.prototype.offAny=function(e){var t,i=0,n=0;if(e&&this._all&&this._all.length>0){for(i=0,n=(t=this._all).length;i<n;i++)if(e===t[i])return t.splice(i,1),this._removeListener&&this.emit("removeListenerAny",e),this}else{if(t=this._all,this._removeListener)for(i=0,n=t.length;i<n;i++)this.emit("removeListenerAny",t[i]);this._all=[]}return this},s.prototype.removeListener=s.prototype.off,s.prototype.removeAllListeners=function(e){return void 0===e?(!this._events||r.call(this),this):(this._events&&(this._events[e]=null),this)},s.prototype.listeners=function(e){return this._events||r.call(this),this._events[e]||(this._events[e]=[]),n(this._events[e])||(this._events[e]=[this._events[e]]),this._events[e]},s.prototype.eventNames=function(){return Object.keys(this._events)},s.prototype.listenerCount=function(e){return this.listeners(e).length},s.prototype.listenersAny=function(){return this._all?this._all:[]};const l=s},1661:(e,t,i)=>{"use strict";function n(e,t){return Object.prototype.hasOwnProperty.call(e,t)}i.d(t,{n:()=>n})},7452:(e,t,i)=>{"use strict";i.d(t,{Em:()=>r,HD:()=>a,hj:()=>o,jn:()=>s,o8:()=>l,Ft:()=>c,Kn:()=>d,mf:()=>u,eP:()=>p,x7:()=>h});const n=Object.prototype.toString;function r(e){return n.call(e).slice(8,-1)}const a=e=>"String"===r(e),o=e=>"Number"===r(e),s=e=>!0===e||!1===e||"Boolean"===r(e),l=e=>void 0===e,c=e=>null===e,d=(Number.isNaN,Number.isFinite,e=>"Object"===r(e)),u=(Array.isArray,e=>"function"==typeof e),p=e=>"ArrayBuffer"===r(e);function h(e,t,i="parameter"){const n=r(t),a=r(e);if(a!==n)return`${i} should be ${n} instead of ${a};`;let o="";switch(n){case"Object":Object.keys(t).forEach((n=>{o+=h(e[n],t[n],`${i}.${n}`)}));break;case"Array":if(e.length<t.length)return`${i} should have at least ${t.length} item;`;for(let n=0;n<t.length;++n)o+=h(e[n],t[n],`${i}[${n}]`)}return o}},5062:(e,t,i)=>{"use strict";i.d(t,{NX:()=>m,M8:()=>p,Vl:()=>g,ZT:()=>f,gA:()=>y,Hw:()=>h});const n=BabelRuntimeHelpers.objectWithoutProperties;var r=i.n(n),a=i(1503),o=i.n(a),s=i(7452),l=i(1106);const c=["errMsg"],d=["errMsg"],u=["success","fail","complete"];function p(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,(function(e){const t=16*Math.random()|0;return("x"===e?t:3&t|8).toString(16)}))}function h(e,t){return function(...i){try{return e(...i)}catch(e){if("[object Error]"===Object.prototype.toString.apply(e)){if("AppServiceSdkKnownError"===e.type)throw e;"ThirdScriptError"===e.type?Reporter.thirdErrorReport({error:e,extend:t}):Reporter.errorReport({key:"appServiceSDKScriptError",error:e,extend:t})}}}}function f(){}h((function(e){const t=(0,s.Em)(e);if("Array"===t||"Object"===t)try{e=JSON.stringify(e)}catch(e){throw e.type="AppServiceSdkKnownError",e}else e="String"===t||"Number"===t||"Boolean"===t?e.toString():"Date"===t?e.getTime().toString():"Undefined"===t?"undefined":"Null"===t?"null":"";return{data:e,dataType:t}}),"anyTypeToString");h((function(e,t){return"String"===t?e:e="Array"===t||"Object"===t?JSON.parse(e):"Number"===t?parseFloat(e):"Boolean"===t?"true"===e:"Date"===t?new Date(parseInt(e,10)):"Undefined"===t?void 0:"Null"===t?null:""}),"stringToAnyType");function y(e){return function(t={},...i){t=t||{};const{success:n,fail:r,complete:a}=t;return n||r||a?e.apply(this,[t,...i]):new Promise(((n,r)=>{const a=Object.assign({success:n,fail:r},t);e.apply(this,[a,...i])}))}}const _=Symbol("ErrorInfosSymbol");Error;const g=e=>(t={},...i)=>new Promise(((n,a)=>e(o()(o()({},t),{},{success:n,fail:e=>{const{errMsg:t}=e,i=r()(e,c),n=new Error(t.replace(/^\w+:fail ?/,""));Object.assign(n,i),n[_]=i,a(n)},complete:(e={})=>{const{errMsg:t}=e,i=r()(e,d);if(t&&!/^\w+:(ok|fail)/.test(t)){const t=new Error(e.errMsg.replace(/^\w+:/,""));Object.assign(t,i),t[_]=i,t._complete_hook=!0,a(t)}}}),...i))),m=(e,t)=>(i={},...n)=>{let{success:a,fail:o,complete:s}=i,c=r()(i,u);const d={success:a,fail:o,complete:s};t(c,...n).then((t=>(0,l.FE)({name:e,args:d,success:!0,res:t})),(t=>{t._complete_hook?(0,l.S3)({name:e,args:d,errMsg:t.message,res:t[_]||{}}):(0,l.FE)({name:e,args:d,success:!1,errMsg:t.message,res:t[_]||{}})}))}},5287:(e,t,i)=>{"use strict";i.d(t,{I:()=>c});var n=i(2999),r=i(665),a=i(2815),o=i(6602);let s="";const l=(e={})=>{try{s=e.transitExtraData.adUxInfo}catch(e){s=""}};"undefined"!=typeof __safeway__&&(r.Z.onReady((()=>{l(r.Z.appLaunchInfo)})),(0,n.n)("onAppEnterForeground",(e=>{l(e)})),(0,n.n)("onAppEnterBackground",((e={})=>{"back"!==e.mode&&"close"!==e.mode||(s="")})),(0,o.L)("getAdUxInfo",((e,t)=>{(0,a.n)("adUxInfoGot",{adUxInfo:s,callbackId:e.callbackId},[t])})));const c=()=>s},2642:(e,t,i)=>{"use strict";i.d(t,{d:()=>r});var n=i(5287);function r(e,t,i,r){"navigateToMiniProgram"!==e&&"openUrl"!==e&&"private_openUrl"!==e||(t.adUxInfo=t.adUxInfo||(0,n.I)()),__safeway__.bridge.invoke(e,t,i,r)}},8186:(e,t,i)=>{"use strict";i.d(t,{be:()=>j,IN:()=>M,bb:()=>L,oQ:()=>N});var n=i(2642),r=i(1106);let a={},o={},s={},l=0;const c=(e,t)=>Object.keys(t).map((i=>Object.keys(t[i]).map((n=>({func:i,result:e,errMsg:n,count:t[i][n]}))))),d=()=>{const e=c(1,a),t=c(2,o),i=c(3,s),n=[].concat(e,t,i);0!==n.length&&(0,r.IN)("reportRealtimeAction",{actionData:JSON.stringify({business:"mmbizwxajsapi",dataType:1,dataArray:n,appType:Reporter.getAppType()})}),a={},o={},s={}};var u=i(5062),p=i(665),h=i(7452),f=i(7551),y=i(7646),_=i(2582);const g=0,m=1,v=2,E=1,I=2,w=3,b=4,A=wxNativeConsole.createLogger("BanForPage");let T=!1,S=new Set(["shareAppMessage","shareAppMessageDirectly","requestPayment","setClipboardData","getClipboardData","getLocation","getPhoneNumber","navigateToMiniProgram","navigateBackMiniProgram"]),C=[];function P(e,t,i){A.log(`[checkAPIAvailableForPage] APIName=${e}, path=${t}, title=${i}`);const n=function(e,t,i){let n=-1;for(let e=0;e<C.length;e++){const r=C[e];if((!(0,h.HD)(r.path_rule)||!r.path_rule||new RegExp(r.path_rule).test(t))&&(!(0,h.HD)(r.title_rule)||!r.title_rule||new RegExp(r.title_rule).test(i))){n=e;break}}return A.log(`[getBanRuleIndexForPage] banRuleIndex=${n}`),n}(0,t,i);if(-1===n)return D(e,E,b,e),!0;const a=C[n];return A.log("[checkAPIAvailableForPage], found rule:",a),function(e,t){const i=e.ban_jsapi_list.find((e=>e.jsapi_name===t));if(!i)return A.log("[checkAPIAvailableForPageByRule], no APIItem found"),!0;let n,a;if(A.log("[checkAPIAvailableForPageByRule], found APIItem:",i),i.state===g)n=!1;else if(i.state===m)n=!0;else if(i.state===v&&(n=!0,1===e.is_valid)){const e=i.toast_wording||"该功能暂时无法使用";(0,r.be)("showToast",{title:e,icon:"none"})}return a=n?e.is_valid?I:w:E,D(t,a,b,t),1!==e.is_valid||!n}(a,e)}function D(e,t,i,n="",r=""){if(A.log(`[reportAPIBanForPage] APIName=${e}, blockType=${t}, checkScene=${i}, extraInfo=${n}, needReport=${T}`),!T)return;const{appLaunchInfo:a}=p.Z,o=Object.keys(f.Z.query).map((e=>`${e}=${f.Z.query[e]}`)).join("&"),s={session_id:a.sessionid||a.sessionId,cur_path:f.Z.lastRoute+(o?`?${o}`:""),title:f.Z.navigationBarTitleMap[f.Z.lastRoute],check_scene:i,block_status:t,extra_info:n,launch_scene:a.scene,launch_path:a.path,target_path:r};A.log("[reportAPIBanForPage], reqData:",s),(0,y.JM)({reqData:s,apiName:"webapi_reportnvgcheckinfo",complete(e){A.log(`[reportAPIBanForPage], res.errMsg=${e.errMsg}`)}})}p.Z.onReady((()=>{if(!_.gm)try{const{do_report:e,navigate_ban_rule_list:t}=p.Z.appContactInfo.operationInfo.jsonInfo.navigate_ban_info;C=t,T=1===e,S=new Set(t.reduce(((e,t)=>[...e,...t.ban_jsapi_list]),S)),A.log(`[BanForPage][init] needReport=${T}`),A.log("[BanForPage][init] ruleList:",C),A.log("[BanForPage][init] banAPISet:",S)}catch(e){A.error(`[BanForPage][init] fail, errMsg=${e.message}`)}}));var O=i(4915);const k=["open","openSync","close","closeSync","fstat","fstatSync","write","writeSync","read","readSync","truncate","truncateSync","ftruncate","ftruncateSync"];function x(e,t,i,n){e.errMsg=e.errMsg||`${t}:ok`;const r=0===e.errMsg.indexOf(`${t}:ok`),c=new RegExp(`${t}:(fail |fail:)?cancel`).test(e.errMsg),u=0===e.errMsg.indexOf(`${t}:fail`);"function"==typeof n.beforeAll&&n.beforeAll(e),r?function(e,t,i){const n=function(){"function"==typeof e.success&&e.success(t),"function"==typeof i.afterSuccess&&i.afterSuccess(t)};"function"==typeof i.beforeSuccess?2===i.beforeSuccess._argumentsLength?i.beforeSuccess(t,n):(i.beforeSuccess(t),n()):n()}(i,e,n):c?function(e,t,i,n){const r=new RegExp(`${t}:(fail |fail:)?cancel`);e.errMsg=e.errMsg.replace(r,`${t}:fail cancel`),"function"==typeof i.fail&&i.fail(e),"function"==typeof n.beforeCancel&&n.beforeCancel(e),"function"==typeof i.cancel&&i.cancel(e),"function"==typeof n.afterCancel&&n.afterCancel(e)}(e,t,i,n):u&&function(e,t,i,n){"function"==typeof e.beforeFail&&e.beforeFail(i),"function"==typeof n.fail&&n.fail(i),"function"==typeof e.afterFail&&e.afterFail(i),(0,h.mf)(e.checkNeedReportFail)&&!1===e.checkNeedReportFail(i)||Reporter.reportIDKey({key:`${t}_fail`})}(n,t,e,i),"function"==typeof i.complete&&i.complete(e),"function"==typeof n.afterAll&&n.afterAll(e),((e,t,i,n,r)=>{let c;c=t?a:i?o:s,c[e]=c[e]||{},c[e][r]=(c[e][r]||0)+1,Date.now()-l>=6e4&&(l=Date.now(),setTimeout(d,6e4))})(t,r,u,0,e.errMsg)}function R(e){return(t,i={},r={},a="/")=>{(0,h.Kn)(i)||(i={}),"operateWXData"===t&&i._isFromBaseOperateWXData;const o=function(e,t){return Object.keys(e).reduce(((i,n)=>("function"==typeof e[n]&&(i[n]=__errorTracer__.surroundThirdByTryCatch(e[n],`at api ${t} ${n} callback function`),delete e[n]),i)),{})}(i,t);if(i=Object.assign({},i),r=function(e,t){return Object.keys(e).reduce(((i,n)=>("function"==typeof e[n]&&(i[n]=(0,u.Hw)(e[n],`at api ${t} ${n} callback function`),i[n]._argumentsLength=e[n].length),i)),{})}(r,t),Reporter.reportIDKey({key:t}),!e){if(0===p.Z.appType&&S.has(t)&&!function(e){const t=Object.keys(f.Z.query).reduce(((e,t)=>[...e,`${t}=${f.Z.query[t]}`]),[]).join("&"),i=f.Z.lastRoute+(t?`?${t}`:""),n=f.Z.navigationBarTitleMap[f.Z.lastRoute]||"";return A.log(`[checkAPIAvailableForCurrentPage] APIName=${e}, path=${i}, title=${n}`),P(e,i,n)}(t))return void x({errMsg:`${t}:fail API has been banned`},t,o,r);delete i.pluginId,delete i.permissionBytes,"/"!==a&&(i.pluginId=a)}const s=(l=t,_.jP||_.wZ&&k.includes(l));var l;(0,n.d)(t,i,(e=>{x(e,t,o,r)}),s)}}const N=R(!1),M=(e,t,i)=>{O.e4.indexOf(e)<0?N(e,t,i):(0,O.LY)(e,t,i)},L=(e,t,i)=>(0,u.Vl)((t=>M(e,t,i)))(t),F=R(!0),j=(e,t,i)=>{F(e,t,i)}},2833:(e,t,i)=>{"use strict";i.d(t,{j:()=>r});var n=i(5062);function r(e,t){!function(e,t){__safeway__.bridge.on(e,t)}(e,(0,n.Hw)(t,`at api ${e} callback function`))}},2815:(e,t,i)=>{"use strict";function n(e,t,i){!function(e,t,i){__safeway__.bridge.publish(e,t,i)}(e,{data:t,options:{timestamp:Date.now()}},i)}i.d(t,{n:()=>n})},6602:(e,t,i)=>{"use strict";function n(e,t){!function(e,t){__safeway__.bridge.subscribe(e,t)}(e,(({data:e,options:i},n,r={})=>{const a=i&&i.timestamp||0,o=Date.now();Reporter.speedReport({key:"webview2AppService",data:e||{},timeMark:{startTime:a,endTime:o,nativeTime:r.nativeTime||0}}),"function"==typeof t&&t(e,n)}))}i.d(t,{L:()=>n})},1106:(e,t,i)=>{"use strict";i.d(t,{be:()=>a.be,gM:()=>T,r3:()=>c,FE:()=>p,S3:()=>u,YG:()=>d,IN:()=>a.IN,bb:()=>a.bb,oQ:()=>a.oQ,jQ:()=>o.j,nY:()=>n.n,Ld:()=>r.L});var n=i(2815),r=i(6602),a=i(8186),o=i(2833),s=i(5062),l=i(7452);function c(e,t,i){const n=(0,l.x7)(t,i);return!n||(d(e,t,`parameter error: ${n}`),!1)}function d(e,t={},i="",n){p({name:e,args:t,errMsg:i,errCode:n,success:!1})}function u({name:e,args:t={},errMsg:i="",res:n={}}){t=t||{};const r=`${e}:${i}`,a=__errorTracer__.surroundThirdByTryCatch(t.complete||s.ZT,`at api ${e} complete callback function`);n.errMsg=r,a(n)}function p({name:e,args:t={},success:i=!0,errMsg:n="",errCode:r,res:a={}}){t=t||{};const o=i?`${e}:ok`:`${e}:fail ${n}`,c=__errorTracer__.surroundThirdByTryCatch((i?t.success:t.fail)||s.ZT,`at api ${e} ${i?"success":"fail"} callback function`),d=__errorTracer__.surroundThirdByTryCatch(t.complete||s.ZT,`at api ${e} complete callback function`);a.errMsg=o,(0,l.hj)(r)&&(a.errCode=r),c(a),d(a)}var h=i(665),f=i(7551);let y="undefined"!=typeof __libVersionInfo__&&__libVersionInfo__?__libVersionInfo__.version:"unknown",_="undefined"!=typeof __libVersionInfo__&&__libVersionInfo__?__libVersionInfo__.updateTime:"unknown";function g(e){return t=>(0,l.HD)(t)&&t.length>e?t.substr(0,e):t}function m(e,t=!0){const i=(0,l.Em)(e);switch(i){case"Number":case"Boolean":return e;case"String":return g(512)(e).replace(/\|/g,"||").replace(/,/g,"|.");case"Error":return`[Error:${m(e.message)}|${m(e.stack)}]`;case"Object":return t?Object.keys(e).map((t=>`${m(t)}=${m(e[t],!1)}`)).sort(((e,t)=>e.length-t.length)).join("&")||"{}":`[${i}]`;default:return`[${i}]`}}function v({WXDataApiName:e,argument:t,isSuccess:i,invokeTime:n,costTime:r,result:a,errMsg:o,isConfirm:s,queueLength:l,wxdataQueueTimestamp:c,wxdataDequeueTimestamp:d,beginCGITimestamp:u,CGICallbackTimestamp:p,beginCGITimestampAfterConfirm:v,CGICallbackTimestampAfterConfirm:E,wxlibCallbackTimestamp:I,requestInQueue:w,requestingCount:b,cost1:A,cost2:T,cost3:S,cost4:C,cost5:P,cost6:D}){Math.random()<.05&&setTimeout((()=>{const O=f.Z.currentNetworkType,k=h.Z.appType+1e3,x=h.Z.appLaunchInfo&&void 0!==h.Z.appLaunchInfo.scene?h.Z.appLaunchInfo.scene:0,R=[e,m(JSON.stringify(t)),i?1:0,n,r,O,m(a),k,x,y,_,o&&m(o)||"",s?1:0,l,A,T,S,C,P,D,0,w?1:0,b,n,c,d,u,p,v,E,I].map(g(1024)).join(",");Reporter.reportKeyValue({key:"WeAppOperateWXData",value:R})}),0)}(0,l.HD)(y)&&(y=y.replace(" ","")),(0,l.HD)(_)&&(_=_.replace(" ","-"));let E=0;const I=wxNativeConsole.createLogger("baseOperateWXData"),w=["webapi_getuserinfo","webapi_getwerunstep_history","subscribemsg"],b=["webapi_getuserinfo","webapi_getuserallappauth","webapi_getadvert","webapi_getshareinfo"],A=["qbase_commapi","webapi_botdemo"];function T(e={},t={},...i){const n=Object.assign({},e);n._isFromBaseOperateWXData=!0;const r=t.beforeAll,o=t.beforeSuccess,s=t.beforeFail,l=n.data&&n.data.api_name;w.includes(l)?n.requestInQueue=!0:n.requestInQueue=!1,b.includes(l)?n.isImportant=!0:n.isImportant=!1,A.includes(n.data&&n.data.api_name)&&(n.keepAlive=!0);const c={isSuccess:void 0,WXDataApiName:l,argument:n,invokeTime:Date.now(),requestInQueue:n.requestInQueue,requestingCount:++E};I.info(`${n.data.api_name} _options.requestInQueue`,n.requestInQueue),(0,a.IN)("operateWXData",n,{beforeAll(e){const i=Date.now();E--,c.costTime=i-c.invokeTime;try{if(e&&e.data&&e.data.data?c.result=JSON.stringify(e.data):c.result=e.data,e.clientInfo&&"object"==typeof e.clientInfo){const t=e.clientInfo;Object.keys(t).forEach((e=>{c[e]=t[e]})),c.cost1=t.wxdataQueueTimestamp-c.invokeTime,c.cost2=t.wxdataDequeueTimestamp-t.wxdataQueueTimestamp,c.cost3=t.beginCGITimestamp-t.wxdataDequeueTimestamp,c.cost4=t.CGICallbackTimestamp-t.beginCGITimestamp,c.cost5=t.wxlibCallbackTimestamp-t.CGICallbackTimestamp,c.cost6=i-t.wxlibCallbackTimestamp}}catch(e){I.error(e)}"function"==typeof r&&r.call(t,e)},beforeSuccess(e){c.isSuccess=!0,n.data.data&&n.data.data.__wxdataUseProfile__&&(e.__wxdataProfileInfo=c),"function"==typeof o&&o.call(t,e),v(c)},beforeFail(e){c.isSuccess=!1,c.errMsg=e.errMsg,n.data.data&&n.data.data.__wxdataUseProfile__&&(e.__wxdataProfileInfo=c),"function"==typeof s&&s.call(t,e),v(c)}},...i)}},2999:(e,t,i)=>{"use strict";i.d(t,{n:()=>o});var n=i(2833),r=i(2046);const a={},o=(e,t)=>{const i=(0,r.s)(`WeixinJSBridge-${e}`);a[e]||((0,n.j)(e,((...e)=>{i.emit(...e)})),a[e]=!0),i.internalOnMethod(t)}},2159:(e,t,i)=>{"use strict";i.d(t,{yH:()=>r,Do:()=>a,rW:()=>o,vL:()=>s,bh:()=>l});var n=i(1106);const r=e=>{(0,n.r3)("saveFile",e,{tempFilePath:""})&&(0,n.IN)("saveFile",e)},a=(e,t)=>{if(!e||"string"!=typeof e)throw new Error("tempFilePath must be a string");if(void 0!==t&&"string"!=typeof t)throw new Error("filePath must be a string");let i,r;if((0,n.IN)("saveFileSync",{tempFilePath:e,filePath:t,success(e){r=e.savedFilePath},fail(e){i=e.errMsg}}),i)throw new Error(i);return r},o=(e={})=>{(0,n.IN)("getSavedFileList",e)},s=(e={})=>{(0,n.r3)("getSavedFileInfo",e,{filePath:""})&&(0,n.IN)("getSavedFileInfo",e)},l=(e={})=>{(0,n.r3)("removeSavedFile",e,{filePath:""})&&(0,n.IN)("removeSavedFile",e)}},4079:(e,t,i)=>{"use strict";i.d(t,{h:()=>a});var n=i(1106),r=i(7452);const a=(e={})=>{if((0,n.r3)("getFileInfo",e,{filePath:""})){if(void 0!==e.digestAlgorithm){const t=(0,r.x7)(e,{digestAlgorithm:""});if(t)return void(0,n.YG)("getFileInfo",e,`parameter error: ${t}`);if(-1===["md5","sha1"].indexOf(e.digestAlgorithm))return void(0,n.YG)("getFileInfo",e,`parameter error: invalid digestAlgorithm "${e.digestAlgorithm}"`)}(0,n.IN)("getFileInfo",e,{})}}},2347:(e,t,i)=>{"use strict";i.d(t,{t2:()=>P,ZP:()=>R});var n=i(2159),r=i(4079),a=i(7062),o=i(1106);const s=["ascii","base64","binary","hex","ucs2","ucs-2","utf16le","utf-16le","utf8","utf-8","latin1"];var l=i(7618),c=i(665),d=i(2582);const u=d.gm?"http://":"wxfile://";let p,h=[],f=!1;d.cj?p=new RegExp(`^${u}tmp_`):d.wZ&&(p=new RegExp("^tmp_")),c.Z.onReady((()=>{d.wZ||d.cj?(0,o.IN)("readdir",{dirPath:u,success(e){const t=e.files||[];h=t.filter((e=>p.test(e))),f=!0}}):f=!0}));const y=(e,t)=>{if(!/^wxfile:\/\/(tmp\/?)?$/.test(t))return;const i=l.L.get();e.files=e.files.filter((e=>(new RegExp(`^${t}`).test(e)||(e=`${t}${e}`),-1===i.indexOf(e)))).filter((e=>f?-1===h.indexOf(e):!p.test(e)))};class _{constructor({mode:e,size:t,lastAccessedTime:i,lastModifiedTime:n}){this.mode=e,this.size=t,this.lastAccessedTime=i,this.lastModifiedTime=n}_checkModeProperty(e){return(61440&this.mode)===e}isDirectory(){return this._checkModeProperty(16384)}isFile(){return this._checkModeProperty(32768)}}const g=(e,t)=>{let i=!0;if(["mode","size","lastAccessedTime","lastModifiedTime"].forEach((t=>{i=i&&void 0!==e[t]})),i)e.stats=new _(e),delete e.mode,delete e.size,delete e.lastAccessedTime,delete e.lastModifiedTime;else if(e.stats&&1===Object.keys(e.stats).length&&e.stats[""])e.stats=new _(e.stats[""]);else{const i=[];let n=e.stats;d.wZ&&(n=e,i.push({path:"/",stats:m(t)})),Object.keys(n).forEach((e=>{if("errMsg"===e)return;const t=n[e];""===e&&(e="/"),i.push({path:e,stats:new _(t)}),delete n[e]})),e.stats=i}},m=(e,t=!1)=>{if(!e||"string"!=typeof e)throw new Error("path must be a string");let i,n;if((0,o.IN)("statSync",{path:e,recursive:t,success(t){g(t,e),i=t.stats},fail(e){n=e.errMsg}}),n)throw new Error(n);return i};var v=i(7452);const E="readZipEntry",I=["a","ax","a+","ax+","as","as+","r","r+","w","wx","w+","wx+"];var w=i(5260);var b=i(1503),A=i.n(b);const T=i.g.WeixinArrayBuffer;delete i.g.WeixinArrayBuffer;const S=T;var C=i(1095);const P={saveFile:n.yH,saveFileSync:n.Do,getSavedFileList:n.rW,getSavedFileInfo:n.vL,removeSavedFile:n.bh,getFileInfo:r.h,readFile:a.p,readFileSync:a.N,writeFile:(e={})=>{(0,o.r3)("writeFile",e,{filePath:""})&&(e.encoding&&-1===s.indexOf(e.encoding)?(0,o.YG)("writeFile",e,`invalid encoding "${e.encoding}"`):(0,o.IN)("writeFile",e,{}))},writeFileSync:(e,t,i)=>{if(!e||"string"!=typeof e)throw new Error("path must be a string");if(i&&-1===s.indexOf(i))throw new Error(`invalid encoding "${i}"`);let n;if((0,o.IN)("writeFileSync",{filePath:e,data:t,encoding:i,fail(e){n=e.errMsg}}),n)throw new Error(n)},mkdir:(e={})=>{(0,o.r3)("mkdir",e,{dirPath:""})&&(0,o.IN)("mkdir",e)},mkdirSync:(e,t=!1)=>{if(!e||"string"!=typeof e)throw new TypeError("dirPath must be a string");let i;if((0,o.IN)("mkdirSync",{dirPath:e,recursive:t,fail(e){i=e.errMsg}}),i)throw new Error(i)},rmdir:(e={})=>{(0,o.r3)("rmdir",e,{dirPath:""})&&(0,o.IN)("rmdir",e)},rmdirSync:(e,t=!1)=>{if(!e||"string"!=typeof e)throw new Error("dirPath must be a string");let i;if((0,o.IN)("rmdirSync",{dirPath:e,recursive:t,fail(e){i=e.errMsg}}),i)throw new Error(i)},readdir:(e={})=>{(0,o.r3)("readdir",e,{dirPath:""})&&(0,o.IN)("readdir",e,{beforeSuccess(t){y(t,e.dirPath)}})},readdirSync:e=>{if(!e||"string"!=typeof e)throw new TypeError("dirPath must be a string");let t,i;if((0,o.IN)("readdirSync",{dirPath:e,success(e){t=e.files},fail(e){i=e.errMsg}},{beforeSuccess(t){y(t,e)}}),i)throw new Error(i);return t},access:(e={})=>{(0,o.r3)("access",e,{path:""})&&(0,o.IN)("access",e)},accessSync:e=>{if(!e||"string"!=typeof e)throw new TypeError("path must be a string");let t;if((0,o.IN)("accessSync",{path:e,fail(e){t=e.errMsg}}),t)throw new Error(t)},unlink:(e={})=>{(0,o.r3)("unlink",e,{filePath:""})&&(0,o.IN)("unlink",e)},unlinkSync:e=>{if(!e||"string"!=typeof e)throw new Error("filePath must be a string");let t;if((0,o.IN)("unlinkSync",{filePath:e,fail(e){t=e.errMsg}}),t)throw new Error(t)},stat:(e={})=>{(0,o.r3)("stat",e,{path:""})&&(0,o.IN)("stat",e,{beforeSuccess:t=>{g(t,e.path)}})},statSync:m,unzip:(e={})=>{(0,o.r3)("unzip",e,{zipFilePath:""})&&(0,o.IN)("unzip",Object.assign({},e,{targetDirectory:e.targetPath}))},copyFile:(e={})=>{(0,o.r3)("copyFile",e,{srcPath:"",destPath:""})&&(0,o.IN)("fs_copyFile",e,{beforeAll(e){e.errMsg=e.errMsg.replace("fs_copyFile:","copyFile:")}})},copyFileSync:(e,t)=>{if(!e||"string"!=typeof e)throw new Error("srcPath must be a string");if(!t||"string"!=typeof t)throw new Error("destPath must be a string");let i;if((0,o.IN)("fs_copyFileSync",{srcPath:e,destPath:t,fail(e){i=e.errMsg.replace("fs_copyFileSync:","copyFileSync:")}}),i)throw new Error(i)},rename:(e={})=>{(0,o.r3)("rename",e,{oldPath:"",newPath:""})&&(0,o.IN)("fs_rename",e,{beforeAll(e){e.errMsg=e.errMsg.replace(/^fs_/,"")}})},renameSync:(e,t)=>{if(!e||"string"!=typeof e)throw new Error("oldPath must be a string");if(!t||"string"!=typeof t)throw new Error("newPath must be a string");let i;if((0,o.IN)("fs_renameSync",{oldPath:e,newPath:t,fail(e){i=e.errMsg.replace(/^fs_/,"")}}),i)throw new Error(i)},appendFile:(e={})=>{(0,o.r3)("appendFile",e,{filePath:""})&&(e.encoding&&-1===s.indexOf(e.encoding)?(0,o.YG)("appendFile",e,`invalid encoding "${e.encoding}"`):(0,o.IN)("fs_appendFile",e,{}))},appendFileSync:(e,t,i)=>{if(!e||"string"!=typeof e)throw new Error("path must be a string");if(i&&-1===s.indexOf(i))throw new Error(`invalid encoding "${i}"`);let n;if((0,o.IN)("fs_appendFileSync",{filePath:e,data:t,encoding:i,fail(e){n=e.errMsg}}),n)throw new Error(n)},readZipEntry:(e={})=>{(0,o.r3)(E,e,{filePath:""})&&((0,v.o8)(e.encoding)||-1!==s.indexOf(e.encoding)?"all"===e.entries||Array.isArray(e.entries)?(0,o.IN)(E,e,{beforeSuccess:e=>(e.entries&&Object.keys(e.entries).forEach((t=>{if(e[t]&&(e.entries[t].data=e[t],delete e[t]),"ok"===e.entries[t].errMsg?e.entries[t].errMsg="readZipEntry:ok":e.entries[t].errMsg=`readZipEntry:fail ${e.entries[t].errMsg}`,0===t.indexOf("file:")){const i=t.replace("file:","");e.entries[i]=e.entries[t],delete e.entries[t]}})),e)}):(0,o.YG)(E,e,"invalid entries"):(0,o.YG)(E,e,`invalid encoding "${e.encoding}"`))},open:(e={})=>{const t=Object.assign({},e);(0,o.r3)("open",e,{filePath:""})&&(void 0===e.flag||I.includes(e.flag)?(void 0===e.flag&&(t.flag="r"),(0,o.IN)("open",t)):(0,o.YG)("open",e,`invalid flag "${e.flag}"`))},openSync:(e={})=>{const{filePath:t}=e;let i,n,{flag:r}=e;if(!t||"string"!=typeof t)throw new TypeError("filePath must be a string");if(void 0!==r&&!I.includes(r))throw new w.iZ(`invalid flag: ${r}`);if(void 0===r&&(r="r"),(0,o.IN)("openSync",{filePath:t,flag:r,fail(e){n=e.errMsg},success(e){i=e.fd}}),n)throw new Error(n);return i},close:(e={})=>{(0,o.r3)("close",e,{fd:""})&&(0,o.IN)("close",e)},closeSync:({fd:e}={})=>{if(!e||"string"!=typeof e)throw new TypeError("fd must be a string");let t;if((0,o.IN)("closeSync",{fd:e,fail(e){t=e.errMsg}}),t)throw new Error(t)},fstat:(e={})=>{(0,o.r3)("fstat",e,{fd:""})&&(0,o.IN)("fstat",e,{beforeSuccess(e){const{mode:t,size:i}=e;let{lastAccessedTime:n,lastModifiedTime:r}=e;n>1617e9&&(n=Math.floor(n/1e3)),r>1617e9&&(r=Math.floor(r/1e3)),e.stats=new _({mode:t,size:i,lastAccessedTime:n,lastModifiedTime:r}),delete e.mode,delete e.size,delete e.lastAccessedTime,delete e.lastModifiedTime}})},fstatSync:({fd:e}={})=>{if(!e||"string"!=typeof e)throw new TypeError("fd must be a string");let t,i;if((0,o.IN)("fstatSync",{fd:e,fail(e){i=e.errMsg},success(e){const{mode:i,size:n}=e;let{lastAccessedTime:r,lastModifiedTime:a}=e;r>1617e9&&(r=Math.floor(r/1e3)),a>1617e9&&(a=Math.floor(a/1e3)),t=new _({mode:i,size:n,lastAccessedTime:r,lastModifiedTime:a})}}),i)throw new Error(i);return t},write:(e={})=>{const t=Object.assign({},e);if((0,o.r3)("write",t,{fd:""}))if(t.encoding&&-1===s.indexOf(t.encoding))(0,o.YG)("write",t,`invalid encoding "${t.encoding}"`);else{if((0,v.eP)(t.data)){if(t.data.byteLength>10485760)return void(0,o.YG)("write",t,"ArrayBuffer exceed size limit (10M)");("number"!=typeof t.offset||t.offset<0)&&(t.offset=0),("number"!=typeof t.length||t.length<0)&&(t.length=t.data.byteLength-t.offset)}else if(!(0,v.HD)(t.data))return void(0,o.YG)("write",t,"data must be a string or ArrayBuffer");"number"!=typeof t.position&&(t.position=void 0),(0,o.IN)("write",t)}},writeSync:({fd:e,data:t,offset:i,length:n,encoding:r,position:a}={})=>{if(!e||"string"!=typeof e)throw new TypeError("fd must be a string");if(r&&-1===s.indexOf(r))throw new w.iZ(`invalid encoding "${r}"`);if((0,v.eP)(t)){if(t.byteLength>10485760)throw new w.iZ("ArrayBuffer exceed size limit (10M)");("number"!=typeof i||i<0)&&(i=0),("number"!=typeof n||n<0)&&(n=t.byteLength-i)}else if(!(0,v.HD)(t))throw new TypeError("data must be a string or ArrayBuffer");let l,c;if("number"!=typeof a&&(a=void 0),(0,o.IN)("writeSync",{fd:e,data:t,offset:i,length:n,encoding:r,position:a,fail(e){l=e.errMsg},success(e){c={bytesWritten:e.bytesWritten}}}),l)throw new Error(l);return c},read:(e={})=>{if(!(0,o.r3)("read",e,{fd:""}))return;if(!(0,v.eP)(e.arrayBuffer))return void(0,o.YG)("FileSystemManager.read",e,"arrayBuffer must be an ArrayBuffer");const t=Object.assign({},e);d.cj&&S&&S.trace&&(t.arrayBufferId=S.trace(t.arrayBuffer,"rw"),delete t.arrayBuffer),(0,v.hj)(t.position)&&t.position<0?t.position=0:(0,v.o8)(t.position)||(0,v.Ft)(t.position)?t.position=null:(0,v.hj)(t.position)||(t.position=0);const i=Number(t.length);Number.isNaN(i)?t.length=0:t.length=i;const n=Number(t.offset);Number.isNaN(n)?t.offset=0:t.offset=n,(0,o.IN)("read",t,{beforeSuccess(t){t.arrayBuffer=e.arrayBuffer},afterAll(){d.cj&&S&&S.untrace&&S.untrace(t.arrayBufferId)}})},readSync:(e={})=>{const{fd:t,arrayBuffer:i}=e;if(!t||"string"!=typeof t)throw new TypeError("fd must be a string");if(!(0,v.eP)(i))throw new TypeError("arrayBuffer must be an ArrayBuffer");const n=Object.assign({},e);d.cj&&S&&S.trace&&(n.arrayBufferId=S.trace(n.arrayBuffer,"rw"),delete n.arrayBuffer),(0,v.hj)(n.position)&&n.position<0?n.position=0:(0,v.o8)(n.position)||(0,v.Ft)(n.position)?n.position=null:(0,v.hj)(n.position)||(n.position=0);const r=Number(n.length);Number.isNaN(r)?n.length=0:n.length=r;const a=Number(n.offset);let s,l;if(Number.isNaN(a)?n.offset=0:n.offset=a,(0,o.IN)("readSync",A()(A()({},n),{},{fail(e){l=e.errMsg},success(e){s={bytesRead:e.bytesRead,arrayBuffer:i}}})),d.cj&&S&&S.untrace&&S.untrace(n.arrayBufferId),l)throw new Error(l);return s},truncate:(e={})=>{(0,o.r3)("truncate",e,{filePath:""})&&("number"!=typeof(e=Object.assign({},e)).length&&(e.length=0),e.length=Math.floor(e.length),e.length<0&&(e.length=0),(0,o.IN)("truncate",e,{}))},truncateSync:({filePath:e,length:t}={})=>{if(!e||"string"!=typeof e)throw new Error("filePath must be a string");let i;if("number"!=typeof t&&(t=0),(t=Math.floor(t))<0&&(t=0),(0,o.IN)("truncateSync",{filePath:e,length:t,fail(e){i=e.errMsg}}),i)throw new Error(i)},ftruncate:(e={})=>{(0,o.r3)("ftruncate",e,{fd:""})&&("number"!=typeof(e=Object.assign({},e)).length&&(e.length=0),e.length=Math.floor(e.length),e.length<0&&(e.length=0),(0,o.IN)("ftruncate",e))},ftruncateSync:({fd:e,length:t}={})=>{if(!e||"string"!=typeof e)throw new Error("fd must be a string");let i;if("number"!=typeof t&&(t=0),(t=Math.floor(t))<0&&(t=0),(0,o.IN)("ftruncateSync",{fd:e,length:t,fail(e){i=e.errMsg}}),i)throw new Error(i)}};let D="",O="";c.Z.onReady((()=>{try{D=c.Z.env.USER_DATA_PATH,O=c.Z.env.OPEN_DATA_PATH,delete c.Z.env.OPEN_DATA_PATH}catch(e){}}));const k={saveFile:["filePath"],saveFileSync:[1],readFile:["filePath"],readFileSync:[0],writeFile:["filePath"],writeFileSync:[0],mkdir:["dirPath"],mkdirSync:[0],rmdir:["dirPath"],rmdirSync:[0],readdir:["dirPath"],readdirSync:[0],access:["path"],accessSync:[0],unlink:["filePath"],unlinkSync:[0],stat:["path"],statSync:[0],unzip:["zipFilePath","targetPath"],copyFile:["srcPath","destPath"],copyFileSync:[0,1],rename:["oldPath","newPath"],renameSync:[0,1],appendFile:["filePath"],appendFileSync:[0]},x=e=>{const t={};return Object.keys(P).forEach((i=>{const n=P[i];t[i]=(...t)=>{if(!k[i])return n(...t);if(k[i].every((n=>((e,t)=>"string"!=typeof e||!e.startsWith("wxfile://ad")&&(!(0,C.Av)()||!e.startsWith("wxfile://usr")&&!e.startsWith("http://usr"))&&!e.startsWith("opendata"===t?D:O))((i.endsWith("Sync")?t:t[0])[n],e))))return n(...t);if(i.endsWith("Sync"))throw new Error(`${i}:fail permission denied`);t=t[0]||{},(0,o.YG)(i,t,"permission denied")}})),t},R={app:x("app"),game:x("game"),opendata:x("opendata")}},7062:(e,t,i)=>{"use strict";i.d(t,{p:()=>v,N:()=>E});var n=i(1106),r=i(5014),a=i(6947),o=i(2582),s=i(665),l=i(2288),c=i(2999),d=(i(6998),i(7452));let u=0,p="",h="undefined"!=typeof __libVersionInfo__&&__libVersionInfo__?__libVersionInfo__.version:"unknown",f="undefined"!=typeof __libVersionInfo__&&__libVersionInfo__?__libVersionInfo__.updateTime:"unknown";(0,d.HD)(h)&&(h=h.replace(" ","")),(0,d.HD)(f)&&(f=f.replace(" ","-")),s.Z.onReady((()=>{u=s.Z.appLaunchInfo.scene,p=s.Z.appLaunchInfo.sessionid||s.Z.appLaunchInfo.sessionId,(0,c.n)("onAppEnterForeground",(e=>{e&&e.scene&&(u=e.scene),e&&(e.sessionid||e.sessionId)&&(p=e.sessionid||e.sessionId)}))}));new WeakSet;const y=[];Map,Math.random;var _=i(5260);const g=a.Z.fs;let m=!1;g&&g.FileReader&&s.Z.onReady((()=>{let e=!1;const t=o.cj?"clicfg_appbrand_ios_native_readfile":"clicfg_appbrand_native_readfile";(0,l.b)({experimentId:t,experimentType:"Expt",success:t=>{var i,n;t&&1===Number(t.testConfig)&&(i=/readFile(?:Sync)?$/,n=1,y.push({match:i,version:n}),e=!0)},fail(e){}});const i=(0,r.J)("bindingReadFile");m=e||i}));const v=(e={})=>{if((0,n.r3)("readFile",e,{filePath:""}))if((0,d.o8)(e.encoding)||(0,d.HD)(e.encoding))if((0,d.o8)(e.position)||(0,d.hj)(e.position))if((0,d.o8)(e.length)||(0,d.hj)(e.length))if(m){const t=new g.FileReader;t.onerror=t=>(0,n.YG)("readFile",e,t),t.onread=t=>(0,n.FE)({name:"readFile",args:e,res:{data:t}}),t.read(e.filePath,e.encoding)}else(0,n.IN)("readFile",e);else(0,n.YG)("readFile",e,`invalid length: ${e.length}`);else(0,n.YG)("readFile",e,`invalid position: ${e.position}`);else(0,n.YG)("readFile",e,`invalid encoding: ${e.encoding}`)},E=(e,t,i,r)=>{if(!e||!(0,d.HD)(e))throw new _.iZ(`invalid filePath: ${e}`);if(!(0,d.o8)(t)&&!(0,d.HD)(t))throw new _.iZ(`invalid encoding: ${t}`);if(!(0,d.o8)(i)&&!(0,d.hj)(i))throw new _.iZ(`invalid position: ${i}`);if(!(0,d.o8)(r)&&!(0,d.hj)(r))throw new _.iZ(`invalid length: ${r}`);if(m)try{return g.readFileSync(e,t)}catch(o){throw new Error(o)}let a,o;if((0,n.IN)("readFileSync",{filePath:e,encoding:t,position:i,length:r,success(e){a=e.data},fail(e){o=e.errMsg}}),o)throw new Error(o);return a}},1130:(e,t,i)=>{"use strict";i.d(t,{Z:()=>a});var n=i(1106),r=i(2582);function a(e,t,i={},a={},o=(()=>{}),s=(()=>{})){return(l={})=>{i=o(l),(0,n.gM)(Object.assign({},l,{data:Object.assign({api_name:t},a,i?{data:i}:void 0),requestInQueue:!l.hasOwnProperty("requestInQueue")||Boolean(l.requestInQueue)}),{beforeAll(t){t.errMsg=t.errMsg.replace("operateWXData",e)},beforeSuccess(e){if(r.wZ&&"string"==typeof e.data&&(e.data=JSON.parse(e.data)),e.data.data){e.rawData=e.data.data;const t=JSON.parse(e.data.data);e=Object.assign(e,t)}e.data.signature&&(e.signature=e.data.signature),e.data.encryptedData&&(e.encryptedData=e.data.encryptedData,e.iv=e.data.iv,e.data.cloud_id&&(e.cloudID=e.data.cloud_id)),delete e.data,e=s(e)}})}}},2411:(e,t,i)=>{"use strict";var n=i(665),r=i(1095),a=i(743);i(495);let o={},s=null;n.Z.onReady((()=>{o=n.Z.appLaunchInfo,(0,r.aI)()&&((0,a.OQ)(((e={})=>{const t=Object.assign({},e);o.referrerInfo=Object.assign({},o.referrerInfo,t.referrerInfo),delete t.referrerInfo,o=Object.assign({},o,t)})),(0,a.Ke)((e=>{s=e})))}))},495:(e,t,i)=>{"use strict";i.d(t,{Ir:()=>c,x9:()=>d,Br:()=>u});var n=i(9078),r=i(665),a=i(5014),o=i(2497);let s,l;r.Z.onReady((()=>{const e=u(r.Z.appLaunchInfo||{});s=e.appLaunchInfo,l=e.publicLaunchInfo}));const c=()=>l,d=()=>s;function u(e={}){const t=e.shareInfo;let i=e.scene,s=e.query||{};"object"==typeof t&&null!==t&&(e.shareTicket=n.Z.set(t.shareKey,t.shareName),n.Z.lastShareTicket=e.shareTicket),e.query=e.query||{},e.scene=e.scene?parseInt(e.scene,10):e.scene,e.referrerInfo=e.referrerInfo||{},1022===e.scene&&(s=e.query={}),!1===e.reLaunch&&(s={}),(0,o.B)(),void 0===e.reLaunch&&"hide"===(0,o.B)()&&(s={}),1103===e.scene&&(i=1001),1104===e.scene&&(i=1089),1158!==e.scene&&1159!==e.scene&&1160!==e.scene||!(0,a.J)("getGroupToolbarInfo")&&(i=1008);const l={scene:i,query:s,shareTicket:e.shareTicket,referrerInfo:e.referrerInfo.appId?{appId:e.referrerInfo.appId,extraData:e.referrerInfo.extraData}:{}};return r.Z.debugLaunchInfo&&r.Z.debugLaunchInfo.lanDebugInfo&&!1!==r.Z.debugLaunchInfo.lanDebugInfo.useStaticServer&&(l.lanDebugInfo=r.Z.debugLaunchInfo.lanDebugInfo),e.chatType&&(l.chatType=e.chatType),{publicLaunchInfo:l,appLaunchInfo:e}}},2043:(e,t,i)=>{"use strict";i.d(t,{H:()=>Ot});var n=i(3356),r=i.n(n),a=i(665),o=i(2802),s=i(2582),l=i(6947);const{Image:c}=l.Z;Object.defineProperty,Object.getOwnPropertyDescriptor,Object.prototype.hasOwnProperty,new WeakMap;var d=i(5062),u=i(1106),p=i(7618);const h=e=>"object"==typeof e&&null!==e,f=()=>{const e={};return{dirtyTextureMap:new WeakMap,dirtyRenderbufferMap:new WeakMap,dirtyFramebufferMap:new WeakMap,framebufferTextureMap:new WeakMap,framebufferRenderbufferMap:new WeakMap,textures:[],currentTextureIndex:0,screenFramebuffer:e,currentFramebuffer:e}},y=function(){const e=arguments[arguments.length-1],t=ut(e),{textures:i,currentTextureIndex:n,dirtyTextureMap:r}=ut(this.canvas).flag,a=i[n];h(a)&&(t&&t.isSharedCanvas?r.set(a,!0):r.has(a)&&r.delete(a))},_=function(){const{textures:e,currentFramebuffer:t,dirtyFramebufferMap:i,framebufferTextureMap:n,dirtyTextureMap:r,framebufferRenderbufferMap:a,dirtyRenderbufferMap:o}=ut(this.canvas).flag;if(!e.some((e=>r.has(e))))return;i.set(t,!0);const s=n.get(t);h(s)&&r.set(s,!0);const l=a.get(t);h(l)&&o.set(l,!0)},g={activeTexture(e){const t=e-this.TEXTURE0;ut(this.canvas).flag.currentTextureIndex=t},bindTexture(e,t){const{textures:i,currentTextureIndex:n}=ut(this.canvas).flag;i[n]=t},wxBindCanvasTexture(e,t){const{textures:i,currentTextureIndex:n,dirtyTextureMap:r}=ut(this.canvas).flag;if(!h(t))return void(i[n]=null);const a=ut(t),o={type:"WeixinCanvasTexture"};i[n]=o,a&&a.isSharedCanvas?r.set(o,!0):r.has(o)&&r.delete(o)},texImage2D:y,texSubImage2D:y,bindFramebuffer(e,t){const i=ut(this.canvas).flag;i.currentFramebuffer=t||i.screenFramebuffer},framebufferTexture2D(e,t,i,n){const{framebufferTextureMap:r,currentFramebuffer:a}=ut(this.canvas).flag;r.set(a,n)},framebufferRenderbuffer(e,t,i,n){const{dirtyRenderbufferMap:r,dirtyFramebufferMap:a,framebufferRenderbufferMap:o,currentFramebuffer:s}=ut(this.canvas).flag;r.has(n)&&a.set(s,!0),o.set(s,n)},copyTexImage2D(){const{dirtyFramebufferMap:e,currentFramebuffer:t,textures:i,currentTextureIndex:n,dirtyTextureMap:r}=ut(this.canvas).flag;if(e.has(t)){const e=i[n];h(e)&&r.set(e,!0)}},drawArrays:_,drawElements:_};var m=i(5014);const v=e=>{Reporter.reportKeyValue({key:"DeprecatedAPI",value:e})};var E=i(1095);const I=e=>!ut(e).secure,w=(e,t)=>{const i=ut(t);if(!i)return!0;const{secure:n}=i,{secure:r}=ut(e);return!(!r&&n)},b=function(e){return function(){if(/texImage2D|texSubImage2D/.test(e)){const{flag:t}=ut(this.canvas),{textures:i,currentTextureIndex:n}=t,r=i[n];if(r&&"WeixinCanvasTexture"===r.type)return void console.warn(`在调用 wxBindCanvasTexture() 向 ${n} 号纹理单元提交纹理后，不能再调用 ${e}() 向该纹理单元提交纹理`)}const t=this.canvas,i=/createPattern|drawImage/.test(e)?arguments[0]:arguments[arguments.length-1];if(w(t,i))return!0;console.warn(`在 game.json 配置了 OpenDataContext 后，非安全 Canvas 的 WebGL 上下文的 ${e} 不能传入安全 Canvas`)}};let A=!1,T="unknown";a.Z.onReady((()=>{A=(0,m.J)("screenCanvasReadPixels"),T=(0,E.KU)("screenCanvasReadPixelsFreely")}));const S={toDataURL:function(){return!!I(this)||(console.warn("在 game.json 配置了 OpenDataContext 后，安全 Canvas 不能调用 toDataURL"),"")},getImageData:function(){return!!I(this.canvas)||(console.warn("在 game.json 配置了 OpenDataContext 后，安全 Canvas 的 2d 上下文不能调用 getImageData"),{width:0,height:0,data:new Uint8ClampedArray(0)})},createPattern:b("createPattern"),drawImage:b("drawImage"),texImage2D:b("texImage2D"),texSubImage2D:b("texSubImage2D"),wxBindCanvasTexture:b("wxBindCanvasTexture"),readPixels:function(){const{secure:e}=ut(this.canvas);if(!e)return!0;if(v("WebGLRenderingContext.readPixels"),!A)return void v("screenCanvasReadPixelsNoPermission");const{dirtyFramebufferMap:t,currentFramebuffer:i}=ut(this.canvas).flag;if(!t.has(i)||(v("unsafeScreenCanvasReadPixelsUsedBefore"),!1!==T))return!0;console.warn("在 game.json 配置了 OpenDataContext 后，绘制了 sharedCanvas 的画布不能 readPixels")}},{Canvas:C,Image:P}=l.Z;let D;const O={"2d":null,webgl:null},k={Image:null,Canvas:null,CanvasRenderingContext2D:null,CanvasPattern:null,CanvasGradient:null,ImageData:null,TextMetrics:null},x=new WeakMap;function R(){const e=new C;return e.width=1,e.height=1,e}function N(e){const t={};return Object.keys(e).forEach((i=>{const n=Object.getOwnPropertyDescriptor(e,i);if("function"!=typeof n.value)n.get||n.set?Object.defineProperty(t,i,{get(){if(n.get)return n.get.call(this)},set(e){n.set&&n.set.call(this,e)}}):Object.defineProperty(t,i,n);else{const n=e[i];t[i]=function(){if("function"==typeof S[i]){const e=S[i].apply(this,arguments);if(!0!==e)return e}return"function"==typeof g[i]&&g[i].apply(this,arguments),n.apply(this,arguments)}}})),t}const M=function(){if(D)return D;const e=R(),t=N(Object.getPrototypeOf(e)),i=t.getContext;return t.getContext=function(e,t){const{isSharedCanvas:n}=ut(this);if(n)return{};const r=i.call(this,e,t);return null===r||(/2d|webgl/.test(e)&&Object.setPrototypeOf(r,function(e){if(O[e])return O[e];const t=R().getContext(e),i=N(Object.getPrototypeOf(t));return O[e]=i,O[e]}(e)),x.set(r,this),Object.defineProperty(r,"canvas",{value:this,configurable:!1,writeable:!1})),r},D=t,t};var L=i(972);const F=wxGA,j={Speed:13544,Error:13582,Slow:13968,Clipboard:14367,NetworkAPI:14480,Display:15496,WebviewRecycle:15352,WebviewRestore:15353,PluginDisplay:15364,functionalPageOperation:15804,RecycledAPI:15649,GameReportKV:15677,RecycleView:15864,GameADFunnelModel:15859,CustomComponent:15948,VideoAction:16137,SameLayerRender:16360,MediaCompStatus:16435,NavigateToMiniProgramAlert:16432,LaunchDetailSpeed:16514,CloudReport:16588,DeprecatedAPI:16624,Share:16717,APIUse:17619,SetDataPerf:17176,UserLog:17809,GameInteractiveData:17836,GameRecorder:17833,UserLogFail:17975,WeAppInvoke:18042,RenderCache:18052,RenderStages:18321,ShareCardClick:18352,PerfReport:18748,GameServerInvite:18768,NpmExtendedLib:18874,FirstInteraction:19136,GameComponent:19283,GameWhatsNew:19335,TradeService:19286,LazyCodeLoading:20030,MidasFriendPayment:20285,Handoff:20888,ShareToWeRun:21272,WeAppOperateWXData:21359,WXGameWASMLaunchClose:21494,WXGameWASMLaunchException:21493,WXGameWASMLaunchTime:21492,ExptHit:21627,WeAppInvoke2:21688,GameLifeMiniGameCardAction:21898,ShareImageMenu:22050,WeAppToChannels:22082,RequestPaymentCheckTicket:22273,WeAppNavBan:22762,GameAdsSkipCard:20267,MiniGameOpenDataMonitor:23536};var W=i(4212);function U(e){if(!Array.isArray(e)||e.some((e=>"string"!=typeof e||0===e.length)))return"invalid keyList"}var V=i(1130);const B=(0,V.Z)("getUserCloudStorage","webapi_getselfuserstorage",{},{},(({keyList:e=[]})=>({key:e})),(e=>(e.KVDataList=e.kv_list||[],delete e.kv_list,delete e.rawData,e))),Z=(0,V.Z)("getFriendCloudStorage","webapi_getfrienduserstorage",{},{},(({keyList:e=[]})=>({key:e})),(e=>(e.user_item=e.user_item?e.user_item:[],e.data=e.user_item.map((e=>(e.KVDataList=e.kv_list||[],delete e.kv_list,e))),delete e.user_item,delete e.rawData,e)));var G=i(9078);const H=wxNativeConsole.createLogger("getGroupCloudStorage"),$=(0,V.Z)("getGroupCloudStorage","webapi_getgroupuserstorage",{},{},(({keyList:e=[],shareTicket:t})=>{const i=G.Z.get(t),{shareKey:n,shareName:r}=i;return H.info("shareTicket=",t),H.info("shareInfo=",JSON.stringify(i)),{key:e,share_key:n,share_name:r}}),(e=>(e.user_item=e.user_item?e.user_item:[],e.data=e.user_item.map((e=>(e.KVDataList=e.kv_list||[],delete e.kv_list,e))),delete e.user_item,delete e.rawData,e))),Y=(0,V.Z)("getPotentialFriendList","webapi_game_potential_friends",{},{},(()=>{}),(e=>(e.list=e.friend_list,delete e.friend_list,delete e.rawData,e))),z=(0,V.Z)("getGroupInfo","webapi_getshareinfo_byopengid",{},{},(({openGId:e})=>({opengid_list:[e]})),(e=>(e.name=e.info_list[0].room_topic,delete e.info_list,delete e.rawData,e)));var q=i(8991);let K={};function J(e={}){const t={openId:e.openId,title:e.title||a.Z.accountInfo.nickname,imageUrl:e.imageUrl,imageUrlId:e.imageUrlId,success:e.success,fail:e.fail,complete:e.complete};t.query=Object.keys(K).map((e=>`${e}=${K[e]}`)).join("&"),(0,q.HP)(t,"shareAppMessageToSpecificContactDirectly")}var X=i(7646);const Q=(0,X.Ce)(!1,"getUserInfo",!1,!0),ee=({openIdList:e=[],lang:t="en",success:i,fail:n,complete:r}={})=>{Q({apiName:"webapi_getuserinfo_byopenid",reqData:{openIdList:e,lang:t},success:e=>{const t=JSON.parse(e.respData.data).userInfoList||[];"function"==typeof i&&i({errMsg:e.errMsg,data:t})},fail:n,complete:r})},te=(0,V.Z)("getUserCloudStorageKeys","webapi_getuserstorageallappkey",{},{},(()=>{}),(e=>(e.keys=e.data_key,delete e.data_key,delete e.rawData,e)));var ie=i(2184),ne=i(3536),re=i(6725),ae=i.n(re),oe=i(1547),se=i(5373),le=i(3170);const ce=[];let de=null,ue=null,pe=!1,he=[],fe=!1,ye="",_e=0,ge=0;const me=e=>{de=e;let t=!1,i=!0;e.deviceOrientation!==ye&&(t=!0),e.size.windowWidth!==_e&&(t=!0),e.size.windowHeight!==ge&&(t=!0),(e=>{e.deviceOrientation&&(ye=e.deviceOrientation),_e=e.size.windowWidth,ge=e.size.windowHeight})(e),e.pageOrientation&&(e.pageOrientation.setPageOrientation&&(fe=!0),"auto"===e.pageOrientation.originalPageOrientation||fe||(t=!1,i=!1)),"undefined"!=typeof __appServiceEngine__&&__appServiceEngine__.isFramesetMode()&&(i=!1),t&&(pe=!0);const n=e.changedWebviewIds;i&&n&&n.forEach((e=>{he.indexOf(e)<0&&he.push(e)})),ue||(ue=setTimeout((()=>{ue=null;const e=pe;pe=!1;const t=he;he=[];const i={deviceOrientation:de.deviceOrientation,size:de.size};e&&ce.forEach((e=>{__errorTracer__.surroundThirdByTryCatch(e,"at onWindowResize callback function")(i)})),t.forEach((e=>{const t="undefined"!=typeof __appServiceEngine__?__appServiceEngine__.getPageByWebviewId(e):null;t&&__errorTracer__.surroundThirdByTryCatch((()=>{t.__callPageLifeTime__("onResize",i)}),"at Resize callback function")()}))}),16))};(0,u.jQ)("onViewDidResize",(e=>{me(e)}));let ve=0,Ee=0;a.Z.onReady((()=>{const e=(0,le.Ew)();var t;ve=e.screenWidth,Ee=e.screenHeight,t=e=>{ve=e.windowWidth,Ee=e.windowHeight},ce.push(t)}));class Ie extends se.wA{constructor({title:e,content:t,icon:i,confirmText:n,cancelText:r,confirm:a,cancel:o,style:s={}}={}){super();const l=(0,se.Wj)(this),c=`<view id="container">\n      <view id="mask" />\n      <view id="tail" />\n      <view id="popup">\n        <view id="header">\n          <image id="close" src="http://mmbiz.qpic.cn/mmbiz_png/icTdbqWNOwNSByZLicUmsht1JxkNuzGdYKKtQ5NiadIeFXjxMBvdzv8ib9nThJgX9M7z3Dq59jIUkGnTENr7AibOJMQ/0?wx_fmt=png" />\n          <text id="title" value="${e}" />\n          <text id="close2" />\n        </view>\n        <view id="main">\n          ${i?`<image id="icon" src="${!0===i?"http://mmbiz.qpic.cn/mmbiz_png/icTdbqWNOwNSByZLicUmsht3OjibpgsQSWKlYHJ8u8AiacNQgu4ianBYzC5gEXmxS74iaGkZUzEbFjwp6n7d8rJV7JSA/0?wx_fmt=png":i}" />`:""}\n          <text id="content" value="${t}" />\n        </view>\n        <view id="footer">\n          ${r?`<text id="cancel" value="${r}" />`:""}\n          ${n?`<text id="confirm" value="${n}" />`:""}\n        </view>\n      </view>\n    </view>`,{root:d}=ae()(c),u=(({cancelText:e,confirmText:t,icon:i})=>{const n=ve>Ee;return{mask:{width:ve,height:Ee,zIndex:1000007,opacity:.5,backgroundColor:"#000000"},tail:{bottom:0,height:12,zIndex:1000008,position:"absolute",backgroundColor:"#ffffff",left:n?(ve-Ee)/2:0,width:n?Ee:ve},popup:{bottom:0,zIndex:1000008,position:"absolute",backgroundColor:"#ffffff",borderRadius:12,left:n?(ve-Ee)/2:0,width:n?Ee:ve},header:{height:64,flexDirection:"row",alignItems:"center",justifyContent:"space-between",width:n?Ee:ve},close:{width:14,height:14,marginLeft:20},title:{width:150,height:40,fontSize:15,lineHeight:40,textAlign:"center",color:"#000000"},close2:{width:14,height:14,marginRight:20},main:{flexDirection:"column",alignItems:"center",width:n?Ee:ve},icon:{height:64,width:64,marginTop:12,marginBottom:8},content:{height:60,fontSize:17,color:"#000000",textAlign:"center",lineBreak:"break-all",marginTop:i?0:64,marginBottom:i?0:15,width:n?.9*Ee:.9*ve},footer:{heihgt:40,marginBottom:32,flexDirection:"row",justifyContent:"center",width:n?Ee:ve},cancel:{height:40,fontSize:17,borderRadius:4,lineHeight:40,textAlign:"center",marginLeft:8,marginRight:8,color:"#07c160",backgroundColor:"rgba(0, 0, 0, 0.05)",width:t?120:184},confirm:{height:40,fontSize:17,borderRadius:4,lineHeight:40,textAlign:"center",marginLeft:8,marginRight:8,color:"#ffffff",backgroundColor:"#04c160",width:e?120:184}}})(arguments[0]);Object.keys(s).forEach((e=>{u[e]&&Object.assign(u[e],s[e])})),se.S1.call(this,d,u),oe.uo.add(l.container),l.close&&l.close.on("click",(()=>{"function"==typeof o&&o()})),l.cancel&&l.cancel.on("click",(()=>{"function"==typeof o&&o()})),l.confirm&&l.confirm.on("click",(()=>{"function"==typeof a&&a()}))}destroy(){const e=(0,se.Wj)(this);oe.uo.remove(e.container),(0,se.bn)(this)}}function we(e={}){return s.DD?((0,ne.I6)(Object.assign({},e,{showCancel:!!e.cancelText,success({confirm:t,cancel:i}){t?e.confirm&&e.confirm():i&&e.cancel&&e.cancel()}})),{destroy:()=>{}}):new Ie(e)}var be=i(7452);const Ae=0,Te=2,Se=3;var Ce=i(495);const Pe=new ie.Q("InteractiveStorageModified",!0),De={add:1},Oe=(0,E.Fr)(ee);const ke=({actionId:e,actId:t=0,receiverOpenId:i,detail:n,opNum:r=0,operationType:a=0})=>{const o=[e,t,0,n,r,a,i].join(",");Reporter.reportKeyValue({key:"GameInteractiveData",value:o})},xe=e=>{Reporter.reportIDKey({key:e})},Re=(0,V.Z)("modifyFriendInteractiveStorage","webapi_modifyfriendinteractivedata",{},{},(({key:e,operation:t,opNum:i,toUser:n,debug:r,action:a,object:o,ratio:s,quiet:l})=>({key:e,operation:t,debug:r,opNum:i,toUser:n,action:a,object:o,ratio:s,quiet:!!l,op_num:i,to_user:n,random_number:Date.now(),randomNumber:Date.now()})),(e=>{const{json_resp:t,inner_errcode:i,inner_errmsg:n}=e,r="modifyFriendInteractiveStorage:fail ";let a;e.errMsg,delete e.json_resp,delete e.rawData,delete e.inner_errcode,delete e.inner_errmsg;try{a=JSON.parse(t)}catch(e){a={},e.message}if(function(e){if(!e)return;e.split("\n").map(decodeURIComponent).forEach((e=>{const t=parseInt(e.substr(0,1),10),i=`[JSServer]${e.substr(1)}`;switch(t){case Ae:console.log(i);break;case Te:console.warn(i);break;case Se:console.error(i)}}))}(a.log),!(0,be.o8)(i)&&0!==i)return e.errMsg=`${r}${n}`,void(e.errCode=i);try{const t=JSON.parse(a.base_resp);if(0!==t.errcode)return e.errCode=t.errmsg,void(e.errMsg=`${r}${t.errmsg}`);e.errCode=0}catch(t){e.errCode=-1,e.errMsg=`${r}${t.message}`,t.message}})),Ne=new Set;var Me=i(7062),Le=i(5260);l.Z.fs;const Fe=(e={})=>{(0,u.r3)("readCompressedFile",e,{filePath:"",compressionAlgorithm:""})&&(0,u.IN)("readCompressedFile",e)},je="weapp://wechat-game-runtime",We="readFile";const Ue=globalThis;let Ve={};function Be(e,t){if("string"!=typeof e)return Promise.reject(new Error("WebAssembly.instantiate: first argument must be a string"));if(/^(wxfile|https?):/.test(e))return Promise.reject(new Error("WebAssembly.instantiate: not support wxfile: or http: path"));if(!/\.wasm(\.br)?$/.test(e))return Promise.reject(new Error("WebAssembly.instantiate: only support file type .wasm or .wasm.br"));if(s.jP)return new Promise(((i,n)=>{!function(e={}){const{filePath:t,encoding:i}=e;let n;const r=new XMLHttpRequest;r.open("POST",`${je}/wxfs/${btoa(t)}`,!0),r.setRequestHeader("content-type","application/json"),r.responseType="string"==typeof i?"text":"arraybuffer",r.onload=()=>{n="string"==typeof i?r.responseText:r.response,(0,u.FE)({name:We,args:e,res:{data:n}})},r.onerror=t=>{(0,u.YG)(We,e,t.message)},r.send(JSON.stringify({}))}({filePath:e,success(e){i(Ve.instantiate(e.data,t))},fail({errMsg:e}){n(new Error(e.replace(/^\w+:fail\s*/,"")))}})}));if(s.cj||s.wZ){const i=Ve.instantiate(e,t);return"Promise"===(0,be.Em)(i)?i:Promise.resolve(i)}{let i=Me.p;return s.gm&&/\.br$/.test(e)&&(i=Fe),new Promise(((n,r)=>{i({compressionAlgorithm:"br",filePath:e,success(e){n(Ve.instantiate(e.data,t))},fail({errMsg:e}){r(new Error(e.replace(/^\w+:fail\s*/,"")))}})}))}}void 0!==l.Z.WebAssembly?Ve=l.Z.WebAssembly:void 0!==Ue.WebAssembly&&(Ve=Ue.WebAssembly);const Ze=()=>({Table:Ve.Table,Memory:Ve.Memory,Global:Ve.Global,Instance:Ve.Instance,instantiate:(e,t)=>Be(e,t)});Ue.WXWebAssembly=Ze(),delete Ue.WebAssembly;const Ge={Table:Ve.Table,Memory:Ve.Memory,Global:Ve.Global,Instance:Ve.Instance,compile:Ve.compile,compileStreaming:Ve.compileStreaming,instantiateStreaming:Ve.instantiateStreaming,validate:Ve.validate,CompileError:Ve.CompileError,LinkError:Ve.LinkError,Module:Ve.Module,RuntimeError:Ve.RuntimeError,instantiate:(...e)=>Promise.resolve(Ve.instantiate(...e))},He=(0,V.Z)("getGameLifeProfile","webapi_getgamelifeprofile",{},{},(e=>JSON.parse(JSON.stringify(e)))),$e=(0,V.Z)("getGreetingControlInfo","webapi_getgreetingcontrolinfo",{},{},(e=>JSON.parse(JSON.stringify(e)))),Ye=(0,V.Z)("interactGameLifeTag","webapi_interactgamelifetag",{},{},(e=>JSON.parse(JSON.stringify(e)))),ze=({url:e,success:t,fail:i,complete:n})=>{(0,u.IN)("private_openUrl",{url:e,isNativeStyle:!0,success:t,fail:i,complete:n})};var qe=i(3533),Ke=i(607);const Je=(0,V.Z)("gameTransfer","webapi_game_transfer",{},{},(e=>JSON.parse(JSON.stringify(e)))),Xe=(__safeway__.apiSign.makeApiSign,{Component:se.wA,getPrivateThis:se.Wj,removePrivateThis:se.bn,create:se.Ue,init:se.S1,webviewLayout:oe.uo,nativeviewLayout:oe._w,xmlParser:ae()}),Qe={Kanata:Kanata,wxGA:F,reportIDKey:({id:e,key:t,value:i})=>Reporter.reportIDKey({id:e,key:t,value:i}),reportKeyValue:function({key:e,value:t,immediately:i}){return"number"!=typeof e||Object.values(j).includes(e)?Reporter.reportKeyValue({key:e,value:t,immediately:i}):Reporter.reportKeyValue({key:e,value:t,immediately:i,number:!0})},getXLogManager:()=>W.s,getUserCloudStorage:e=>{const t=U(e.keyList);t?(0,u.YG)("getUserCloudStorage",e,t):B(e)},getFriendCloudStorage:(e={})=>{const t=U(e.keyList);t?(0,u.YG)("getFriendCloudStorage",e,t):Z(e)},getGroupCloudStorage:e=>{const t=U(e.keyList);t?(0,u.YG)("getGroupCloudStorage",e,t):setTimeout((()=>{e.shareTicket?G.Z.get(e.shareTicket)?(H.info("use args.shareTicket",e.shareTicket),$(e)):(0,u.YG)("getGroupCloudStorage",e,"参数 shareTicket 不正确"):G.Z.lastShareTicket&&G.Z.get(G.Z.lastShareTicket)?(H.info("use lastShareTicket",G.Z.lastShareTicket),$(Object.assign({shareTicket:G.Z.lastShareTicket},e))):(0,u.YG)("getGroupCloudStorage",e,"当前小程序不是从群分享卡片打开")}),1e3/60)},getPotentialFriendList:Y,getGroupInfo:function(e){setTimeout((()=>{z(Object.assign({},e,{success:t=>(0,u.FE)({args:e,res:t,name:"getGroupInfo",success:!!t.name,errMsg:t.name?"":"invalid openGId"})}))}))},shareMessageToFriend:J,getUserInfo:ee,getUserCloudStorageKeys:te,modifyFriendInteractiveStorage:e=>{xe("modifyFriendInteractiveStorage");const t=Object.assign({},e,{success:t=>{(0,u.FE)({res:t,args:e,name:"modifyFriendInteractiveStorage",success:0===t.errCode,errCode:t.errCode,errMsg:t.errMsg}),t.errCode||Pe.emit("modified",`${e.key}`)}});t.quiet?(e=>{const t=(0,Ce.x9)();let i=(0,q.A5)();!i&&t&&t.referrerInfo&&(i=t.referrerInfo.messageExtraData),i&&3===i.shareType&&i.userInfo?Ne.has(i.userInfo.openID)?(0,u.YG)("modifyFriendInteractiveStorage",e,"quiet modify can only be use once"):(Ne.add(i.userInfo.openID),Re(Object.assign(e,{toUser:i.userInfo.openID}))):(0,u.YG)("modifyFriendInteractiveStorage",e,"game is not launch by click share card")})(t):t.toUser?a.Z.modifyFriendInteractiveStorageTemplates?(e=>{Oe({openIdList:[e.toUser]}).then((t=>{const{nickName:i}=t.data[0],n=parseInt(e.key,10),r=e.toUser,o=e.opNum,s=De[e.operation];let l,c,d;for(d of a.Z.modifyFriendInteractiveStorageTemplates)if(d.key===e.key){const e=d.ratio?` x${o*d.ratio} ？`:"？";l=`确认${d.action} ${i} ${d.object}${e}`,c=encodeURIComponent(l);break}if(!l)throw new Error("invalid key");const p={actId:n,receiverOpenId:r,detail:c,opNum:o,operationType:s};ke(Object.assign({actionId:1},p)),xe("modifyFriendInteractiveStorageShowModal");const h=we({content:l,title:`${d.action}${d.object}`,confirmText:`确认${d.action}`,confirm(){h.destroy(),Re(Object.assign({action:d.action,object:d.object,ratio:d.ratio},e,{success:t=>{if(e.success&&e.success(t),t.errCode)return;const i="string"==typeof e.title,n=we({title:`${d.action}${d.object}`,icon:!0,content:i?`已${d.action}，马上告诉微信好友？`:`已${d.action}`,cancelText:i?"下次吧":"我知道了",confirmText:!!i&&"告诉他",cancel(){n.destroy()},confirm(){n.destroy(),J({openId:r,title:e.title,imageUrl:e.imageUrl,imageUrlId:e.imageUrlId})}})}})),ke(Object.assign({actionId:2},p)),xe("modifyFriendInteractiveStorageConfirm")},cancel(){h.destroy(),(0,u.YG)("modifyFriendInteractiveStorage",e,"cancel"),ke(Object.assign({actionId:3},p)),xe("modifyFriendInteractiveStorageCancel")}})})).catch((({errMsg:t,message:i})=>{(0,u.YG)("modifyFriendInteractiveStorage",e,t||i)}))})(t):a.Z.modifyFriendInteractiveStorageConfirmWording?(e=>{Oe({openIdList:[e.toUser]}).then((t=>{const{nickName:i}=t.data[0],n=a.Z.modifyFriendInteractiveStorageConfirmWording.replace("${nickname}",i),r={actId:parseInt(e.key,10),receiverOpenId:e.toUser,detail:encodeURIComponent(n),opNum:e.opNum,operationType:De[e.operation]};ke(Object.assign({actionId:1},r)),xe("modifyFriendInteractiveStorageShowModal"),(0,ne.I6)({content:n,confirmText:"确定",cancelText:"取消",success(t){t.confirm?(Re(e),ke(Object.assign({actionId:2},r)),xe("modifyFriendInteractiveStorageConfirm")):((0,u.YG)("modifyFriendInteractiveStorage",e,"cancel"),ke(Object.assign({actionId:3},r)),xe("modifyFriendInteractiveStorageCancel"))}})})).catch((({errMsg:t})=>{(0,u.YG)("modifyFriendInteractiveStorage",e,t)}))})(t):(0,u.YG)("modifyFriendInteractiveStorage",e,"invalid modifyFriendInteractiveStorage config in game.json"):(0,u.YG)("modifyFriendInteractiveStorage",e,"toUser is required without quiet")},WebAssembly:Ge,getGameLifeProfile:He,getGreetingControlInfo:$e,interactGameLifeTag:Ye,openGameLifeAccountInfo:({success:e,fail:t,complete:i,query:n}={})=>{ze({url:(0,Le.cE)("https://game.weixin.qq.com/cgi-bin/h5/static/gamelife/accountinfo.html",n),success:e,fail:t,complete:i})},openGameLifeMiniGameTransfer:({success:e,fail:t,complete:i,query:n}={})=>{ze({url:(0,Le.cE)("https://game.weixin.qq.com/cgi-bin/h5/static/gamelife/minigametransfer.html",n),success:e,fail:t,complete:i})},Function:Function.prototype.constructor,createCanvas:(...e)=>It(...e),createScreenCanvas:(...e)=>At(...e),createWebView:e=>new oe.kh(e),navigateToMiniProgramDirectly:e=>(0,qe.iy)(e,e),privateOpenUrl:Ke.n,gameTransfer:Je,coverview:Xe,launchApplicationDirectly:(e={})=>{(0,m.J)("plugin_launchApplicationDirectly_operateDirectly")||delete e.operateDirectly,s.cj?(0,m.J)("launchApplicationDirectly")?(0,u.IN)("launchApplication",e,{beforeAll:e=>{e.errMsg=e.errMsg.replace("launchApplication","launchApplicationDirectly")}}):setTimeout((()=>(0,u.YG)("launchApplicationDirectly",e,"no permission"))):(0,u.IN)("launchApplicationDirectly",e,{})},encode:e=>{if(s.gm){let t=null;return(0,u.IN)("encodeArrayBufferSync",Object.assign(e,{success(e){t=e.buffer},fail(){}})),t}return l.Z.encodeArrayBuffer(e.data,e.format)},decode:e=>{if(s.gm){let t="";return(0,u.IN)("decodeArrayBufferSync",Object.assign(e,{success(e){t=e.result},fail(){}})),t}return l.Z.decodeArrayBuffer(e.data,e.format)}},et={wxGA:846,Kanata:933,reportIDKey:847,reportKeyValue:848,getXLogManager:849,getUserCloudStorage:883,getFriendCloudStorage:884,getGroupCloudStorage:885,getPotentialFriendList:886,getGroupInfo:887,shareMessageToFriend:888,getUserInfo:915,getUserCloudStorageKeys:950,modifyFriendInteractiveStorage:951,WebAssembly:962,Function:963,getGameLifeProfile:964,getGreetingControlInfo:965,interactGameLifeTag:966,openGameLifeAccountInfo:979,openGameLifeMiniGameTransfer:980,gameTransfer:981,createCanvas:987,createScreenCanvas:987,createWebView:991,navigateToMiniProgramDirectly:1002,coverview:1005,launchApplication:1006,privateOpenUrl:1007,launchApplicationDirectly:1008,encode:1022,decode:1023},tt=Object.keys(et).map((e=>et[e])),it={},nt=["getUserCloudStorage","getFriendCloudStorage","getGroupCloudStorage","getPotentialFriendList","getGroupInfo","shareMessageToFriend","getUserCloudStorageKeys","modifyFriendInteractiveStorage"],rt={},at=e=>(e=>{if(rt[e])return rt[e];it[e]={},(0,u.IN)("getPluginPermissionBytes",{pluginList:[{indexes:tt,pluginId:e}],success(t){const i=t.pluginPermissionMap;if(i&&i[e])for(let t=0;t<i[e].length;t++){const n=tt[t];it[e][n]=1===i[e][t]}}});const t={platform:a.Z.platform};for(const i in Qe){const n=et[i],r=it[e][n];("wx20afc706a711eefc"===e||"wx4d5893418b75cb20"===e||r)&&("createCanvas"===i&&(ot=!0),-1===nt.indexOf(i)?t[i]=Qe[i]:(0,m.J)("engineOpenData")&&(ot=!0,t[i]=Qe[i]))}return rt[e]=t,rt[e]})(e);let ot=!1;const st=()=>ot,{Canvas:lt}=l.Z,ct=new WeakMap;let dt=0;const ut=e=>{if(null!=e)return ct.get(e)};function pt(e){(0,L.Ft)()&&(0,u.IN)("removeImageView",{viewId:e,complete({errMsg:e}){}})}function ht(e){if((0,L.Ks)()){const t=e.getContext;e.getContext=(...i)=>{const n=t.call(e,...i),r=n.getSupportedExtensions,a=n.getExtension;return r&&(n.getSupportedExtensions=(...e)=>{const t=r.call(n,...e);if(Array.isArray(t)){const e=new Set(t);return e.delete("WEBGL_compressed_texture_etc1"),e.delete("WEBGL_compressed_texture_etc"),Array.from(e)}return t}),a&&(n.getExtension=e=>"WEBGL_compressed_texture_etc1"===e||"WEBGL_compressed_texture_etc"===e?null:a.call(n,e)),n}}}let ft,yt=!1;const _t=Object.defineProperty,gt=Object.getOwnPropertyDescriptor,mt=Object.prototype.hasOwnProperty,vt=["getContext","toDataURL"],Et=["width","height","tagName","nodeName"],It=({secure:e=!1,isSharedCanvas:t=!1}={},i=!0)=>{const n=new lt,r=!!("string"==typeof(s.gm?a.Z.appConfig.subContext:a.Z.subContext))&&i;if(ht(n),s.gm){let e=n.__proto__.__proto__;n.__proto__=new Proxy(n.__proto__,{setPrototypeOf:(t,i)=>(e=i,!0),getPrototypeOf:()=>e})}s.jP||s.gm||mt.call(n,"width")||(Et.forEach((e=>{for(let t=n;t;t=t.__proto__)if(mt.call(t,e)){_t(n,e,gt(t,e)),_t(n,e,{configurable:!1});break}})),_t(n,"style",{value:{},writable:!0}),ft||(ft={},ft[Symbol.toStringTag]="HTMLCanvasElement",vt.forEach((e=>{for(let t=n;t;t=t.__proto__)if(mt.call(t,e)){_t(ft,e,gt(t,e));break}}))),n.__proto__=ft),r&&(Object.setPrototypeOf(n,M()),"Object"===(0,be.Em)(n)&&Object.defineProperty(M(),Symbol.toStringTag,{get:()=>"HTMLCanvasElement"})),void 0===n.__id&&(n.__id=dt++);let o=!1;yt||(yt=!0,o=!0),ct.set(n,{canvasId:n.__id,secure:e,isSharedCanvas:t,isScreenCanvas:o,flag:f()});try{delete n.__id}catch(e){}const l=s.gm?n:(e=>{const{canvasId:t}=ct.get(e);return t})(n),c=t=>{if(e){const e=p.L.set(t.tempFilePath);t.tempFilePath=e}pt(l)};return n.toTempFilePathSync=function(e={}){let t,i;const n=ct.get(this),r=!!n&&n.isScreenCanvas;if(function(e){(0,L.Ft)()&&(0,u.IN)("insertImageView",{parentId:0,viewId:e,position:{width:0,height:0,top:0,left:0},clickable:!1,data:"{}",complete({errMsg:e}){}})}(l),(0,u.IN)("canvasToTempFilePathSync",Object.assign({},e,{canvasId:l},{isScreenCanvas:r,success:e=>{t=e.tempFilePath},fail:e=>{i=e.errMsg}}),{beforeSuccess:c}),pt(l),i)throw new Error(i);return t},n.toTempFilePath=(0,d.gA)(((e={})=>{const t=ct.get(n),i=!!t&&t.isScreenCanvas;(0,u.IN)("canvasToTempFilePath",Object.assign({},e,{canvasId:l,isScreenCanvas:i}),{beforeSuccess:c})})),n};let wt,bt;a.Z.onReady((()=>{if((0,E.aI)()){(()=>{const e=a.Z.plugins||a.Z.gamePlugins;e&&Object.keys(e).forEach((t=>{const i=e[t].provider;at(i)}))})();const e="string"==typeof(s.gm?a.Z.appConfig.subContext:a.Z.subContext)||st();wt=It({secure:e}),(e=>{if((0,L.LN)()){const t=e.getContext;e.getContext=(i,n,...r)=>{if("webgl"===i||"2d"===i){const a=Object.assign({},n);return a.preserveDrawingBuffer=!0,t.call(e,i,a,...r)}return t.call(e,i,n,...r)}}})(wt),ht(wt),Object.keys(k).forEach((e=>{if(k[e])return;const t=R(),i=t.getContext("2d");if("Canvas"===e)k[e]=Object.getPrototypeOf(t);else if("Image"===e)k[e]=Object.getPrototypeOf(new P);else if("CanvasRenderingContext2D"===e)k[e]=Object.getPrototypeOf(i);else if("CanvasPattern"===e){const n=i.createPattern(t,"repeat");k[e]=Object.getPrototypeOf(n)}else if("CanvasGradient"===e){const t=i.createLinearGradient(0,0,100,100);k[e]=Object.getPrototypeOf(t)}else if("ImageData"===e){const t=i.getImageData(0,0,10,10);k[e]=Object.getPrototypeOf(t)}else if("TextMetrics"===e){const t=i.measureText("123");k[e]=Object.getPrototypeOf(t)}})),bt=It({secure:e,isSharedCanvas:!0}),bt.width=a.Z.screenWidth,bt.height=a.Z.screenHeight}}));const At=()=>new l.Z.ScreenCanvas;let Tt=1,St=!1;function Ct(e,t,i=""){return e.font=`${t}px -apple-system`,i?e.measureText(i).width:0}a.Z.onReady((()=>{Tt=a.Z.pixelRatio,(0,X.JM)({apiName:"webapi_game_issharemarkenabled",reqData:{lib_version:o.c},success(e){const t=JSON.parse(e.rawData);St=t.is_enabled}})}));const Pt=e=>new Promise((t=>{if(e)if("transparent"===e)t({width:0,height:0});else{const i=new c;i.onload=()=>t(i),i.onerror=()=>t(),i.src=e}else t()})),Dt=function(){var e=r()((function*({background:e,label:t,icon:i,tag:n,more:r=!1,base64:a=!1}){if(!e)return e;const o=It({secure:st()}),s=o.getContext("2d");o.width=210*Tt,o.height=168*Tt,"transparent"===e&&(o.height=40*Tt),s.fillStyle="rgba(255, 255, 255, 0)",s.fillRect(0,0,o.width,o.height);const l=yield Pt(e);if(!l)return e;l.width/l.height>=1.25?s.drawImage(l,0,0,1.25*l.height,l.height,0,0,o.width,o.height):l.width/l.height<1.25&&s.drawImage(l,0,0,l.width,.8*l.width,0,0,o.width,o.height);const c=Ct(s,12*Tt,t);if(n){const e=Ct(s,10*Tt,n);s.fillStyle="rgba(0, 0, 0, 0.5)",s.beginPath(),s.moveTo(0,8*Tt),s.lineTo(c+e+12*Tt,8*Tt),s.arc(c+e+12*Tt,20*Tt,12*Tt,1.5*Math.PI,2.5*Math.PI),s.lineTo(0,32*Tt),s.closePath(),s.fill(),s.fillStyle="#F36D00",s.beginPath(),s.moveTo(4*Tt,14*Tt),s.arc(6*Tt,14*Tt,2*Tt,Math.PI,1.5*Math.PI),s.lineTo(e+10*Tt,12*Tt),s.arc(e+10*Tt,14*Tt,2*Tt,1.5*Math.PI,2*Math.PI),s.lineTo(e+12*Tt,26*Tt),s.arc(e+10*Tt,26*Tt,2*Tt,2*Math.PI,2.5*Math.PI),s.lineTo(6*Tt,28*Tt),s.arc(6*Tt,26*Tt,2*Tt,.5*Math.PI,Math.PI),s.closePath(),s.fill(),s.fillStyle="#FFFFFF",s.fillText(n,8*Tt,23.5*Tt),Ct(s,12*Tt),s.fillText(t,e+16*Tt,24*Tt)}else if(i){const e=yield Pt(r&&"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAYAAAAMCAYAAABBV8wuAAAAIGNIUk0AAHomAACAhAAA+gAAAIDoAAB1MAAA6mAAADqYAAAXcJy6UTwAAAAEZ0FNQQAAsY58+1GTAAAAAXNSR0IArs4c6QAAAAZiS0dEAP8A/wD/oL2nkwAAAAlwSFlzAAAOxAAADsQBlSsOGwAAAHtJREFUeNpj/v//v3RDQwNDY2PjLwYkwATEM4F4B1ABL7pEChALoUsyA434AjRqLZCdCcTBQPZqkLGMMBVA1RJAaj8QvwNiD0Zkc5EkHzMxoIL/UMzIhKRaHKr6I8guRiyC7oyMjJ8YsQnC/DEXXRAEWIA4A4g/IQuCAAABEju5SK8v4wAAAABJRU5ErkJggg=="),n=e?10*Tt:0;s.fillStyle="rgba(0, 0, 0, 0.5)",s.beginPath(),s.moveTo(0,8*Tt),s.lineTo(c+n+22*Tt,8*Tt),s.arc(c+n+22*Tt,20*Tt,12*Tt,1.5*Math.PI,2.5*Math.PI),s.lineTo(0,32*Tt),s.closePath(),s.fill();const a=yield Pt(i);a&&a.width&&a.height&&s.drawImage(a,6*Tt,12*Tt,16*Tt,16*Tt),e&&e.width&&e.height&&s.drawImage(e,c+30*Tt,14*Tt,6*Tt,12*Tt),s.fillStyle="#FFFFFF",Ct(s,12*Tt),s.fillText(t,26*Tt,24*Tt)}else s.fillStyle="rgba(0, 0, 0, 0.5)",s.beginPath(),s.moveTo(0,8*Tt),s.lineTo(c+2*Tt,8*Tt),s.arc(c+2*Tt,20*Tt,12*Tt,1.5*Math.PI,2.5*Math.PI),s.lineTo(0,32*Tt),s.closePath(),s.fill(),s.fillStyle="#FFFFFF",Ct(s,12*Tt),s.fillText(t,6*Tt,24*Tt);return a?o.toDataURL():o.toTempFilePathSync()}));return function(t){return e.apply(this,arguments)}}(),Ot=e=>new Promise((t=>{St&&e.imageUrl?(0,X.JM)({apiName:"webapi_game_getsharemark",reqData:{lib_version:o.c},success:({rawData:i})=>{let n=JSON.parse(i);n=(n.mark_list||[])[0],n||t(e),n&&Dt({background:e.imageUrl,label:n.wording,icon:n.head_img_url,tag:n.mark_word}).then((i=>{e.imageUrl=i,e.extra={shareCardMarker:{label:n.mark_type}},t(e)})).catch((()=>t(e)))},fail:()=>t(e)}):t(e)}))},8991:(e,t,i)=>{"use strict";i.d(t,{HP:()=>j,A5:()=>N,kv:()=>M});i(1503);var n=i(8159),r=i(1106),a=i(9078),o=i(7618),s=(i(7551),i(2582));const l=e=>{(0,r.gM)(Object.assign({},e,{data:{api_name:"webapi_reportgroupshare",data:{path:e.path,share_key:e.shareKey}},success(t){s.wZ&&"string"==typeof t.data&&(t.data=JSON.parse(t.data));const i=JSON.parse(t.data.data);0===i.errcode?(t.expiresIn=i.expires_in,t.groupMsgTicket=i.group_msg_ticket,delete t.data,(0,r.FE)({name:"getGroupMsgTicket",args:e,res:t})):(0,r.YG)("getGroupMsgTicket",e,i.errmsg,i.errcode)},fail(t){(0,r.YG)("getGroupMsgTicket",e,t.errMsg,-1)}}))};var c=i(1095),d=i(9973),u=i(665),p=i(3536),h=i(1130);const f=(0,h.Z)("getIAPInfo","webapi_getiapinfo");var y=i(6998);const _={};var g=i(3872),m=i(5014);const v=(E="getCloudFileUrl",I="qbase_commapi",(0,h.Z)(E,I,{},{},(function(e){const t=e.data;return{qbase_api_name:"tcbapi_component_gettempfileurl",qbase_req:JSON.stringify({fileid_list:t.fileid_list.slice(),type:t.type}),cli_req_id:`${+new Date}_${Math.random()}`}}),(function(e){return e})));var E,I;const w=new Map,b=function(e){const{fileIds:t,type:i,success:n}=e,r=new Map,a=[];let o=!1;if(t.forEach((e=>{const t=w.get(e);if(t){if(Date.now()<t.expireTime)return void(r.has(e)||(r.set(e,t.data),o||(o=!0)));w.delete(e)}/^(cloud):\/\//.test(e)&&a.push(e)})),0===a.length)return void(o?A(t,r,0,n):"function"==typeof n&&n({data:t.map((e=>({url:e})))}));let s=0;const l=function(e,t){const i=[],n=Math.ceil(e.length/t);for(let r=0;r<n;r++)i.push(e.slice(r*t,(r+1)*t));return i}(t,50);Promise.all(l.map((e=>new Promise((t=>{v({data:{fileid_list:e,type:i},requestInQueue:!1,success(i){const n=JSON.parse(i.rawData);if(n.baseresponse&&0===n.baseresponse.errcode?n.download_list.forEach((e=>{r.set(e.fileid,e),!w.has(e.fileid)&&e.max_age&&w.set(e.fileid,{data:e,expireTime:Date.now()+1e3*e.max_age})})):n.baseresponse?e.forEach((e=>{r.set(e,{download_url:e,service_errcode:n.baseresponse.errcode,errmsg:"system error baseresponse.errcode "+n.baseresponse.errcode}),w.has(e)&&w.delete(e)})):e.forEach((e=>{r.set(e,{download_url:e,service_errcode:-1,errmsg:"system error baseresponse empty"}),w.has(e)&&w.delete(e)})),n.baseresponse&&n.baseresponse.stat&&n.baseresponse.stat.qbase_cost_time){const e=n.baseresponse.stat.qbase_cost_time;e>s&&(s=e)}t()},fail(){t()},complete(e){}})}))))).then((()=>{A(t,r,s,n)})).catch((e=>{"function"==typeof n&&n({data:t.map((t=>({url:t,service_errcode:-1,errmsg:e+""})))})}))};function A(e,t,i,n){const r=[];e.forEach((e=>{if(/^(cloud):\/\//.test(e)){const i=t.get(e);i?0===i.service_errcode?r.push({url:i.download_url}):r.push({url:e,code:i.service_errcode,msg:i.errmsg}):r.push({url:e,code:-1,msg:"NO_RESULT"})}else r.push({url:e})})),"function"==typeof n&&n({data:r,cost:i})}i(2411);i(8433);var T=i(8977);i(4079);let S=!0,C={};u.Z.onReady((()=>{if(!(0,c.KU)("shareCustomImageUrl")){(0,h.Z)("getShareConfig","webapi_getshareconf")({success(e){Array.isArray(e.share_link_list)&&(C=e.share_link_list.reduce(((e,t)=>(e[t.id]=t.url,e)),{}))},fail(e){}}),S=!1}}));const P=()=>C,D=()=>S;(0,h.Z)("reportUserBehaviorBranchAnalytics","webapi_reportbranchanalytics",{},{},(({branchId:e,branchDim:t,eventType:i})=>({itemList:[{branchId:e,branchDim:t,eventType:i}]}))),(0,h.Z)("reportUserBehaviorBranchAnalyticsForDebug","webapi_reportbranchanalyticsfordebugtool",{},{},(({branchId:e,branchDim:t,reportType:i,query:n})=>({itemList:[{branchId:e,branchDim:t,reportType:i,query:n}]})));var O=i(7646);const k=new n.Z;let x=null,R=null;const N=()=>R;u.Z.onReady((()=>{(0,c.aI)()&&i(743).dN((e=>{if(R={},e.referrerInfo&&e.referrerInfo.messageExtraData){R=e.referrerInfo.messageExtraData;const{userInfo:t,shareType:i}=R;if(i&&t){const n=[Reporter.getAppType(),i,t.openID,e.path||"",(0,y.PL)()].join(",");Reporter.reportKeyValue({key:"ShareCardClick",value:n})}}}))}));const M=e=>{(0,r.IN)("showUpdatableMessageSubscribeButton",{shareKey:e})},L=e=>(t,i)=>{let{shareInfos:n}=t;if(delete t.shareInfos,void 0!==n&&n.length>0)if(n=n.filter((e=>e.shareKey&&e.shareName)),t.shareTickets=n.map((e=>(M(e.shareKey),a.Z.set(e.shareKey,e.shareName)))),s.gm)delete t.shareTickets,delete t.shareInfos,i();else{if(e.getGroupMsgTicket)return void Promise.all(n.map((e=>new Promise((t=>{const{shareKey:i}=e;(e=>{l(e)})({shareKey:i,success(e){t({groupMsgTicket:e.groupMsgTicket,expiresIn:e.expiresIn})},fail(){t({groupMsgTicket:""})}})}))))).then((e=>(t.groupMsgInfos=e,i()))).catch((()=>{}));i()}else i()},F=(e={},t,i={},n=!1)=>{const a=D(),l=P();let h="string"==typeof e.path?e.path:"",f="string"==typeof e.query?e.query:"",y="",v=0;switch(t){case"shareAppMessage":v=1;break;case"shareAppMessageDirectly":v=2;break;case"shareAppMessageToSpecificContactDirectly":v=3}if(f.length>2e3&&(console.warn(`shareAppMessage: query exceed max length limit 2000: "${f.length}"`),f=f.substr(0,2e3)),f&&(h=`${h}?${f}`),e.imageUrl=o.L.get(e.imageUrl)||e.imageUrl,Array.isArray(e.imageUrl)&&(e.imageUrl=""),!a){if(!l[e.imageUrlId])return e.imageUrlId,(0,p.CF)({icon:"none",title:"由于小程序违规，分享功能暂时无法使用"}),void E(2);y=e.imageUrl=l[e.imageUrlId]}function E(t){!function({result:e,shareType:t,canUseCustomImageUrl:i,imageUrlId:n="",transformedImageUrl:r=""}){const a=_.query,o=[],s=u.Z.accountInfo&&u.Z.accountInfo.nickname||"";if(a&&"object"==typeof a)for(const e in a)o.push(`${encodeURIComponent(e)}=${encodeURIComponent(a[e])}`);const l=[_.scene,_.scene_note,_.sessionid,"",s,Reporter.getAppType(),e,0,o.join("&"),t,i?1:2,n,r,u.Z.host?u.Z.host.appId:""].map(encodeURIComponent).join(",");Reporter.reportKeyValue({key:"Share",value:l}),Reporter.submit()}({result:t,shareType:v,canUseCustomImageUrl:a,imageUrlId:e.imageUrlId,transformedImageUrl:y})}(0,r.IN)(t,Object.assign(i,e,{path:h,useDefaultSnapshot:!0,messageExtraData:Object.assign({shareType:v,userInfo:x},e.extra),success(t){(0,T.Ku)("shareAppMessage",t),(n||!s.gm&&(0,c.KU)("share"))&&(0,r.FE)({name:"shareAppMessage",args:e,res:t}),E(1),setTimeout((()=>{(0,g.y4)(g.F0.EVENT_CANVAS_AFTER_SHARE_SUCCESS)}),500),e.requireAdsSkipCard&&(0,O.JM)({apiName:"webapi_recvadcardsharepresent",reqData:{outTradeNo:(Date.now()+Math.random()).toString(36)},success(e){const t=JSON.parse(e.rawData);!t.errCode&&t.amount&&function(e={}){__sclEngine__.initScl((t=>{t.mainRoot.append("ad-skip-card",e)}))}(t)}})},fail(t){const i=t.errMsg.replace("shareAppMessage:fail","");(n||!s.gm&&(0,c.KU)("share"))&&(0,r.YG)("shareAppMessage",e,i),E(-1!==i.indexOf("cancel")?3:2)},cancel(){setTimeout((()=>{(0,g.y4)(g.F0.EVENT_CANVAS_AFTER_SHARE_CANCEL)}),500)},complete:t=>{const i=(t.errMsg||"").replace(/^[^:]+/,"shareMessageToFriend"),n=!i||"shareMessageToFriend:ok"===i;(0,m.J)("shareCallback")&&3===v&&(k.emit("callback",{errMsg:i,success:n}),(0,r.FE)({name:"shareMessageToFriend",errMsg:i,success:n,args:e}))}}),{beforeSuccess:L(e),beforeAll(e){e.errMsg=e.errMsg.replace("shareAppMessageDirectly","shareAppMessage"),e.errMsg=e.errMsg.replace("shareAppMessageToSpecificContactDirectly","shareAppMessage")}}),["success","fail","cancel","complete"].some((t=>"function"==typeof e[t]))&&(0,d.Y)({name:t,strategy:1}),(0,g.y4)(g.F0.EVENT_CANVAS_BEFORE_SHARE)},j=(...e)=>{const t=()=>{let t=e[0].imageUrl;b({fileIds:[t],type:"image",success:n=>{/^(cloud):\/\//.test(t)&&(t=n.data[0].url),e[0].imageUrl=t,(0,c.aI)()?i(2043).H(e[0]).catch(wxConsole.warn).then((()=>F(...e))):F(...e)}})};x?t():f({success:e=>{x=e},complete:()=>t()})}},9066:(e,t,i)=>{"use strict";i.d(t,{Z:()=>n});const n={query:{}}},8997:(e,t,i)=>{"use strict";i.d(t,{ul:()=>h,R0:()=>_,fs:()=>c.t2,Be:()=>p,_t:()=>u,Yo:()=>d,Lo:()=>f,mQ:()=>y,yw:()=>g,fy:()=>v,Ae:()=>m});var n=i(1106),r=i(2241),a=i(4684),o=i(5260),s=i(7646),l=i(2582);var c=i(2347);const d=(0,r.Fr)((({url:e,adInfo:t,adUxInfo:i,success:r,fail:a,complete:o})=>{const s={url:e,adInfo:t,success:r,fail:a,complete:o};i&&(s.adUxInfo=i),(0,n.IN)("private_openUrl",s)})),u=(0,r.Fr)((({canvasInfo:e,posType:t,success:i,fail:r,complete:o})=>{(0,n.IN)("openADCanvas",{canvasId:e.canvas_id,preLoad:0,noStore:0,extraData:JSON.stringify({pos_type:t}),adInfoXml:(0,a.l_)(e.ad_info_xml),openFirstSightVoice:1,success:i,fail:r,complete:o})})),p=(0,r.Fr)((({appId:e,path:t,traceid:i,aid:r,adInfo:a,adUxInfo:s,success:l,fail:c,complete:d})=>{const u=`${i}:${r}`,p={appId:e,path:(0,o.Pp)(t).trim(),scene:1095,sourcetype:1,sceneNote:u,adInfo:a,success:l,fail:c,complete:d};s&&(p.adUxInfo=s),(0,n.IN)("navigateToMiniProgram",p)})),h=(0,r.Fr)(((e=!0,t,i=!1)=>(r={})=>{if(!(0,n.r3)("adOperateWXData",r,{apiName:""}))return;const a={data:{api_name:r.apiName,data:r.reqData||{},operate_directly:e},isImportant:!0===i,requestInQueue:!r.hasOwnProperty("requestInQueue")||Boolean(r.requestInQueue)};(0,n.IN)("adOperateWXData",Object.assign({},a,r),{beforeAll(e){void 0!==t&&(e.errMsg=e.errMsg.replace("adOperateWXData",t))},beforeSuccess(e){l.wZ&&"string"==typeof e.data&&(e.data=JSON.parse(e.data)),void 0!==e.data.data&&(e.rawData=e.data.data),e.respData=e.data,delete e.data}})})(!1,"adOperateWXDataForAd")),f=(0,r.Fr)((0,s.Ce)(!1,"operateWXDataForAd"));function y(e){(0,n.be)("showSplashAd",e)}function _(e){(0,n.be)("closeSplashAd",e)}function g(e){(0,n.be)("showSplashAdMenu",e)}function m(e){(0,n.be)("splashAdFirstStepViewLayoutStateChange",e)}function v(e){(0,n.be)("splashAdAllViewLayoutStateChange",e)}},5328:(e,t,i)=>{"use strict";i.d(t,{vK:()=>r,DX:()=>a,_W:()=>o,WG:()=>s,wE:()=>l,R$:()=>c,fY:()=>d,Lq:()=>u,YC:()=>p,gQ:()=>h,ET:()=>f,UJ:()=>y,yd:()=>_,qi:()=>g,MC:()=>m,c3:()=>v,sl:()=>E,yB:()=>n.Bq});var n=i(637);const r={CRT_SIZE_REWARD_VEDIO169:559,CRT_SIZE_REWARD_VEDIO916:560,CRT_SIZE_REWARD_LANDINGPAGE:910,CRT_SIZE_SPLASH_AD:1003,CRT_SIZE_IN_TEXT_DESC_CARD:841,CRT_SIZE_MULTI_POS_NEW_PIC:927,CRT_SIZE_MULTI_POS_VIDEO:929,CRT_SIZE_GRID:972,CRT_SIZE_BIG_PIC:998,CRT_SIZE_VERTICAL_VIDEO_NEW_916:721},a={banner:"8040321819858439","incentive-video":"1030436212907001",interstitialAd:"3030046789020061",grid:"7070083760581921",splashAd:"5060180989186180",wxAppVideo:"5010365819466098",wxAppPreVideoAd:"7090665964306299",customAd:"4071202390577885"},o={banner:3,"incentive-video":1,interstitialAd:4,grid:7,splashAd:8,customAd:9},s={banner:"showed","incentive-video":"viewable",interstitialAd:"viewable",grid:"viewable",splashAd:"viewable",customAd:"viewable"},l={"incentive-video":3,banner:4,interstitialAd:5,grid:6,customAd:7},c={94794:"widget_gray_batchload_app",94801:"widget_gray_vb_check",94804:"widget_gray_time_limit",94805:"widget_gray_video_download_v2",95489:"widget_gray_unlimit_fetch_tag",95767:"widget_gray_rewardedpage_exposure",100036:"widget_gray_report_install_follow",100332:"widget_gray_rewardedpage_exposure_v2",101246:"widget_gray_reward_new_endpage",104502:"widget_gray_reward_use_gauss_blur",104504:"widget_gray_reward_use_expand_style",105786:"widget_gray_banner_limit_click",105818:"widget_gray_splash_data_channel_parallel",107048:"widget_gray_splash_click_area_switch",110380:"widget_gray_webstore",109764:"widget_gray_rewrad_use_gauss_blur_android_system_version",109766:"widget_gray_rewrad_use_gauss_blur_android_wechat_version",110106:"widget_gray_splash_check_and_fetch",110108:"widget_gray_splashad_show_duration",110422:"widget_gray_interstitialAd_insurance_tips"},d={WECHAT:23,OPEN_PLATFORM_APP_MOB:12,APPLE_APP_STORE:19,MINI_GAME:46,JD_URL:25,WE_CHAT_SHOP:30,WE_CHAT_ARTICLE:29,GDT_WE_CHAT_ARTICLE:31},u="wxfile://ad",p=`${u}/adinfos.txt`,h={splashAd:1288,customAd:1390},f={dataLoadSuccess:0,dataLoadFail:1,dataPreloadSuccess:2,dataPreloadFail:3,handleDataFail:4,launchAcceptShouldShow:5,menuAcceptShouldShow:6,readFileFail:7,launchShowSplashAdSuccess:8,menuShowSplashAdSuccess:9,showSplashAdFail:10,firstRenderFail:11,firstInsertFail:12,secondRenderFail:13,secondInsertFail:14,iosThirdInsertFail:15,checkAdStateFail:16,adOfflineClose:17,readFileDataFail:18,firstShowSuccess:19,showSplashAdMenuSuccess:20,showSplashAdMenuFail:21,secondShowSuccess:22,removeFileDataFail:23,landingPageFail:24,frequencyControlFail:25,frequencyControlReturn:26,bulkCopyFileFail:27,getAdInfosFail:28,getAidFail:29,setExposureTagFail:30,NO_ADINFOS:31,NO_AID:32,MATERIAL_NOT_READY:33,CHECK_AD_STATUS_ERROR:34,CRT_ORIENTATION_NOT_SURE:35,EXPOSURE_TIMES_LIMIT:36,START_CHECK_AD_STATUS:37,CHECK_AD_STATUS_SUCCESS:38,OTHER_ADS_EMIT_FETCH:39,WRITE_ADINFOS_SUCCESS:40,WRITE_ADINFOS_FAIL:41,SHOW_SPLASH_FAIL:10},y={banner:5,"incentive-video":6,interstitialAd:8,customAd:9,grid:13,splashAd:14},_={click:1,exposure:0},g={showed:0,viewable:1,incentiveVideoCard:2},m={wifi:1,"2g":2,"3g":3,"4g":4,"5g":5},v={NO_ADINFOS:2001,NO_AID:2002,MATERIAL_NOT_READY:2003,CHECK_AD_STATUS_ERROR:2004,CRT_ORIENTATION_NOT_SURE:2005,EXPOSURE_TIMES_LIMIT:2006,SHOW_SPLASH_FAIL:2007},E={12:"应用",19:"应用",23:"公众号",25:"商品",29:"活动",30:"商品",31:"活动",36:"优惠",39:"店铺",43:"活动",46:"小游戏",47:"优惠"}},9598:(e,t,i)=>{"use strict";i.d(t,{Zp:()=>a,Ug:()=>o,Pp:()=>s,EJ:()=>l,BZ:()=>c,vj:()=>d,vl:()=>u});var n=i(1106);const r=new(i(1095).vp),a=()=>{r.emit("_onEmitSplashAdFetch")};function o(e){(0,n.jQ)("shouldShowSplashAd",e)}function s(e){(0,n.jQ)("onSplashAdShow",e)}function l(e){(0,n.jQ)("onSplashAdHide",e)}function c(e){(0,n.jQ)("onSplashAdClose",e)}function d(e){(0,n.jQ)("onSplashAdWillLayout",e)}function u(e){(0,n.jQ)("onSplashAdButtonClicked",e)}},3324:(e,t,i)=>{"use strict";i.d(t,{G_:()=>s,uQ:()=>l,LQ:()=>c,mh:()=>o});var n=i(4684),r=i(8997),a=i(5328);const o=e=>{const t={};try{e=JSON.parse(e);for(const i of e)i.hasOwnProperty("exp_para")&&i.exp_para.forEach((e=>{t[e.name]=Number(e.value)}));for(const e in t)a.R$[e]&&(t[a.R$[e]]=t[e]);return t}catch(e){return{}}},s=(e={},t=!0)=>(0,r.ul)({apiName:"webapi_getadvert",reqData:{action:"CheckAdIsOnline",request_data:JSON.stringify(e)},requestInQueue:t}),l=({aid:e,buttonText:t=""})=>(0,r.Lo)({apiName:"webapi_getadvert",reqData:{action:"weapp_comm",request_data:JSON.stringify({rpc_method:"get_ad_metric",aid:e.toString(),button_text:t})}}).then((e=>{if(!e.rawData)throw new Error("get_ad_metric no result");try{const t=JSON.parse(e.rawData),i=JSON.parse(t.result),{ad_metric_count:r,desc_text:a}=i||{};return null==r||null==a||r<50?null:{count:(0,n.in)(r),descText:a}}catch(e){throw new Error("get_ad_metric invalid result")}})).catch((()=>{throw new Error("get_ad_metric request failed")})),c=({guide_group_id:e,uxinfo:t})=>(0,r.Lo)({apiName:"webapi_getadvert",reqData:{action:"weapp_comm",request_data:JSON.stringify({rpc_method:"BindAdFansToGuideGroup",guide_group_id:e,uxinfo:t})}}).then((e=>"ok"===e.msg?Promise.resolve(e):Promise.reject(e)))},2486:(e,t,i)=>{"use strict";i.d(t,{fn:()=>L,x1:()=>R,J$:()=>F,BZ:()=>N,Z7:()=>M});var n=i(1106),r=i(6947),a=i(2582),o=i(665),s=i(2288),l=i(5014),c=i(4016);(0,c.b)("Download",{maxTaskCount:10,functionName:"downloadFile"}),o.Z.onReady((()=>{try{"number"==typeof o.Z.wxAppInfo.maxDownloadConcurrent&&(0,c.b)("Download",{maxTaskCount:o.Z.wxAppInfo.maxDownloadConcurrent})}catch(e){}}));class d extends c.o{constructor(e){super(e,{taskType:"Download",beforeSend:t=>(t.filePath=e.filePath,t),beforeSuccess:e=>(delete e.timeInterval,e)})}}const u=d;var p=i(8159),h=i(1095);const f=r.Z.Download,y=new WeakMap,_=new WeakMap,g=new WeakMap,m=[];let v=0,E=10;function I(e=!1){for(e&&(y.delete(e),_.delete(e),g.delete(e),v--);m.length>0&&v<E;){const e=m.shift(),t=y.get(e),i=_.get(e);t&&i&&(t.start(i),v++)}}o.Z.onReady((()=>{o.Z.wxAppInfo&&o.Z.wxAppInfo.maxDownloadConcurrent&&(E=o.Z.wxAppInfo.maxDownloadConcurrent)}));class w{constructor(e){const t=new f,i=new p.Z;y.set(this,t),g.set(this,i),_.set(this,(0,h.v7)(e,["url","header","filePath","enableProfile"])),t.onfail=t=>{(0,n.YG)("downloadFile",e,t),I(!0)},t.onsuccess=t=>{(0,n.FE)({name:"downloadFile",args:e,res:t}),I(!0)},t.onheader=e=>i.emit("header",{header:e}),t.onprogress=(e,t,n)=>i.emit("progress",{progress:e,totalBytesWritten:t,totalBytesExpectedToWrite:n}),(({api:e,url:t})=>(0,h.vB)()?Promise.resolve({isInDomainList:!0,isLocalHost:!1,isInLAN:!0}):new Promise(((i,r)=>{(0,n.IN)("checkNetworkAPIURL",{api:e,url:t,success:i,fail:r})})))({api:"downloadFile",url:e.url}).then((t=>{e.__skipDomainCheck__||t.isInDomainList||t.isInLAN&&!t.isLocalHost?(m.push(this),I()):(0,n.YG)("downloadFile",e,"invalid url")})).catch((()=>{(0,n.YG)("downloadFile",e,"url validate error")}))}abort(){const e=y.get(this);e&&e.abort()}onHeadersReceived(e){const t=g.get(this);t&&t.on("header",e)}onProgressUpdate(e){const t=g.get(this);t&&t.on("progress",e)}offHeadersReceived(e){const t=g.get(this);t&&t.off("header",e)}offProgressUpdate(e){const t=g.get(this);t&&t.off("progress",e)}}let b=!1;function A(e){return b?new w(e):new u(e)}i.g.__isAppServiceRemoteDebugMode__||r.Z.Download&&o.Z.onReady((()=>{let e=!1;const t=a.cj?"clicfg_appbrand_ios_native_download":"clicfg_appbrand_native_download";(0,s.b)({experimentId:t,experimentType:"Expt",success:t=>{t&&1===Number(t.testConfig)&&(e=!0)},fail(e){}});const i=(0,l.J)("bindingDownload");b=e||i}));i(2347);const T=(e={})=>(e=Object.assign({__skipDomainCheck__:!1},e),(t={})=>{if((0,n.r3)("downloadFile",t,{url:""})){t.__skipDomainCheck__=e.__skipDomainCheck__;try{return new A(t)}catch(e){return void(0,n.YG)("downloadFile",t,e.message)}}}),S=(T(),T({__skipDomainCheck__:!0}));var C=i(8997),P=i(5328),D=i(9598);const O=["adinfos.txt","/adinfos.txt","/"];let k=0;const x=(e="")=>{if(e)return new Promise(((t,i)=>{C.fs.unlink({filePath:e,success:t,fail:e=>{e&&e.errMsg&&e.errMsg.indexOf("no such file or directory")>-1||i(e)}})}))},R=(e="")=>e?((e="")=>{if(e)return new Promise(((t,i)=>{C.fs.stat({path:e,recursive:!0,success:t,fail:i})}))})(e).then((e=>{let t=0;const i=[],n=[],r=e.stats||[],a=+new Date;for(const e of r){t+=e.stats.size||0,O.includes(e.path)||i.push(e.path);a-1e3*e.stats.lastAccessedTime>=6048e5&&!O.includes(e.path)&&n.push(e.path)}return{totalSize:t,fileList:i,outedDateFileList:n}})):{totalSize:0,fileList:[],outedDateFileList:[]},N=(e="",t=[])=>{if(!e||0===t.length)return Promise.resolve();const i=[];for(const n of t){const t=`${e}/${n}`;i.push(x(t))}return Promise.all(i)},M=(e={},t="")=>t?(0,h.er)()?Promise.resolve():a.wZ||a.cj?new Promise(((i,n)=>{C.fs.writeFile({filePath:t,data:JSON.stringify(e),encoding:"utf-8",success:i,fail:n})})):Promise.resolve():Promise.resolve(),L=e=>e&&0!==e.length?((e="")=>{if(e)return new Promise(((t,i)=>{C.fs.readdir({dirPath:e,success:t,fail:i})}))})(P.Lq).then((t=>{const i=t.files;e&&e.map((e=>{const{url:t,filePath:n,fileName:r}=e;return i.includes(r)?Promise.resolve():((e="",t="")=>{if(e&&t)return new Promise(((i,n)=>{S({url:e,filePath:t,success:i,fail:n})}))})(t,n)}))})):Promise.reject({errMsg:"无数据"}),F=e=>{if(e&&"object"==typeof e&&!(k>0)&&(k+=1,!(0,h.er)()&&(a.wZ||a.cj)&&e&&e.widget_gray_unlimit_fetch_tag)){const t=3600*e.widget_gray_unlimit_fetch_tag*1e3;try{C.fs.stat({path:P.YC,success:e=>{var i;Date.now()-1e3*(null==e||null===(i=e.stats)||void 0===i?void 0:i.lastModifiedTime)>=t&&(0,D.Zp)()},fail:e=>{e.errMsg&&e.errMsg.indexOf("no such file")>-1&&M({},P.YC)}})}catch(e){}}}},2886:(e,t,i)=>{"use strict";i.d(t,{R:()=>r,Y:()=>a});var n=i(7868);const r=e=>(0,n.J)(19213,e),a=e=>(0,n.J)(19214,e)},4684:(e,t,i)=>{"use strict";i.d(t,{l_:()=>a,Ee:()=>s,Cy:()=>l,in:()=>u,IU:()=>c,$G:()=>d,U2:()=>p,X1:()=>h,Vs:()=>r.Vs});var n=i(1106),r=i(2241);const a=function(e){let t="";return 0===(e=e||"").length?"":(t=e.replace(/&lt;/g,"<"),t=t.replace(/&gt;/g,">"),t=t.replace(/&nbsp;/g,"    "),t=t.replace(/&#039;|&#39;/g,"'"),t=t.replace(/&#047;|&#47;/g,"/"),t=t.replace(/&#092;|&#92;/g,"\\"),t=t.replace(/&quot;/g,'"'),t=t.replace(/&amp;/g,"&"),t=t.replace(/<br>/g,"\n"),t=t.replace(/<br\/>/g,"\n"),t=t.replace(/<br \/>/g,"\n"),t)},o=e=>e&&"object"==typeof e&&!Array.isArray(e),s=(e,...t)=>{if(!t.length)return e;const i=t.shift();if(o(e)&&o(i))for(const t in i)o(i[t])?(e[t]||Object.assign(e,{[t]:{}}),s(e[t],i[t])):Object.assign(e,{[t]:i[t]});return s(e,...t)},l=()=>{const e=new Date,t=e.getMonth()+1,i=e.getDate();return[e.getFullYear(),(t>9?"":"0")+t,(i>9?"":"0")+i].join("")},c=e=>{if(e)return e.wx_game_video&&e.wx_game_video.short_video?e.wx_game_video.short_video.viewid:void 0},d=(e,t)=>{let i=0,n=0;for(let r=0;r<e.length;r++)i+=/[\u4e00-\u9fa5]/.test(e[r])?2:1,i<t-1&&(n=r);return i>t?`${e.substring(0,n+1)}...`:e},u=e=>e<1e4?e.toString():`${(e/1e4).toFixed(1)}万`,p=(e,t,i)=>{"string"==typeof t&&(t=t.split("."));let n=e,r=0;for(;n&&r<t.length;)n=n[t[r]],r+=1;return n||i},h=e=>{let t=0;const i=Object.assign({},{fontWeight:"normal",fontStyle:"normal",fontFamily:"sans-serif"},e);try{(0,n.IN)("measureText",Object.assign({},i,{complete(e){t=e.width||0}}))}catch(e){}return t}},8977:(e,t,i)=>{"use strict";i.d(t,{lc:()=>A,Ku:()=>T});var n=i(1106);const r=(0,i(2046).s)("userCaptureScreen"),a=r.onMethod;r.offMethod;let o=null;(0,n.jQ)("onUserCaptureScreen",(e=>{"function"==typeof o&&o(e),r.emit(e)}));var s=i(665),l=i(5287),c=i(2886),d=i(9185),u=i(1095),p=i(29),h=i(7646),f=i(2241),y=i(2486);const _=(0,f.Fr)((0,h.Ce)(!1,"advertReport"));let g="",m=0,v="index.html";const E=new u.vp,I="_onWxAdUserCaptureScreen",w={shareAppMessage:0,shareTimeline:3};s.Z.onReady((()=>{g=(0,l.I)()}));const b={};try{(0,d.H)((e=>{m=e.webviewId,b[m]||(b[m]=!0,v=e.path,(0,p.dq)(m,(e=>{C(e)})))}))}catch(e){}a((()=>{const e=+new Date;g&&(0,c.R)({eventTimeStamp:e,scene:7,uxinfo:g,url:v}),m&&(0,n.nY)(I,{eventTimeStamp:e,path:v},[m]),E.emit(I,{eventTimeStamp:e,webviewId:m,path:v})}));const A=e=>{"function"==typeof e&&E.on("_onWxAdUserCaptureScreen",e)},T=(e,t)=>{if(g){let i="",n=w[e]?w[e]:0;"shareAppMessage"===e&&t.shareInfos&&(n=t.shareInfos.length>0?2:1,i=t.shareInfos.length>0&&t.shareInfos[0].shareName||""),0===n&&"shareAppMessage"===e&&t.shareTickets&&(n=t.shareTickets.length>0?2:1),(0,c.Y)({eventTimeStamp:+new Date,shareType:n,tousername:i,uxinfo:g,url:v})}},S={};(0,n.Ld)("wxAdDelayReport",((e,t)=>{S[t]||(S[t]={}),e.key&&e.value&&(S[t][e.key]=e.value)}));const C=e=>{if(S[e]){for(const t in S[e]){const i=S[e][t];_({apiName:"advert_report",reqData:{report_action:"comm_mmdata_report",report_data_json:i}}).catch((e=>{}))}delete S[e]}};(0,n.Ld)("checkWxAdFetchLog",(e=>{(0,y.J$)(e)})),(0,n.Ld)("weappTouchEvent",(e=>{E.emit("_onWeappTouchEvent",e)}))},2605:(e,t,i)=>{"use strict";i.d(t,{x:()=>r});const n={20299:[{type:"string",key:"ClientIPV6",value:""},{type:"uint64",key:"aid",value:"0"},{type:"string",key:"traceid",value:""},{type:"string",key:"publisher_appid",value:""},{type:"string",key:"network_type",value:""},{type:"string",key:"wechat_version",value:""},{type:"string",key:"platform",value:""},{type:"string",key:"system_version",value:""},{type:"string",key:"device_orientation",value:""},{type:"string",key:"wxapp_lib_version",value:""},{type:"uint64",key:"slotid",value:"0"},{type:"uint32",key:"costtype",value:"0"},{type:"uint32",key:"is_game",value:"0"},{type:"uint32",key:"is_reward",value:"0"},{type:"uint32",key:"is_cancel",value:"0"},{type:"uint32",key:"ad_platform",value:"0"}],18988:[{type:"string",key:"ClientIPV6",value:""},{type:"uint64",key:"aid",value:"0"},{type:"string",key:"traceid",value:""},{type:"string",key:"publisher_appid",value:""},{type:"string",key:"network_type",value:""},{type:"string",key:"wechat_version",value:""},{type:"string",key:"platform",value:""},{type:"string",key:"system_version",value:""},{type:"string",key:"device_orientation",value:""},{type:"string",key:"wxapp_lib_version",value:""},{type:"uint64",key:"slotid",value:"0"},{type:"uint32",key:"costtype",value:"0"},{type:"uint32",key:"is_game",value:"0"},{type:"uint32",key:"button_type",value:"0"}],16743:[{type:"string",key:"ClientIPV6",value:""},{type:"uint64",key:"aid",value:"0"},{type:"string",key:"traceid",value:""},{type:"string",key:"publisher_appid",value:""},{type:"string",key:"network_type",value:""},{type:"string",key:"wechat_version",value:""},{type:"string",key:"platform",value:""},{type:"string",key:"system_version",value:""},{type:"string",key:"device_orientation",value:""},{type:"string",key:"wxapp_lib_version",value:""},{type:"uint64",key:"slotid",value:"0"},{type:"uint32",key:"costtype",value:"0"},{type:"uint32",key:"is_game",value:"0"},{type:"uint32",key:"close_type",value:"0"},{type:"uint64",key:"exposure_duration",value:"0"},{type:"uint64",key:"start_time",value:"0"},{type:"uint64",key:"close_time",value:"0"},{type:"string",key:"orig_weapp_id",value:""}],16139:[{type:"string",key:"ClientIPV6",value:""},{type:"string",key:"appid",value:"0"},{type:"string",key:"weapppath",value:"0"},{type:"string",key:"adunit_id",value:"0"},{type:"uint64",key:"slotid",value:"0"},{type:"uint32",key:"costtype",value:"0"},{type:"string",key:"traceid",value:"0"},{type:"uint64",key:"TimeMs",value:"0"},{type:"string",key:"useragent",value:"0"},{type:"uint32",key:"type",value:"0"},{type:"uint32",key:"diaphaneity",value:"0"},{type:"uint32",key:"PageX",value:"0"},{type:"uint32",key:"PageY",value:"0"},{type:"uint32",key:"ScreenHeight",value:"0"},{type:"uint32",key:"ScreenWidth",value:"0"},{type:"uint64",key:"aid",value:"0"},{type:"string",key:"network_type",value:""},{type:"string",key:"wechat_version",value:""},{type:"string",key:"platform",value:""},{type:"string",key:"system_version",value:""},{type:"string",key:"device_orientation",value:""},{type:"string",key:"wxapp_lib_version",value:""},{type:"string",key:"orig_weapp_id",value:""}],17045:[{type:"string",key:"ClientIPV6",value:""},{type:"uint64",key:"aid",value:"0"},{type:"string",key:"traceid",value:""},{type:"string",key:"appid",value:""},{type:"string",key:"weapp_path",value:""},{type:"string",key:"ad_unit_id",value:""},{type:"string",key:"network_type",value:""},{type:"string",key:"wechat_version",value:""},{type:"string",key:"platform",value:""},{type:"string",key:"system_version",value:""},{type:"string",key:"device_orientation",value:""},{type:"string",key:"wxapp_lib_version",value:""},{type:"string",key:"device_type",value:""},{type:"uint32",key:"ad_height",value:"0"},{type:"uint32",key:"ad_width",value:"0"},{type:"uint32",key:"screen_height",value:"0"},{type:"uint32",key:"screen_width",value:"0"},{type:"uint32",key:"ad_pos_x",value:"0"},{type:"uint32",key:"ad_pos_y",value:"0"},{type:"uint32",key:"exp_time",value:"0"},{type:"uint32",key:"clk_complaint_button",value:"0"},{type:"uint64",key:"slotid",value:"0"},{type:"uint32",key:"service_type",value:"0"},{type:"uint32",key:"first_grade_id",value:"0"},{type:"string",key:"first_grade_desc",value:""},{type:"uint64",key:"first_grade_time",value:"0"},{type:"uint32",key:"second_grade_id",value:"0"},{type:"string",key:"second_grade_desc",value:""},{type:"uint64",key:"second_grade_time",value:"0"},{type:"uint32",key:"is_finish_complaint",value:"0"},{type:"uint32",key:"is_click_ad",value:"0"},{type:"uint64",key:"click_ad_time",value:"0"},{type:"uint64",key:"click_ad_time_ms",value:"0"},{type:"string",key:"orig_weapp_id",value:""},{type:"uint32",key:"feedback_reason",value:"0"}],16487:[{type:"string",key:"ClientIPV6",value:""},{type:"uint64",key:"aid",value:"0"},{type:"string",key:"traceid",value:""},{type:"string",key:"publisher_appid",value:""},{type:"string",key:"network_type",value:""},{type:"string",key:"wechat_version",value:""},{type:"string",key:"platform",value:""},{type:"string",key:"system_version",value:""},{type:"string",key:"device_orientation",value:""},{type:"string",key:"wxapp_lib_version",value:""},{type:"uint64",key:"slotid",value:"0"},{type:"uint32",key:"costtype",value:"0"},{type:"uint64",key:"click_time",value:"0"},{type:"uint32",key:"click_cnt",value:"0"},{type:"uint32",key:"start_pos_x",value:"0"},{type:"uint32",key:"start_pos_y",value:"0"},{type:"uint32",key:"end_pos_x",value:"0"},{type:"uint32",key:"end_pos_y",value:"0"},{type:"uint32",key:"ad_width",value:"0"},{type:"uint32",key:"ad_height",value:"0"},{type:"uint32",key:"press_interval",value:"0"},{type:"uint32",key:"block_click",value:"0"},{type:"uint64",key:"start_posx",value:"0"},{type:"uint64",key:"start_posy",value:"0"},{type:"uint64",key:"end_posx",value:"0"},{type:"uint64",key:"end_posy",value:"0"},{type:"string",key:"orig_weapp_id",value:""}],16e3:[{type:"uint32",key:"click_button",value:"0"},{type:"uint64",key:"aid",value:"0"},{type:"string",key:"traceid",value:""},{type:"string",key:"publisher_appid",value:""},{type:"uint64",key:"play_duration",value:"0"},{type:"uint64",key:"click_close_ts",value:"0"},{type:"string",key:"network_type",value:""},{type:"string",key:"wechat_version",value:""},{type:"string",key:"platform",value:""},{type:"string",key:"system_version",value:""},{type:"string",key:"device_orientation",value:""},{type:"string",key:"wxapp_lib_version",value:""},{type:"uint32",key:"preload_video",value:"0"},{type:"uint32",key:"preload_video_success",value:"0"},{type:"uint64",key:"video_first_play_ts",value:"0"},{type:"uint64",key:"card_first_show_ts",value:"0"},{type:"uint64",key:"click_card_ts",value:"0"},{type:"uint32",key:"press_interval",value:"0"},{type:"string",key:"current_play_url",value:""},{type:"string",key:"last_fetch_url",value:""},{type:"string",key:"ClientIPV6",value:""},{type:"string",key:"wxapp_lib_time",value:""},{type:"string",key:"orig_weapp_id",value:""},{type:"uint64",key:"video_duration",value:"0"},{type:"uint32",key:"is_ended",value:"0"}],15730:[{type:"uint64",key:"load_begin_time",value:"0"},{type:"uint64",key:"load_end_time",value:"0"},{type:"uint64",key:"load_cost_time",value:"0"},{type:"uint64",key:"aid",value:"0"},{type:"string",key:"traceid",value:""},{type:"string",key:"publisher_appid",value:""},{type:"string",key:"network_type",value:""},{type:"string",key:"wechat_version",value:""},{type:"string",key:"platform",value:""},{type:"string",key:"system_version",value:""},{type:"string",key:"device_orientation",value:""},{type:"uint32",key:"report_type",value:"0"},{type:"string",key:"wxapp_lib_version",value:""},{type:"uint64",key:"load_departure_time",value:"0"},{type:"uint32",key:"preload_video",value:"0"},{type:"uint32",key:"preload_video_success",value:"0"},{type:"string",key:"orig_weapp_id",value:""}],15979:[{type:"uint64",key:"aid",value:"0"},{type:"string",key:"traceid",value:""},{type:"string",key:"publisher_appid",value:""},{type:"string",key:"network_type",value:""},{type:"string",key:"wechat_version",value:""},{type:"string",key:"platform",value:""},{type:"string",key:"system_version",value:""},{type:"string",key:"device_orientation",value:""},{type:"string",key:"wxapp_lib_version",value:""},{type:"uint64",key:"slotid",value:"0"},{type:"uint32",key:"costtype",value:"0"},{type:"uint32",key:"clkcnt",value:"0"},{type:"uint64",key:"currenttime",value:"0"},{type:"uint64",key:"lastclkperiod",value:"0"},{type:"uint32",key:"retcode",value:"0"},{type:"uint32",key:"costtime",value:"0"},{type:"uint32",key:"pagestaytime",value:"0"},{type:"string",key:"jsapiname",value:""},{type:"string",key:"orig_weapp_id",value:""}],15980:[{type:"uint64",key:"aid",value:"0"},{type:"string",key:"traceid",value:""},{type:"string",key:"publisher_appid",value:""},{type:"string",key:"network_type",value:""},{type:"string",key:"wechat_version",value:""},{type:"string",key:"platform",value:""},{type:"string",key:"system_version",value:""},{type:"string",key:"device_orientation",value:""},{type:"string",key:"wxapp_lib_version",value:""},{type:"uint64",key:"slotid",value:"0"},{type:"uint32",key:"costtype",value:"0"},{type:"uint64",key:"currenttime",value:"0"},{type:"uint64",key:"opentime",value:"0"},{type:"uint64",key:"closetime",value:"0"},{type:"uint64",key:"staytime",value:"0"},{type:"string",key:"jsapiname",value:""},{type:"uint32",key:"clkcnt",value:"0"},{type:"uint32",key:"retcode",value:"0"},{type:"uint32",key:"costtime",value:"0"},{type:"string",key:"act_type",value:""},{type:"string",key:"act_type_str",value:""},{type:"uint32",key:"act_type_int",value:"0"},{type:"string",key:"orig_weapp_id",value:""}],16295:[{type:"string",key:"ClientIPV6",value:""},{type:"string",key:"id_key",value:""},{type:"uint64",key:"report_time",value:"0"},{type:"uint32",key:"ad_pos_type",value:"0"},{type:"uint32",key:"ad_platform",value:"0"},{type:"string",key:"source_url",value:""},{type:"uint64",key:"aid",value:"0"},{type:"string",key:"traceid",value:""},{type:"string",key:"publisher_appid",value:""},{type:"string",key:"network_type",value:""},{type:"string",key:"wechat_version",value:""},{type:"string",key:"platform",value:""},{type:"string",key:"system_version",value:""},{type:"string",key:"device_orientation",value:""},{type:"string",key:"wxapp_lib_version",value:""},{type:"string",key:"expand_feild",value:""},{type:"string",key:"expand_feild2",value:""},{type:"string",key:"orig_weapp_id",value:""},{type:"uint32",key:"id_key_group",value:"924"},{type:"string",key:"ad_unit_id",value:""},{type:"string",key:"wxapp_lib_time",value:""},{type:"uint32",key:"scene",value:"0"},{type:"string",key:"machine_brand",value:""},{type:"string",key:"machine_type",value:""},{type:"uint64",key:"slotid",value:"0"},{type:"string",key:"crt_size",value:""},{type:"uint32",key:"screen_width",value:"0"},{type:"uint32",key:"screen_height",value:"0"}],17035:[{type:"string",key:"ClientIPV6",value:""},{type:"uint32",key:"click_button",value:"0"},{type:"uint64",key:"aid",value:"0"},{type:"string",key:"traceid",value:""},{type:"string",key:"publisher_appid",value:""},{type:"string",key:"network_type",value:""},{type:"string",key:"wechat_version",value:""},{type:"string",key:"platform",value:""},{type:"string",key:"system_version",value:""},{type:"string",key:"device_orientation",value:""},{type:"string",key:"wxapp_lib_version",value:""},{type:"uint32",key:"touch_start_x",value:"0"},{type:"uint32",key:"touch_start_y",value:"0"},{type:"uint32",key:"touch_end_x",value:"0"},{type:"uint32",key:"touch_end_y",value:"0"},{type:"uint64",key:"touch_duration",value:"0"},{type:"uint32",key:"screenheight",value:"0"},{type:"uint32",key:"screenwidth",value:"0"},{type:"string",key:"orig_weapp_id",value:""}],18072:[{type:"string",key:"ClientIPV6",value:""},{type:"uint64",key:"aid",value:"0"},{type:"string",key:"traceid",value:""},{type:"string",key:"publisher_appid",value:""},{type:"string",key:"network_type",value:""},{type:"string",key:"wechat_version",value:""},{type:"string",key:"platform",value:""},{type:"string",key:"system_version",value:""},{type:"string",key:"device_orientation",value:""},{type:"string",key:"wxapp_lib_version",value:""},{type:"uint32",key:"screenheight",value:"0"},{type:"uint32",key:"screenwidth",value:"0"},{type:"string",key:"orig_weapp_id",value:""},{type:"string",key:"last_clicks",value:""},{type:"uint32",key:"banner_x",value:"0"},{type:"uint32",key:"banner_y",value:"0"},{type:"uint32",key:"banner_width",value:"0"},{type:"uint32",key:"banner_height",value:"0"},{type:"uint32",key:"exp_ms",value:"0"},{type:"uint32",key:"clk_ms",value:"0"},{type:"uint32",key:"banner_clk_screen_x",value:"0"},{type:"uint32",key:"banner_clk_screen_y",value:"0"},{type:"string",key:"machine_type",value:""},{type:"uint32",key:"last_show_time",value:"0"},{type:"uint64",key:"slotid",value:"0"}],18517:[{type:"string",key:"ClientIPV6",value:""},{type:"uint32",key:"action",value:"0"},{type:"string",key:"traceid",value:""},{type:"uint64",key:"aid",value:"0"},{type:"string",key:"publisher_appid",value:""},{type:"uint32",key:"row_number",value:"0"},{type:"uint32",key:"column_number",value:"0"},{type:"uint32",key:"box_index",value:"0"},{type:"uint64",key:"action_timems",value:"0"},{type:"uint32",key:"clk_x",value:"0"},{type:"uint32",key:"clk_y",value:"0"},{type:"uint32",key:"press_interval",value:"0"},{type:"string",key:"network_type",value:""},{type:"string",key:"wechat_version",value:""},{type:"string",key:"platform",value:""},{type:"string",key:"system_version",value:""},{type:"string",key:"device_orientation",value:""},{type:"string",key:"wxapp_lib_version",value:""},{type:"uint32",key:"screenheight",value:"0"},{type:"uint32",key:"screenwidth",value:"0"},{type:"string",key:"orig_weapp_id",value:""},{type:"string",key:"machine_type",value:""}],19429:[{type:"string",key:"ClientIPV6",value:""},{type:"uint64",key:"aid",value:"0"},{type:"string",key:"traceid",value:""},{type:"string",key:"publisher_appid",value:""},{type:"string",key:"network_type",value:""},{type:"string",key:"wechat_version",value:""},{type:"string",key:"platform",value:""},{type:"string",key:"system_version",value:""},{type:"string",key:"device_orientation",value:""},{type:"string",key:"wxapp_lib_version",value:""},{type:"uint64",key:"slotid",value:"0"},{type:"uint32",key:"costtype",value:"0"},{type:"uint32",key:"is_game",value:"0"},{type:"uint64",key:"start_time",value:"0"},{type:"uint64",key:"show_time",value:"0"},{type:"uint64",key:"end_time",value:"0"},{type:"uint64",key:"show_delay_duration",value:"0"},{type:"uint64",key:"fetch_duration",value:"0"}],19213:[{type:"string",key:"DeviceModel",value:""},{type:"string",key:"DeviceBrand",value:""},{type:"string",key:"OsName",value:""},{type:"string",key:"OsVersion",value:""},{type:"string",key:"LanguageVersion",value:""},{type:"uint32",key:"StartTime",value:"0"},{type:"uint32",key:"EndTime",value:"0"},{type:"uint32",key:"Count",value:"0"},{type:"string",key:"ClientIPV6",value:""},{type:"uint32",key:"eventTimeStamp",value:"0"},{type:"uint32",key:"scene",value:"0"},{type:"string",key:"uxinfo",value:""},{type:"string",key:"appid",value:""},{type:"string",key:"mid",value:""},{type:"string",key:"idx",value:""},{type:"string",key:"url",value:""}],19214:[{type:"string",key:"DeviceModel",value:""},{type:"string",key:"DeviceBrand",value:""},{type:"string",key:"OsName",value:""},{type:"string",key:"OsVersion",value:""},{type:"string",key:"LanguageVersion",value:""},{type:"uint32",key:"StartTime",value:"0"},{type:"uint32",key:"EndTime",value:"0"},{type:"uint32",key:"Count",value:"0"},{type:"string",key:"ClientIPV6",value:""},{type:"uint32",key:"eventTimeStamp",value:"0"},{type:"uint32",key:"shareType",value:"0"},{type:"uint32",key:"tousername",value:"0"},{type:"string",key:"uxinfo",value:""},{type:"string",key:"appid",value:""},{type:"string",key:"mid",value:""},{type:"string",key:"idx",value:""},{type:"string",key:"url",value:""}],19837:[{type:"string",key:"ClientIPV6",value:""},{type:"uint64",key:"aid",value:"0"},{type:"string",key:"traceid",value:""},{type:"string",key:"publisher_appid",value:""},{type:"string",key:"network_type",value:""},{type:"string",key:"wechat_version",value:""},{type:"string",key:"platform",value:""},{type:"string",key:"system_version",value:""},{type:"string",key:"device_orientation",value:""},{type:"string",key:"wxapp_lib_version",value:""},{type:"string",key:"slotid",value:""},{type:"uint32",key:"costtype",value:"0"},{type:"string",key:"ext_info",value:""},{type:"uint64",key:"p1",value:"0"},{type:"uint64",key:"p2",value:"0"},{type:"uint64",key:"p3",value:"0"},{type:"uint64",key:"p4",value:"0"},{type:"uint64",key:"p5",value:"0"},{type:"uint64",key:"p6",value:"0"},{type:"uint64",key:"p7",value:"0"},{type:"uint64",key:"p8",value:"0"},{type:"uint64",key:"p9",value:"0"},{type:"uint64",key:"p10",value:"0"},{type:"uint64",key:"p11",value:"0"},{type:"uint64",key:"p12",value:"0"},{type:"uint64",key:"p13",value:"0"},{type:"uint64",key:"p14",value:"0"},{type:"uint64",key:"p15",value:"0"},{type:"uint64",key:"p16",value:"0"},{type:"string",key:"instance_id",value:""},{type:"uint32",key:"scene",value:"0"},{type:"uint32",key:"error_code",value:"0"},{type:"uint64",key:"p17",value:"0"},{type:"uint64",key:"p18",value:"0"},{type:"uint64",key:"p19",value:"0"},{type:"string",key:"crt_size",value:""},{type:"uint64",key:"p20",value:"0"},{type:"uint64",key:"p21",value:"0"},{type:"string",key:"machine_brand",value:""},{type:"string",key:"machine_type",value:""},{type:"uint32",key:"screen_width",value:"0"},{type:"uint32",key:"screen_height",value:"0"}],20480:[{type:"string",key:"ClientIPV6",value:""},{type:"uint64",key:"aid",value:"0"},{type:"string",key:"traceid",value:""},{type:"string",key:"publisher_appid",value:""},{type:"string",key:"network_type",value:""},{type:"string",key:"wechat_version",value:""},{type:"string",key:"platform",value:""},{type:"string",key:"system_version",value:""},{type:"string",key:"device_orientation",value:""},{type:"string",key:"wxapp_lib_version",value:""},{type:"uint64",key:"slotid",value:"0"},{type:"uint32",key:"costtype",value:"0"},{type:"uint64",key:"currenttime",value:"0"},{type:"string",key:"click_pos",value:""}],20317:[{type:"string",key:"ClientIPV6",value:""},{type:"uint64",key:"aid",value:"0"},{type:"string",key:"traceid",value:""},{type:"string",key:"publisher_appid",value:""},{type:"string",key:"network_type",value:""},{type:"string",key:"wechat_version",value:""},{type:"string",key:"platform",value:""},{type:"string",key:"system_version",value:""},{type:"string",key:"device_orientation",value:""},{type:"string",key:"wxapp_lib_version",value:""},{type:"string",key:"branch_id",value:""},{type:"string",key:"branch_dim",value:""}],21644:[{type:"string",key:"ClientIPV6",value:""},{type:"uint64",key:"report_time",value:"0"},{type:"uint32",key:"ad_pos_type",value:"0"},{type:"uint32",key:"ad_platform",value:"0"},{type:"uint64",key:"aid",value:"0"},{type:"string",key:"traceid",value:""},{type:"string",key:"publisher_appid",value:""},{type:"string",key:"network_type",value:""},{type:"string",key:"wechat_version",value:""},{type:"string",key:"platform",value:""},{type:"string",key:"system_version",value:""},{type:"string",key:"device_orientation",value:""},{type:"uint32",key:"crt_size",value:""},{type:"string",key:"wxapp_lib_version",value:""},{type:"string",key:"wxapp_lib_time",value:""},{type:"uint64",key:"slotid",value:"0"},{type:"string",key:"ad_unit_id",value:""},{type:"uint32",key:"use_gauss_video",value:"0"},{type:"string",key:"video_url",value:""},{type:"string",key:"gauss_video_url",value:""},{type:"uint32",key:"use_expand_style",value:"0"},{type:"uint32",key:"exp_use_gauss_video",value:"0"},{type:"uint32",key:"exp_use_expand_style",value:"0"}],23415:[{type:"string",key:"ClientIPV6",value:""},{type:"uint64",key:"aid",value:"0"},{type:"string",key:"traceid",value:""},{type:"string",key:"publisher_appid",value:""},{type:"string",key:"network_type",value:""},{type:"string",key:"wechat_version",value:""},{type:"string",key:"platform",value:""},{type:"string",key:"system_version",value:""},{type:"string",key:"device_orientation",value:""},{type:"string",key:"wxapp_lib_version",value:""},{type:"uint64",key:"slotid",value:"0"},{type:"uint32",key:"costtype",value:"0"},{type:"uint32",key:"is_game",value:"0"},{type:"string",key:"adunitid",value:""},{type:"uint32",key:"button_type",value:"0"},{type:"uint64",key:"button_time",value:"0"},{type:"uint32",key:"screen_width",value:"0"},{type:"uint32",key:"screen_height",value:"0"},{type:"uint64",key:"ad_clk_time",value:"0"},{type:"uint64",key:"ad_exp_time",value:"0"},{type:"uint32",key:"ad_clk_x",value:"0"},{type:"uint32",key:"ad_clk_y",value:"0"},{type:"uint32",key:"ad_width",value:"0"},{type:"uint32",key:"ad_height",value:"0"}]},r=e=>{const t=n[e.toString()];return t?t.concat([]):[]}},7868:(e,t,i)=>{"use strict";i.d(t,{r:()=>b,J:()=>w});var n=i(2605),r=i(1095),a=i(7646),o=i(2241),s=i(3170),l=i(2582),c=i(4643),d=i(665);const u=(0,o.Fr)((0,a.Ce)(!1,"advert_report"));let p="";const h=l.iw;let f="",y="",_="",g="",m="",v="",E=!0;let I="";d.Z.onReady((()=>{p=(0,c._t)()||"";const e=(0,s.Oo)();f=e.system,y=e.version,_=e.SDKVersion,m=e.model,v=e.brand,E=(0,r.aI)();try{I=d.Z.accountInfo.appId,g=__libVersionInfo__.updateTime}catch(e){}}));const w=(e,t)=>{let i=(0,n.x)(e);if(i&&0!==i.length)return t=Object.assign({publisher_appid:I,appid:I,orig_weapp_id:"",network_type:"",wechat_version:y,platform:h,system_version:f,device_orientation:p,wxapp_lib_version:_,wxapp_lib_time:g,machine_type:m,ad_platform:E?1:0},t),t=Object.assign({DeviceModel:m,DeviceBrand:v,OsName:h,OsVersion:f},t),i=i.map((e=>({type:e.type,value:(t[e.key]||e.value).toString()}))),u({apiName:"advert_report",reqData:{report_action:"comm_mmdata_report",report_data_json:JSON.stringify({logid:e,items:i})}}).catch((e=>{}))},b=(e,t,i)=>{(({key:e,id:t})=>{"object"==typeof e&&(!t&&(t=e.idKeyGroup),e=e.idKey),0===e&&(e="0"),Reporter.reportIDKeyDirectly({id:t||924,key:e,force:!0})})({key:e}),(({key:e,id:t,extInfo:i,reportData:n})=>{if("object"==typeof e&&(!t&&(t=e.idKeyGroup),e=e.idKey),0===e&&(e="0"),n=n||{},i&&"string"!=typeof i)try{i=JSON.stringify(i)}catch(e){i=i.toString()}w(16295,{id_key:e,id_key_group:t||924,report_time:+new Date,ad_pos_type:n.ad_pos_type||0,source_url:n.source_url||"",expand_feild:n.reportAdData||"",expand_feild2:i,aid:n.aid||0,traceid:n.traceid||"",ad_unit_id:n.ad_unit_id})})({key:e,extInfo:t,reportData:i})}},8579:(e,t,i)=>{"use strict";i.d(t,{IN:()=>o,ET:()=>l,$g:()=>d});const n=(e,t)=>({idKey:e,idKeyGroup:t});let r;!function(e){e[e.COMMON=924]="COMMON",e[e.SPLASHAD=1288]="SPLASHAD",e[e.CUSTOMAD=1390]="CUSTOMAD"}(r||(r={}));const a=e=>n(e,r.COMMON),o={AD_BANNER_LOAD_ERROR:a(5),AD_VIDEO_LOAD_ERROR:a(10),REWARDED_VIDEO_PARSE_ERROR:a(11),REWARDED_VIDEO_RENDER_ERROR:a(12),REWARDED_VIDEO_LOAD_ERROR:a(13),REWARDED_VIDEO_FOLLOW_SUCCESS:a(14),OPEN_URL_ERROR:a(21),OPEN_WXAPP_ERROR:a(22),OPEN_CANVAS_ERROR:a(23),ADD_CONTACT_ERROR:a(24),LAUNCH_APP_ERROR:a(25),OPEN_WEBAPPSTORE_ERROR:a(26),ADD_DOWNLOAD_TASK_ERROR:a(28),CLICK_REPORT_ERROR:a(32),EXPOSURE_REPORT_ERROR:a(33),FOLLOW_REPORT_ERROR:a(34),REWARDED_VIDEO_ANIMATE_ERROR:a(35),AD_FOLLOWED:a(37),AD_INSTALLED:a(38),AD_INTERSTITIAL_LOAD_ERROR:a(39),REWARDED_VIDEO_INSTANCE_BROKEN:a(50),PRELOAD_MINIENV_SUCCESS:a(86),PRELOAD_MINIENV_ERROR:a(87),AD_GRID_LOAD_SUCCESS:a(88),AD_GRID_LOAD_COUNT_ERROR:a(89),AD_GRID_LOAD_ERROR:a(90),PREDOWNLOAD_SUCCESS:a(96),PREDOWNLOAD_ERROR:a(97),REWARDED_VIDEO_OTHER_SHOW_ERROR:a(105),BATCHLOAD_SUCCESS:a(112),BATCHLOAD_ERROR:a(113),REWARDED_VIDEO_BUTTON_WIDTH_ERROR:a(114),REWARDED_VIDEO_FULLSCREEN_SHOW_ERROR:a(115),BIND_GUIDE_SUCCESS:a(119),BIND_GUIDE_ERROR:a(120),REWARDED_VIDEO_FULLSCREEN_HIDE_ERROR:a(121),RIGHTBUTTON_HIDE_ERROR:a(127),REWARDED_VIDEO_RELATION_FETCH_ERROR:a(128),GET_DEVICEINFO_ERROR:a(129),THIRD_ERROR:a(130),GET_DEVICEINFO_SUCCESS:a(131),GET_WAID_SUCCESS:a(132),GET_WAID_ERROR:a(133),READ_ADINFOS_ERROR:a(134),AD_FETCH_SUCCESS:a(135),REWARDED_VIDEO_PRELOAD_ERROR:a(136),REWARDED_VIDEO_PRELOAD_SUCCESS:a(137),READ_ADINFOS_SUCCESS:a(138),ANALYSE_DEBUG_REPORT_ERROR:a(139),PRELOAD_CALL_ERROR:a(140),PRELOAD_LOAD_ERROR:a(141),PRELOAD_LOAD_SUCCESS:a(142),PRELOAD_USE_SUCCESS:a(143),PRELOAD_USE_ERROR:a(144),PRELOAD_DOWNLOAD_SUCCESS:a(145),PRELOAD_DOWNLOAD_ERROR:a(146),REPORT_VIDEO_FAILED:a(147),REWARD_GAUSS_EXISTS:a(148),REWARD_USE_GAUSS:a(149),REWARD_USE_EXPAND_STYLE:a(150),REWARD_USE_GAUSS_AND_EXPAND_STYLE:a(151),REWARDED_VIDEO_KEEP_ALIVE:a(152),REWARDED_VIDEO_END:a(154),OPEN_CHANNELS_ACTIVITY_SUCCESS:a(156),OPEN_CHANNELS_ACTIVITY_FAILED:a(157),OPEN_CHANNELS_LIVE_SUCCESS:a(158),OPEN_CHANNELS_LIVE_FAILED:a(159),OPEN_CHANNELS_USER_PROFILE_SUCCESS:a(160),OPEN_CHANNELS_USER_PROFILE_FAILED:a(161),REWARD_CHANNELS_CALLBACK_SUCCESS:a(162),REWARD_CHANNELS_CALLBACK_FAILED:a(163),H5_PRELOAD_CARD_CLICKED:a(164),H5_PRELOAD_BUTTON_CLICKED:a(165),H5_PRELOAD_SUCCESS:a(166),H5_PRELOAD_FAILED:a(167),H5_PRELOAD_PLAYABLE_CLICKED:a(168),GET_CHANNELS_LIVE_STATUS_SUCCESS:a(169),GET_CHANNELS_LIVE_STATUS_FAILED:a(170),REWARDED_VIDEO_DURATION_ZERO:a(171),OPEN_WEBSTORE_ERROR:a(181)},s=e=>n(e,r.SPLASHAD),l={dataLoadSuccess:s(0),dataLoadFail:s(1),dataPreloadSuccess:s(2),dataPreloadFail:s(3),handleDataFail:s(4),launchAcceptShouldShow:s(5),menuAcceptShouldShow:s(6),readFileFail:s(7),launchShowSplashAdSuccess:s(8),menuShowSplashAdSuccess:s(9),showSplashAdFail:s(10),firstRenderFail:s(11),firstInsertFail:s(12),secondRenderFail:s(13),secondInsertFail:s(14),iosThirdInsertFail:s(15),checkAdStateFail:s(16),adOfflineClose:s(17),readFileDataFail:s(18),firstShowSuccess:s(19),showSplashAdMenuSuccess:s(20),showSplashAdMenuFail:s(21),secondShowSuccess:s(22),removeFileDataFail:s(23),landingPageFail:s(24),frequencyControlFail:s(25),frequencyControlReturn:s(26),bulkCopyFileFail:s(27),getAdInfosFail:s(28),getAidFail:s(29),setExposureTagFail:s(30),NO_ADINFOS:s(31),NO_AID:s(32),MATERIAL_NOT_READY:s(33),CHECK_AD_STATUS_ERROR:s(34),CRT_ORIENTATION_NOT_SURE:s(35),EXPOSURE_TIMES_LIMIT:s(36),START_CHECK_AD_STATUS:s(37),CHECK_AD_STATUS_SUCCESS:s(38),OTHER_ADS_EMIT_FETCH:s(39),WRITE_ADINFOS_SUCCESS:s(40),WRITE_ADINFOS_FAIL:s(41)},c=e=>n(e,r.CUSTOMAD),d={LOAD_FAILED:c(1),PRELOAD_SUCCESS:c(2),PRELOAD_FAILED:c(3),PARSE_FAILED:c(4),TPL_RENDER_SUCCESS:c(5),TPL_PARSE_FAILED:c(6),TPL_LOAD_FAILED:c(7),AD_LIMIT_TIME:c(8),AD_LIMIT_BOUNDARY:c(9),RELATION_FETCH_ERROR:c(10),SHOW_FAILED1:c(11),SHOW_FAILED2:c(12),AD_VIDEO_LOAD_FAILED:c(13),FOLLOW_SUCCESS:c(14),FOLLOW_FAILED:c(15),RENDER_SUCCESS:c(16),RENDER_FAILED:c(17),REFETCH_SUCCESS:c(18),REFETCH_FAILED:c(19),LOAD_SUCCESS:c(20),WIDTH_GET_ERROR:c(21)}},8476:(e,t,i)=>{"use strict";i.d(t,{S3:()=>h,S0:()=>f,v3:()=>y,uj:()=>_,lv:()=>m,SQ:()=>E,NN:()=>I});var n=i(2582),r=i(3170),a=i(1093),o=i(7868),s=i(1095),l=i(3489),c=i(9185),d=i(665),u=i(4643),p=i(7046);const h={startTime:new Date,gameAppId:"",deviceOrientation:"",screenWidth:0,screenHeight:0,systemVersion:"",wechatVersion:"",SDKVersion:"",SDKVersionTime:"",envVersion:"",brand:"",model:"",platform:n.iw,isWaGame:!0,isApp:!1,isIOS:n.cj,isAndroid:n.wZ,isIPad:null,oaid:"",imei:"",idfa:"",common_device_id:"{}",adNetworkType:""},f={enterForegroundTime:new Date,gameDuration:0,currentScene:1011,weappPath:"index.html",lastWebviewId:0,currentWebviewId:0,currentOpenType:""},y=()=>(0,u.ei)(h,["oaid","imei","idfa","common_device_id"]),_=()=>{if(!h.isWaGame){const e=(0,r.xI)();h.screenWidth=e.screenWidth,h.screenHeight=e.screenHeight,h.deviceOrientation=h.screenWidth>h.screenHeight?"landscape":"portrait"}return h.deviceOrientation};let g=()=>{};const m=()=>g(),v=()=>new Promise((e=>{g=e})),E=new Promise((e=>{d.Z.onReady((()=>{var t;h.startTime=new Date,h.deviceOrientation=(0,u._t)()||"",h.envVersion=d.Z.envVersion;const i=(0,r.Oo)(),l=(0,r.Ew)();h.screenWidth=l.screenWidth||0,h.screenHeight=l.screenHeight||0,h.systemVersion=i.system,h.wechatVersion=i.version,h.SDKVersion=i.SDKVersion,h.brand=i.brand,h.model=i.model,h.isIPad=null===(t=i.model)||void 0===t?void 0:t.includes("iPad"),h.isWaGame=(0,s.aI)(),h.isApp=(0,s.N0)();try{h.gameAppId=d.Z.accountInfo.appId,h.SDKVersionTime=__libVersionInfo__.updateTime}catch(e){}Promise.all([new Promise((e=>{(0,a.yx)((t=>{h.oaid=t,e()}))})),new Promise((e=>{(0,a.dz)().then((({imei:t,oaid:i,commonid:r})=>{n.cj?h.idfa=t:n.wZ&&(h.oaid=i,h.imei=t),h.common_device_id=r||"{}",e(),v().then((()=>{(0,o.r)(p.IN.GET_DEVICEINFO_SUCCESS)}))})).catch((t=>{e(),v().then((()=>{(0,o.r)(p.IN.GET_DEVICEINFO_ERROR,t)}))}))}))]).then((()=>e(h)))}))})),I=e=>{const t=Object.keys(e);for(const i of t)h[i]=e[i]};try{(0,c.H)((({webviewId:e,openType:t,path:i})=>{h.isWaGame||(f.lastWebviewId=f.currentWebviewId,f.currentWebviewId=e||0,f.currentOpenType=t,f.weappPath=i)}))}catch(e){}(0,l.dN)((({scene:e})=>{f.enterForegroundTime=new Date,f.currentScene=e})),(0,l.vv)((()=>{f.gameDuration+=Date.now()-f.enterForegroundTime.getTime()}))},7046:(e,t,i)=>{"use strict";i.d(t,{FF:()=>Mn,W:()=>ve,IN:()=>me.IN,fr:()=>Ce,EM:()=>Pe,kv:()=>Ee});var n=i(3356),r=i.n(n),a=i(1503),o=i.n(a);const s=BabelRuntimeHelpers.applyDecoratedDescriptor;var l=i.n(s),c=i(6725),d=i.n(c),u=i(665),p=i(1095),h=i(1093),f=i(8997),y=i(3324),_=i(2886);const g=(e,t=!1)=>{let i=t?"<?xml version='1.0' encoding='utf-8' ?>":"";return i+=`<${e.name}>`,e.children.length>0?i+=(e=>e.children&&e.children.length>0?e.children.map((e=>g(e))).join(""):"")(e):i+=`<![CDATA[${e.content.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;")}]]>`,i+=`</${e.name}>`,i};var m=i(8977),v=i(4684),E=i(2486),I=i(5328);const w=Symbol("signExport"),b=()=>(e,t)=>{e[w]=e[w]||new Set,e[w].add(t)},A=(e,t)=>{const i=Array.isArray(t)?t:[t];for(const t of i)if(!(t in e)||"function"!=typeof e[t])throw new Error(`${t} is not the function method of the class`);return i.map((t=>e[t]))},T=(e,t=!1)=>(i,n,a)=>{const o=a.value,s=A(i,e);a.value=t?function(){var e=r()((function*(...e){const t=yield o.call(this,...e);for(const e of s)yield e.call(this,t);return t}));return function(){return e.apply(this,arguments)}}():function(...e){const t=o.call(this,...e);if(t instanceof Promise)return t.then((e=>{for(const t of s)t.call(this,e);return e}));for(const e of s)e.call(this,t);return t}},S=(e,t=!1)=>(i,n,a)=>{const o=a.value,s=A(i,e);a.value=t?function(){var e=r()((function*(...e){try{return yield o.call(this,...e)}catch(e){for(const t of s)yield t.call(this,e);throw e}}));return function(){return e.apply(this,arguments)}}():function(...e){try{const t=o.call(this,...e);return t instanceof Promise&&t.catch((e=>{for(const t of s)t.call(this,e)})),t}catch(e){for(const t of s)t.call(this,e);throw e}}};var C=i(4643),P=i(2605),D=i(8476),O=i(5260);const k=e=>{const t=/(\d+)(?:\.(\d+))?(?:\.(\d+))?(?:\.(\d+))?/.exec(e);return t?t.slice(1).filter((e=>null!=e)).join("."):null},x=function(e){var t,i;const n=R(e),r="portrait"===D.S3.deviceOrientation,a=e.crt_size===ve.CRT_SIZE_REWARD_VEDIO916;if(D.S3.isAndroid){var o,s;const t=k((null==e||null===(o=e.condition)||void 0===o?void 0:o.widget_gray_rewrad_use_gauss_blur_android_system_version)||""),i=k((null==e||null===(s=e.condition)||void 0===s?void 0:s.widget_gray_rewrad_use_gauss_blur_android_wechat_version)||""),n=k(D.S3.systemVersion),r=k(D.S3.wechatVersion);if(t&&n&&(0,O.yC)(n,t)<0)return!1;if(i&&r&&(0,O.yC)(r,i)<0)return!1}return Boolean((null==e||null===(t=e.condition)||void 0===t?void 0:t.widget_gray_reward_use_gauss_blur)&&(null==e||null===(i=e.gaussVideo)||void 0===i?void 0:i.src)&&r!==a&&[ve.CRT_SIZE_REWARD_VEDIO169,ve.CRT_SIZE_REWARD_VEDIO916].includes(e.crt_size)&&(n||r))},R=function(e){const{flooringPage:t}=e,i="portrait"===D.S3.deviceOrientation,n=[ve.CRT_SIZE_REWARD_VEDIO916,ve.CRT_SIZE_VERTICAL_VIDEO_NEW_916].includes(e.crt_size);return Boolean(i!==n&&!D.S3.isIPad&&[ve.CRT_SIZE_REWARD_VEDIO169,ve.CRT_SIZE_REWARD_VEDIO916,ve.CRT_SIZE_VERTICAL_VIDEO_NEW_916].includes(e.crt_size)&&![2,3,4].includes(null==t?void 0:t.landpage_type))};var N,M,L,F,j,W,U,V,B,Z,G,H,$,Y,z,q,K,J,X,Q,ee,te,ie,ne,re,ae,oe,se,le,ce;let de=(N=b(),M=b(),L=b(),F=b(),j=b(),W=b(),U=b(),V=b(),B=b(),Z=b(),G=b(),H=b(),$=b(),Y=b(),z=b(),q=b(),K=b(),J=b(),X=b(),Q=b(),ee=b(),te=b(),ie=b(),ne=b(),re=b(),ae=b(),oe=b(),se=b(),le=b(),ce=class{constructor(e){this.adProxy=e,this.timePoints={},this.analyseBranchInfo=null}get adType(){return this.adProxy.getAdType()}get data(){return this.adProxy.data}get convertedAdData(){return this.adProxy.convertedAdData}get datas(){return this.adProxy.datas}get adUnitId(){return this.adProxy.getAdUnitId()}get pluginAppid(){return this.adProxy.getPluginAppid()}get lastClickTime(){return this.adProxy.getLastClickTime()}getTimePoint(e){return this.timePoints[e]?this.timePoints[e]:0}setTimePoint(e,t={}){if("splashAd"===this.adType)return void(this.timePoints[e]=Date.now());["p2","p12"].includes(e)&&(this.timePoints={p1:this.timePoints.p1||0});const{time:i}=t;this.timePoints[e]=i||Date.now()}reportTimePoints({slotid:e,costtype:t,splash_instance_id:i="",scene:n=0,errCode:r=0,extInfo:a={}}){var s;if(!["customAd","incentive-video","splashAd","interstitialAd"].includes(this.adType))return;this.reportMMData(19837,o()({slotid:e,costtype:t,ext_info:JSON.stringify(Object.assign({},a,{adUnitId:this.adUnitId,is_game:!0})),instance_id:i,scene:n,crt_size:(null===(s=this.data)||void 0===s?void 0:s.crt_size)||0,error_code:r},this.timePoints))}reportCloseAction(e){return this.reportMMData(16743,e)}reportAdEntranceExposure(e){return this.reportMMData(18988,e)}reportTouchClick(e){return this.reportMMData(16487,e)}reportCancelRewardPlayablePage(e){return this.reportMMData(20299,e)}formatMMData(e,t){var i;const n=(0,P.x)(e);if(!n||0===n.length)return null;let r=this.data||{aid:0,traceid:"",crt_size:0};if("grid"===this.adType&&-1!==[16139].indexOf(e))try{r=this.datas[this.datas.length-1]}catch(e){}return Object.assign(t,{aid:r.aid,traceid:r.traceid,crt_size:r.crt_size,slotid:I.DX[this.adType],report_time:Date.now(),ad_pos_type:null!==(i=I._W[this.adType])&&void 0!==i?i:0,publisher_appid:this.pluginAppid?this.pluginAppid:D.S3.gameAppId,appid:this.pluginAppid?this.pluginAppid:D.S3.gameAppId,orig_weapp_id:this.pluginAppid?D.S3.gameAppId:"",network_type:D.S3.adNetworkType,wechat_version:D.S3.wechatVersion,platform:D.S3.platform,system_version:D.S3.systemVersion,device_orientation:D.S3.deviceOrientation,wxapp_lib_version:D.S3.SDKVersion,wxapp_lib_time:D.S3.SDKVersionTime,machine_type:D.S3.model,machine_brand:D.S3.brand,screen_width:D.S3.screenWidth,screen_height:D.S3.screenHeight,ad_platform:D.S3.isWaGame?1:0,ad_unit_id:this.adUnitId}),n.map((e=>({type:e.type,value:(t[e.key]||e.value).toString()})))}reportMMData(e,t){const i=this.formatMMData(e,t);return(0,f.Lo)({apiName:"advert_report",reqData:{report_action:"comm_mmdata_report",report_data_json:JSON.stringify({logid:e,items:i})}})}reportAbnormalDetect(e){const t={adunit_id:this.adUnitId,appid:D.S3.gameAppId};if(Object.assign(e,t),"object"==typeof e)return this.reportMMData(16139,e)}reportAdIDKey({key:e,id:t}){var i;let n=t,r=e;"object"==typeof r&&(!n&&(n=r.idKeyGroup),r=r.idKey),n||(n=null!==(i=I.gQ[this.adType])&&void 0!==i?i:924),0===r&&(r="0"),Reporter.reportIDKeyDirectly({id:n,key:r})}processStackMsg(e){let t=(e.stack||"").replace(/\n/gi,"").split(/\bat\b/).slice(0,9).join("@").replace(/\?[^:]+/gi,"");const i=e.toString();return t.indexOf(i)<0&&(t=`${i}@${t}`),t}reportAdIDKeyErrorData({key:e,id:t,extInfo:i=""}){var n,r;let a=e,o=t,s=i;"object"==typeof a&&(!o&&(o=a.idKeyGroup),a=a.idKey),0===a&&(a="0");let l="",c="";try{if(this.data){const e={crt_size:this.data.crt_size,product_type:this.data.product_type,dest_type:this.data.dest_type,url:this.data.url};if([ve.CRT_SIZE_REWARD_VEDIO169,ve.CRT_SIZE_REWARD_VEDIO916,ve.CRT_SIZE_VERTICAL_VIDEO_NEW_916].includes(this.data.crt_size)){const t=this.convertedAdData;t&&(e.is_gauss_blur=x(t),e.is_expand_style=R(t),c=e.is_gauss_blur?t.gaussVideo.src:t.shortVideo.src)}else this.adProxy.isBannerAd()&&(c=this.data.image_url);l=JSON.stringify(e)}if(s&&"string"!=typeof s)try{s instanceof Error&&(s=this.processStackMsg(s)),s=JSON.stringify(s)}catch(e){s=s.toString()}}catch(e){var d;s=this.processStackMsg(e),c="",l=null===(d=this.data)||void 0===d?void 0:d.crt_size}return this.reportMMData(16295,{id_key:a,id_key_group:null!==(n=null!==(r=o)&&void 0!==r?r:I.gQ[this.adType])&&void 0!==n?n:924,report_time:+new Date,source_url:c,expand_feild:l,expand_feild2:s,scene:this.adProxy.scene||0})}reportAdMonitorData(e,t){this.reportAdIDKey({key:e}),this.reportAdIDKeyErrorData({key:e,extInfo:t})}reportEndPage({slotid:e,costtype:t,isGame:i=0,posType:n,ace_type:r,exposure_duration:a=0}){return this.reportMMData(19002,{slotid:e,costtype:t,is_game:i,pos_type:n,ace_type:r,exposure_duration:a})}reportAdFeedbackData(e){var t,i;const n={};if("grid"===this.adType){var r;const e={viewid:[],s_pt:[],s_aid:[],s_trace_id:[]};null===(r=this.datas)||void 0===r||r.forEach((t=>{t.extBackComm&&e.viewid.push(t.extBackComm.viewid),e.s_pt.push(t.pt),e.s_aid.push(t.aid),e.s_trace_id.push(t.traceid)})),n.grid_feedback_info=e}return this.reportMMData(17045,{appid:D.S3.gameAppId,weapp_path:D.S0.weappPath,ad_unit_id:this.adUnitId,device_type:D.S3.model||"",ad_height:e.adHeight,ad_width:e.adWidth,screen_height:D.S3.screenHeight,screen_width:D.S3.screenWidth,ad_pos_x:e.adPosX,ad_pos_y:e.adPosY,exp_time:e.expTime,clk_complaint_button:1,slotid:I.DX[this.adType],service_type:D.S3.isWaGame?1:0,first_grade_id:e.firstGradeId,first_grade_desc:e.firstGradeDesc,first_grade_time:e.firstGradeTime,second_grade_id:e.secondGradeId,second_grade_desc:e.secondGradeDesc,second_grade_time:e.secondGradeTime,is_finish_complaint:0,is_click_ad:null!==(t=e.isClickAd)&&void 0!==t?t:0!==this.lastClickTime?1:0,click_ad_time_ms:null!==(i=e.clickAdTimeMs)&&void 0!==i?i:this.lastClickTime,feedback_reason:e.feedbackReason,ext_feedback_comm:JSON.stringify(n)})}reportBehaviorButton({button:e,playDuration:t,preloadVideo:i,preloadVideoSuccess:n,videoFirstPlay:r,cardFirstShow:a,clickCard:o,pressInterval:s,currentPlayUrl:l,lastFetchUrl:c,isEnded:d,videoDuration:u}){return this.reportMMData(16e3,{click_button:e,play_duration:t,click_close_ts:+new Date,preload_video:i,preload_video_success:n,video_first_play_ts:r,card_first_show_ts:a,click_card_ts:o,press_interval:s,current_play_url:l,last_fetch_url:c,is_ended:d?1:0,video_duration:u})}reportVideoLoadTime({beginTime:e=0,endTime:t=0,departureTime:i=0,preloadVideo:n=0,preloadVideoSuccess:r=0,reportType:a=0}){const o=t-i-e;return o>0?this.reportMMData(15730,{load_begin_time:e,load_end_time:t,load_departure_time:i,load_cost_time:o,preload_video:n,preload_video_success:r,report_type:a}):Promise.resolve()}reportRepeatClick({slotId:e,costType:t,clkCnt:i,lastClkPeriod:n,retCode:r,costTime:a,pageStayTime:o,jsapiName:s}){return this.reportMMData(15979,{slotid:e,costtype:t,clkcnt:i,currenttime:+new Date,lastclkperiod:n,retcode:r,costtime:a,pagestaytime:o,jsapiname:s})}reportLandingTime({slotId:e,costType:t,openTime:i,closeTime:n,stayTime:r,jsapiName:a,clickTime:o,clkCnt:s,retCode:l,costTime:c,actTypeInt:d,actTypeStr:u}){return this.reportMMData(15980,{slotid:e,costtype:t,currenttime:o,opentime:i,closetime:n,staytime:r,jsapiname:a,clkcnt:s,retcode:l,costtime:c,act_type_int:d,act_type_str:u})}reportVideoLastClick({touchStartX:e,touchStartY:t,touchEndX:i,touchEndY:n,touchDuration:r,screenWidth:a,screenHeight:o}){return this.reportMMData(17035,{touch_start_x:e,touch_start_y:t,touch_end_x:i,touch_end_y:n,touch_duration:r,screenwidth:a,screenheight:o})}reportBannerLastClick({lastClickArr:e,top:t,left:i,width:n,height:r,expMs:a,clickMs:o,bannerClkScreenX:s,bannerClkScreenY:l,lastShowTime:c}){return this.reportMMData(18072,{last_clicks:e,banner_x:t,banner_y:i,banner_width:n,banner_height:r,exp_ms:a,clk_ms:o,banner_clk_screen_x:s,banner_clk_screen_y:l,last_show_time:c,slotid:I.DX[this.adType]})}reportRelationFetchDuration({startTime:e,showTime:t,endTime:i}){return this.reportMMData(19429,{start_time:e,show_time:t,end_time:i,show_delay_duration:0===t?0:i-t,fetch_duration:i-e})}reportMMClickPos({clickPos:e}){var t;return this.reportMMData(20480,{slotid:I.DX[this.adType],costtype:null!==(t=this.data)&&void 0!==t&&t.is_cpm?1:2,currenttime:Date.now(),click_pos:e})}reportADFunnelModel({adtype:e,stage:t}){const i=[e,t].map(encodeURIComponent).join(",");Reporter.reportKeyValue({key:"GameADFunnelModel",value:i,force:!0,immediately:!0})}recordAnalyseBranchInfo({branchId:e,branchDim:t}){this.analyseBranchInfo={branchId:e,branchDim:t}}resetAnalyseBranchInfo(){this.analyseBranchInfo=null}reportAnalyseInfo(e){const t=I.WG[this.adType]||"viewable";if(!D.S3.isWaGame||e!==t)return;const i=this.analyseBranchInfo;i&&("release"!==D.S3.envVersion&&this.adProxy.reportAnalyseDebugInfo(i),this.reportMMData(20317,{branch_id:i.branchId,branch_dim:i.branchDim}))}reportRewardGaussVideo({useGaussVideo:e,useExpandStyle:t,videoUrl:i,gaussVideoUrl:n,expUseGaussVideo:r,expUseExpandStyle:a}){this.reportMMData(21644,{use_gauss_video:e?1:0,video_url:i,gauss_video_url:n,use_expand_style:t?1:0,exp_use_gauss_video:r,exp_use_expand_style:a})}reportPopupClickAction({buttonType:e,buttonTime:t,adClkTime:i,adExpTime:n,adClkX:r,adClkY:a,adWidth:o,adHeight:s,isGame:l,costtype:c}){this.reportMMData(23415,{adunitid:this.adUnitId,button_type:e,button_time:t,ad_clk_time:i,ad_exp_time:n,ad_clk_x:r,ad_clk_y:a,ad_width:o,ad_height:s,is_game:l,costtype:c})}},l()(ce.prototype,"getTimePoint",[N],Object.getOwnPropertyDescriptor(ce.prototype,"getTimePoint"),ce.prototype),l()(ce.prototype,"setTimePoint",[M],Object.getOwnPropertyDescriptor(ce.prototype,"setTimePoint"),ce.prototype),l()(ce.prototype,"reportTimePoints",[L],Object.getOwnPropertyDescriptor(ce.prototype,"reportTimePoints"),ce.prototype),l()(ce.prototype,"reportCloseAction",[F],Object.getOwnPropertyDescriptor(ce.prototype,"reportCloseAction"),ce.prototype),l()(ce.prototype,"reportAdEntranceExposure",[j],Object.getOwnPropertyDescriptor(ce.prototype,"reportAdEntranceExposure"),ce.prototype),l()(ce.prototype,"reportTouchClick",[W],Object.getOwnPropertyDescriptor(ce.prototype,"reportTouchClick"),ce.prototype),l()(ce.prototype,"reportCancelRewardPlayablePage",[U],Object.getOwnPropertyDescriptor(ce.prototype,"reportCancelRewardPlayablePage"),ce.prototype),l()(ce.prototype,"reportMMData",[V],Object.getOwnPropertyDescriptor(ce.prototype,"reportMMData"),ce.prototype),l()(ce.prototype,"reportAbnormalDetect",[B],Object.getOwnPropertyDescriptor(ce.prototype,"reportAbnormalDetect"),ce.prototype),l()(ce.prototype,"reportAdIDKey",[Z],Object.getOwnPropertyDescriptor(ce.prototype,"reportAdIDKey"),ce.prototype),l()(ce.prototype,"processStackMsg",[G],Object.getOwnPropertyDescriptor(ce.prototype,"processStackMsg"),ce.prototype),l()(ce.prototype,"reportAdIDKeyErrorData",[H],Object.getOwnPropertyDescriptor(ce.prototype,"reportAdIDKeyErrorData"),ce.prototype),l()(ce.prototype,"reportAdMonitorData",[$],Object.getOwnPropertyDescriptor(ce.prototype,"reportAdMonitorData"),ce.prototype),l()(ce.prototype,"reportEndPage",[Y],Object.getOwnPropertyDescriptor(ce.prototype,"reportEndPage"),ce.prototype),l()(ce.prototype,"reportAdFeedbackData",[z],Object.getOwnPropertyDescriptor(ce.prototype,"reportAdFeedbackData"),ce.prototype),l()(ce.prototype,"reportBehaviorButton",[q],Object.getOwnPropertyDescriptor(ce.prototype,"reportBehaviorButton"),ce.prototype),l()(ce.prototype,"reportVideoLoadTime",[K],Object.getOwnPropertyDescriptor(ce.prototype,"reportVideoLoadTime"),ce.prototype),l()(ce.prototype,"reportRepeatClick",[J],Object.getOwnPropertyDescriptor(ce.prototype,"reportRepeatClick"),ce.prototype),l()(ce.prototype,"reportLandingTime",[X],Object.getOwnPropertyDescriptor(ce.prototype,"reportLandingTime"),ce.prototype),l()(ce.prototype,"reportVideoLastClick",[Q],Object.getOwnPropertyDescriptor(ce.prototype,"reportVideoLastClick"),ce.prototype),l()(ce.prototype,"reportBannerLastClick",[ee],Object.getOwnPropertyDescriptor(ce.prototype,"reportBannerLastClick"),ce.prototype),l()(ce.prototype,"reportRelationFetchDuration",[te],Object.getOwnPropertyDescriptor(ce.prototype,"reportRelationFetchDuration"),ce.prototype),l()(ce.prototype,"reportMMClickPos",[ie],Object.getOwnPropertyDescriptor(ce.prototype,"reportMMClickPos"),ce.prototype),l()(ce.prototype,"reportADFunnelModel",[ne],Object.getOwnPropertyDescriptor(ce.prototype,"reportADFunnelModel"),ce.prototype),l()(ce.prototype,"recordAnalyseBranchInfo",[re],Object.getOwnPropertyDescriptor(ce.prototype,"recordAnalyseBranchInfo"),ce.prototype),l()(ce.prototype,"resetAnalyseBranchInfo",[ae],Object.getOwnPropertyDescriptor(ce.prototype,"resetAnalyseBranchInfo"),ce.prototype),l()(ce.prototype,"reportAnalyseInfo",[oe],Object.getOwnPropertyDescriptor(ce.prototype,"reportAnalyseInfo"),ce.prototype),l()(ce.prototype,"reportRewardGaussVideo",[se],Object.getOwnPropertyDescriptor(ce.prototype,"reportRewardGaussVideo"),ce.prototype),l()(ce.prototype,"reportPopupClickAction",[le],Object.getOwnPropertyDescriptor(ce.prototype,"reportPopupClickAction"),ce.prototype),ce);var ue=i(1106);i(2942),i(2185);let pe,he,fe,ye,_e,ge;!function(e){e[e.SOURCE_UNKNOW=0]="SOURCE_UNKNOW",e[e.SOURCE_MP=1]="SOURCE_MP",e[e.SOURCE_OSS=2]="SOURCE_OSS",e[e.SOURCE_MP_OSS=3]="SOURCE_MP_OSS",e[e.SOURCE_OPEN_API=4]="SOURCE_OPEN_API",e[e.SOURCE_MARKETING_API=5]="SOURCE_MARKETING_API",e[e.SOURCE_WEPAY=6]="SOURCE_WEPAY",e[e.SOURCE_PRODUCT_API=7]="SOURCE_PRODUCT_API",e[e.SOURCE_WEAPP=8]="SOURCE_WEAPP",e[e.SOURCE_LOCAL_BUSINESS=9]="SOURCE_LOCAL_BUSINESS"}(pe||(pe={})),function(e){e[e.NORMAL_AD=0]="NORMAL_AD",e[e.LOCAL_BUSINESS_AD=1]="LOCAL_BUSINESS_AD"}(he||(he={})),function(e){e[e.POS_TYPE_APPMSG_BOTTOM=0]="POS_TYPE_APPMSG_BOTTOM",e[e.POS_TYPE_APPMSG_TOP=1]="POS_TYPE_APPMSG_TOP",e[e.POS_TYPE_NEWS=2]="POS_TYPE_NEWS",e[e.POS_TYPE_APPMSG_VIDEO=3]="POS_TYPE_APPMSG_VIDEO",e[e.POS_TYPE_FREE_TRADE=4]="POS_TYPE_FREE_TRADE",e[e.POS_TYPE_APPMSG_MIDDLE=5]="POS_TYPE_APPMSG_MIDDLE",e[e.POS_TYPE_MAIL=6]="POS_TYPE_MAIL",e[e.POS_TYPE_WX_APPLICATION=7]="POS_TYPE_WX_APPLICATION",e[e.POS_TYPE_WX_GAME_VIDEO=8]="POS_TYPE_WX_GAME_VIDEO",e[e.POS_TYPE_MP_PRODUCT=9]="POS_TYPE_MP_PRODUCT",e[e.POS_TYPE_WEAPP_INTERSTITIAL=10]="POS_TYPE_WEAPP_INTERSTITIAL",e[e.POS_TYPE_BOX=11]="POS_TYPE_BOX",e[e.POS_TYPE_WEAPP_COVER=12]="POS_TYPE_WEAPP_COVER",e[e.POS_TYPE_WEAPP_TEMPLATE=13]="POS_TYPE_WEAPP_TEMPLATE",e[e.POS_TYPE_WX_PAY=14]="POS_TYPE_WX_PAY",e[e.POS_TYPE_BIZ_TIME_LINE=15]="POS_TYPE_BIZ_TIME_LINE",e[e.POS_TYPE_MP_MAX=100]="POS_TYPE_MP_MAX",e[e.POS_TYPE_MULTI_SLOT=101]="POS_TYPE_MULTI_SLOT",e[e.POS_TYPE_WX_APPLET=997]="POS_TYPE_WX_APPLET",e[e.POS_TYPE_MP_ALL=998]="POS_TYPE_MP_ALL",e[e.POS_TYPE_SNS_FEED=999]="POS_TYPE_SNS_FEED"}(fe||(fe={})),function(e){e[e.DEST_TYPE_AD=0]="DEST_TYPE_AD",e[e.DEST_TYPE_OUTER=1]="DEST_TYPE_OUTER",e[e.DEST_TYPE_APPDETAIL=2]="DEST_TYPE_APPDETAIL",e[e.DEST_TYPE_BIZ=3]="DEST_TYPE_BIZ",e[e.DEST_TYPE_APPINFO_PAGE=4]="DEST_TYPE_APPINFO_PAGE",e[e.DEST_TYPE_WECHAT_SHOP=5]="DEST_TYPE_WECHAT_SHOP",e[e.DEST_TYPE_WECHAT_APPLET=6]="DEST_TYPE_WECHAT_APPLET",e[e.DEST_TYPE_CANVAS=9]="DEST_TYPE_CANVAS",e[e.DEST_TYPE_CHANNELS=101]="DEST_TYPE_CHANNELS",e[e.DEST_TYPE_CHANNELS_LIVE=102]="DEST_TYPE_CHANNELS_LIVE",e[e.DEST_TYPE_CHANNELS_USER_PROFILE=103]="DEST_TYPE_CHANNELS_USER_PROFILE"}(ye||(ye={})),function(e){e[e.RT_SIZE_WORD=91]="RT_SIZE_WORD",e[e.CRT_SIZE_PIC=133]="CRT_SIZE_PIC",e[e.CRT_SIZE_APPMSG=134]="CRT_SIZE_APPMSG",e[e.CRT_SIZE_CARD=135]="CRT_SIZE_CARD",e[e.CRT_SIZE_TOP_PIC=166]="CRT_SIZE_TOP_PIC",e[e.CRT_SIZE_APPDETAIL=167]="CRT_SIZE_APPDETAIL",e[e.CRT_SIZE_WECHAT_SHOP=267]="CRT_SIZE_WECHAT_SHOP",e[e.CRT_SIZE_COPY_CARD=354]="CRT_SIZE_COPY_CARD",e[e.CRT_SIZE_PIC_CARD=355]="CRT_SIZE_PIC_CARD",e[e.CRT_SIZE_WECHAT_ARTICLE_GRAND_PIC=998]="CRT_SIZE_WECHAT_ARTICLE_GRAND_PIC",e[e.CRT_SIZE_OFF_ACCOUNT_PIC=117]="CRT_SIZE_OFF_ACCOUNT_PIC",e[e.CRT_SIZE_WECHAT_APPLET_GRAND_PIC=484]="CRT_SIZE_WECHAT_APPLET_GRAND_PIC",e[e.CRT_SIZE_WECHAT_VIDEO=538]="CRT_SIZE_WECHAT_VIDEO",e[e.CRT_SIZE_H5VIDEO_PIC_6S=555]="CRT_SIZE_H5VIDEO_PIC_6S",e[e.CRT_SIZE_H5VIDEO_VIDEO_15S=1515]="CRT_SIZE_H5VIDEO_VIDEO_15S",e[e.CRT_SIZE_MUTUAL_VIDEO_169=996]="CRT_SIZE_MUTUAL_VIDEO_169",e[e.CRT_SIZE_MUTUAL_VIDEO_43=997]="CRT_SIZE_MUTUAL_VIDEO_43",e[e.CRT_SIZE_IMAGE=666]="CRT_SIZE_IMAGE",e[e.CRT_SIZE_VIDEO=888]="CRT_SIZE_VIDEO",e[e.CRT_SIZE_CARD_IMAGE=450]="CRT_SIZE_CARD_IMAGE",e[e.CRT_SIZE_CARD_VIDEO=452]="CRT_SIZE_CARD_VIDEO",e[e.CRT_SIZE_LINK=454]="CRT_SIZE_LINK",e[e.CRT_SIZE_CARD_SELECT_IMAGE=480]="CRT_SIZE_CARD_SELECT_IMAGE",e[e.CRT_SIZE_CARD_SELECT_VIDEO=482]="CRT_SIZE_CARD_SELECT_VIDEO",e[e.CRT_SIZE_CARD_VOTE_IMAGE=516]="CRT_SIZE_CARD_VOTE_IMAGE",e[e.CRT_SIZE_CARD_VOTE_VIDEO=519]="CRT_SIZE_CARD_VOTE_VIDEO",e[e.CRT_SIZE_WXAPP_PIC=532]="CRT_SIZE_WXAPP_PIC",e[e.CRT_SIZE_CARD_TURN_IMAGE=539]="CRT_SIZE_CARD_TURN_IMAGE",e[e.CRT_SIZE_CARD_TURN_VIDEO=540]="CRT_SIZE_CARD_TURN_VIDEO",e[e.CRT_SIZE_WXAPP_CARD_PIC=556]="CRT_SIZE_WXAPP_CARD_PIC",e[e.CRT_SIZE_WXGAME_VIDEO_0=559]="CRT_SIZE_WXGAME_VIDEO_0",e[e.CRT_SIZE_WXGAME_VIDEO_1=560]="CRT_SIZE_WXGAME_VIDEO_1",e[e.CRT_SIZE_WXAPP_BANNER_608=608]="CRT_SIZE_WXAPP_BANNER_608",e[e.CRT_SIZE_MULTI_POS_960_334=567]="CRT_SIZE_MULTI_POS_960_334",e[e.CRT_SIZE_MULTI_POS_OFF_ACCOUNT_PIC=568]="CRT_SIZE_MULTI_POS_OFF_ACCOUNT_PIC",e[e.CRT_SIZE_MULTI_POS_CARD=569]="CRT_SIZE_MULTI_POS_CARD",e[e.CRT_SIZE_MULTI_POS_COPY_CARD=570]="CRT_SIZE_MULTI_POS_COPY_CARD",e[e.CRT_SIZE_CARD_RATING_IMAGE=588]="CRT_SIZE_CARD_RATING_IMAGE",e[e.CRT_SIZE_CARD_RATING_VIDEO=589]="CRT_SIZE_CARD_RATING_VIDEO",e[e.CRT_SIZE_CARD_FULL_IMAGE=598]="CRT_SIZE_CARD_FULL_IMAGE",e[e.CRT_SIZE_CARD_FULL_VIDEO=599]="CRT_SIZE_CARD_FULL_VIDEO",e[e.CRT_SIZE_MP_TAGS=677]="CRT_SIZE_MP_TAGS",e[e.CRT_SIZE_SCREEN_701=701]="CRT_SIZE_SCREEN_701",e[e.CRT_SIZE_WEAPP_INTERSTITIAL_VIDEO=913]="CRT_SIZE_WEAPP_INTERSTITIAL_VIDEO",e[e.CRT_SIZE_CARD_FULL_GESTURE_VIDEO=698]="CRT_SIZE_CARD_FULL_GESTURE_VIDEO",e[e.CRT_SIZE_BOTTOM_708=708]="CRT_SIZE_BOTTOM_708",e[e.CRT_SIZE_IN_TEXT_841=841]="CRT_SIZE_IN_TEXT_841",e[e.CRT_SIZE_CARD_COMPONENT_IMAGE=1707]="CRT_SIZE_CARD_COMPONENT_IMAGE",e[e.CRT_SIZE_CARD_COMPONENT_VIDEO=1708]="CRT_SIZE_CARD_COMPONENT_VIDEO",e[e.CRT_SIZE_PRODUCT=1501]="CRT_SIZE_PRODUCT",e[e.CRT_SIZE_CARD_SPHERE_IMAGE=699]="CRT_SIZE_CARD_SPHERE_IMAGE",e[e.CRT_SIZE_IMAGE_TEXT_CARD=904]="CRT_SIZE_IMAGE_TEXT_CARD",e[e.CRT_SIZE_MULTI_SLOT_BANNER=925]="CRT_SIZE_MULTI_SLOT_BANNER",e[e.CRT_SIZE_MULTI_SLOT_BANNER_MP=926]="CRT_SIZE_MULTI_SLOT_BANNER_MP",e[e.CRT_SIZE_MULTI_SLOT_IMAGE=927]="CRT_SIZE_MULTI_SLOT_IMAGE",e[e.CRT_SIZE_MULTI_SLOT_IMAGE_MP=928]="CRT_SIZE_MULTI_SLOT_IMAGE_MP",e[e.CRT_SIZE_MULTI_SLOT_VIDEO=929]="CRT_SIZE_MULTI_SLOT_VIDEO",e[e.CRT_SIZE_MULTI_SLOT_BOX=972]="CRT_SIZE_MULTI_SLOT_BOX",e[e.CRT_SIZE_BUTTON_CARD_IMAGE=955]="CRT_SIZE_BUTTON_CARD_IMAGE",e[e.CRT_SIZE_BUTTON_CARD_VIDEO=957]="CRT_SIZE_BUTTON_CARD_VIDEO",e[e.CRT_SIZE_WXGAME_LAND_PAGE=910]="CRT_SIZE_WXGAME_LAND_PAGE",e[e.CRT_SIZE_WEAPP_COVER=1003]="CRT_SIZE_WEAPP_COVER",e[e.CRT_SIZE_SNS_PORTRAIL_VIDEO=1064]="CRT_SIZE_SNS_PORTRAIL_VIDEO",e[e.CRT_SIZE_CARD_FULL_PRESS_VIDEO=1065]="CRT_SIZE_CARD_FULL_PRESS_VIDEO",e[e.CRT_SIZE_SNS_PORTRAIL_VIDEO_1=1479]="CRT_SIZE_SNS_PORTRAIL_VIDEO_1",e[e.CRT_SIZE_SNS_PORTRAIL_VIDEO_2=1480]="CRT_SIZE_SNS_PORTRAIL_VIDEO_2",e[e.CRT_SIZE_CHANNELS_IMAGE=1530]="CRT_SIZE_CHANNELS_IMAGE",e[e.CRT_SIZE_CHANNELS_PORTRAIL_IMAGE=1531]="CRT_SIZE_CHANNELS_PORTRAIL_IMAGE",e[e.CRT_SIZE_CARD_FULL_TWIST_VIDEO=1733]="CRT_SIZE_CARD_FULL_TWIST_VIDEO",e[e.CRT_SIZE_SNS_PORTRAIL_VIDEO_720_1280=721]="CRT_SIZE_SNS_PORTRAIL_VIDEO_720_1280",e[e.CRT_SIZE_CARD_FINDER_EVENT_VIDEO=1748]="CRT_SIZE_CARD_FINDER_EVENT_VIDEO"}(_e||(_e={})),function(e){e[e.PAGE_TYPE_NONE=0]="PAGE_TYPE_NONE",e[e.PAGE_TYPE_OUTLINK=1]="PAGE_TYPE_OUTLINK",e[e.PAGE_TYPE_ARTICLE=2]="PAGE_TYPE_ARTICLE",e[e.PAGE_TYPE_H5CANVAS=3]="PAGE_TYPE_H5CANVAS",e[e.PAGE_TYPE_CANVAS=4]="PAGE_TYPE_CANVAS",e[e.PAGE_TYPE_CARD=5]="PAGE_TYPE_CARD",e[e.PAGE_TYPE_ACCOUNT=6]="PAGE_TYPE_ACCOUNT",e[e.PAGE_TYPE_APPSTORE=7]="PAGE_TYPE_APPSTORE",e[e.PAGE_TYPE_TMPL=8]="PAGE_TYPE_TMPL",e[e.PAGE_TYPE_SIMPLE_CANVAS=9]="PAGE_TYPE_SIMPLE_CANVAS",e[e.PAGE_TYPE_AD=10]="PAGE_TYPE_AD",e[e.PAGE_TYPE_DIRECT=11]="PAGE_TYPE_DIRECT",e[e.PAGE_TYPE_APPDETAIL=12]="PAGE_TYPE_APPDETAIL",e[e.PAGE_TYPE_APPINFO_PAGE=13]="PAGE_TYPE_APPINFO_PAGE",e[e.PAGE_TYPE_WECHAT_SHOP=14]="PAGE_TYPE_WECHAT_SHOP",e[e.PAGE_TYPE_WEAPP=15]="PAGE_TYPE_WEAPP",e[e.PAGE_TYPE_ACTIVE=16]="PAGE_TYPE_ACTIVE",e[e.PAGE_TYPE_FORM_IMAGE=17]="PAGE_TYPE_FORM_IMAGE",e[e.PAGE_TYPE_FORM_VIDEO=18]="PAGE_TYPE_FORM_VIDEO",e[e.PAGE_TYPE_APP_IMAGE=19]="PAGE_TYPE_APP_IMAGE",e[e.PAGE_TYPE_APP_VIDEO=20]="PAGE_TYPE_APP_VIDEO",e[e.PAGE_TYPE_CANVAS_QUES=21]="PAGE_TYPE_CANVAS_QUES",e[e.PAGE_TYPE_CANVAS_VOTE=22]="PAGE_TYPE_CANVAS_VOTE",e[e.PAGE_TYPE_WEPAY_CARD=23]="PAGE_TYPE_WEPAY_CARD",e[e.PAGE_TYPE_WXGAME=24]="PAGE_TYPE_WXGAME",e[e.PAGE_TYPE_FY_EGOODS=25]="PAGE_TYPE_FY_EGOODS",e[e.PAGE_TYPE_ALITA=26]="PAGE_TYPE_ALITA",e[e.PAGE_TYPE_PHONE_CALL=27]="PAGE_TYPE_PHONE_CALL",e[e.PAGE_TYPE_SUBSCRIPTION=40027]="PAGE_TYPE_SUBSCRIPTION",e[e.PAGE_TYPE_YOUZAN=20003]="PAGE_TYPE_YOUZAN",e[e.PAGE_TYPE_WEIMENG=20305]="PAGE_TYPE_WEIMENG",e[e.PAGE_TYPE_FENGYE_EC_SINGLE=10001]="PAGE_TYPE_FENGYE_EC_SINGLE",e[e.PAGE_TYPE_FENGYE_EC_TOGETHER=10002]="PAGE_TYPE_FENGYE_EC_TOGETHER",e[e.PAGE_TYPE_FENGYE_EC_FOCUS=10003]="PAGE_TYPE_FENGYE_EC_FOCUS",e[e.PAGE_TYPE_PLAY_H5=18001]="PAGE_TYPE_PLAY_H5",e[e.PAGE_TYPE_SCAN=40026]="PAGE_TYPE_SCAN",e[e.PAGE_TYPE_CHANNELS=60003]="PAGE_TYPE_CHANNELS",e[e.PAGE_TYPE_CHANNELS_WATCH_LIVE=60005]="PAGE_TYPE_CHANNELS_WATCH_LIVE",e[e.PAGE_TYPE_CHANNELS_RESERVE_LIVE=60006]="PAGE_TYPE_CHANNELS_RESERVE_LIVE",e[e.PAGE_TYPE_WECHAT_XJ_ANDROID_APP_H5=40028]="PAGE_TYPE_WECHAT_XJ_ANDROID_APP_H5",e[e.PAGE_TYPE_WECHAT_XJ_IOS_APP_H5=40029]="PAGE_TYPE_WECHAT_XJ_IOS_APP_H5",e[e.PAGE_TYPE_WECHAT_XJ_WEBSITE_H5=40030]="PAGE_TYPE_WECHAT_XJ_WEBSITE_H5",e[e.PAGE_TYPE_WECHAT_RED_PACKET_COVER=40031]="PAGE_TYPE_WECHAT_RED_PACKET_COVER",e[e.PAGE_TYPE_WECHAT_VIDEO_TOPIC=40032]="PAGE_TYPE_WECHAT_VIDEO_TOPIC",e[e.PAGE_TYPE_MAX=1e8]="PAGE_TYPE_MAX"}(ge||(ge={}));var me=i(8579);let ve,Ee,Ie;!function(e){e[e.PIC_TIME5=555]="PIC_TIME5",e[e.VIDEO_TIME15=1515]="VIDEO_TIME15",e[e.APP_VIDEO=538]="APP_VIDEO",e[e.CRT_SIZE_WX_APPLICATION=532]="CRT_SIZE_WX_APPLICATION",e[e.CRT_SIZE_WX_APPLICATION_X=567]="CRT_SIZE_WX_APPLICATION_X",e[e.CRT_SIZE_WX_APPLICATION_NEW=608]="CRT_SIZE_WX_APPLICATION_NEW",e[e.CRT_SIZE_WX_APPLICATION_CARD=556]="CRT_SIZE_WX_APPLICATION_CARD",e[e.CRT_SIZE_REWARD_VEDIO169=559]="CRT_SIZE_REWARD_VEDIO169",e[e.CRT_SIZE_REWARD_VEDIO916=560]="CRT_SIZE_REWARD_VEDIO916",e[e.CRT_SIZE_REWARD_LANDINGPAGE=910]="CRT_SIZE_REWARD_LANDINGPAGE",e[e.CRT_SIZE_TABLE_SCREEN_IMAGE=701]="CRT_SIZE_TABLE_SCREEN_IMAGE",e[e.CRT_SIZE_INSERT_VIDEO=913]="CRT_SIZE_INSERT_VIDEO",e[e.CRT_SIZE_MULTI_POS_NEW_PIC=927]="CRT_SIZE_MULTI_POS_NEW_PIC",e[e.CRT_SIZE_MULTI_POS_VEDIO=929]="CRT_SIZE_MULTI_POS_VEDIO",e[e.CRT_SIZE_MULTI_POS_GRID=972]="CRT_SIZE_MULTI_POS_GRID",e[e.CRT_SIZE_COVER_AD=1003]="CRT_SIZE_COVER_AD",e[e.CRT_SIZE_CPM_PIC=998]="CRT_SIZE_CPM_PIC",e[e.CRT_SIZE_MULTI_POS_NEW_PIC_WE_CHAT=928]="CRT_SIZE_MULTI_POS_NEW_PIC_WE_CHAT",e[e.CRT_SIZE_VERTICAL_VIDEO_NEW_916=721]="CRT_SIZE_VERTICAL_VIDEO_NEW_916"}(ve||(ve={})),function(e){e[e.ANDROID=12]="ANDROID",e[e.IOS=19]="IOS",e[e.WE_CHAT=23]="WE_CHAT",e[e.MINI_GAME=46]="MINI_GAME",e[e.WE_CHAT_CARD=36]="WE_CHAT_CARD",e[e.WE_CHAT_SHOP=30]="WE_CHAT_SHOP",e[e.PRODUCTTYPE_WECHAT_PAY_COUPON=47]="PRODUCTTYPE_WECHAT_PAY_COUPON",e[e.WE_CHAT_ARTICLE=29]="WE_CHAT_ARTICLE",e[e.GDT_WE_CHAT_ARTICLE=31]="GDT_WE_CHAT_ARTICLE",e[e.WE_CHAT_APP=38]="WE_CHAT_APP",e[e.LBS=37]="LBS",e[e.LEAD_AD=43]="LEAD_AD",e[e.JD_URL=25]="JD_URL"}(Ee||(Ee={})),function(e){e[e.MP_TAG_TYPE_NONE=0]="MP_TAG_TYPE_NONE",e[e.MP_TAG_TYPE_PLAY=1]="MP_TAG_TYPE_PLAY",e[e.MP_TAG_TYPE_DOWNLOAD=3]="MP_TAG_TYPE_DOWNLOAD",e[e.MP_TAG_TYPE_FOLLOW=4]="MP_TAG_TYPE_FOLLOW",e[e.MP_TAG_TYPE_FORM=5]="MP_TAG_TYPE_FORM",e[e.MP_TAG_TYPE_CATEGORY=2]="MP_TAG_TYPE_CATEGORY",e[e.MP_TAG_TYPE_ORDER=6]="MP_TAG_TYPE_ORDER",e[e.MP_TAG_TYPE_POI=7]="MP_TAG_TYPE_POI",e[e.MP_TAG_TYPE_CONVERTION=8]="MP_TAG_TYPE_CONVERTION",e[e.MP_TAG_TYPE_APP_CATEGORY=9]="MP_TAG_TYPE_APP_CATEGORY"}(Ie||(Ie={}));const we={123:["image","brand"],124:["image","store"],127:["image","download"],128:["image","follow"],134:["image","wxgame"],138:["image","brand"],126:["card","follow","normal"],129:["card","follow","large"],132:["card","download","large"],130:["video","download"],131:["video","brand"],133:["video","wxgame"],135:["video","brand"],136:["video","follow"],137:["video","brand"]},be={1:"store",2:"brand",3:"download",6:"follow",7:"wxgame"},Ae=[123,124,126,127,128,129,130,131,132,133,134,135,136,137,138],Te=[ve.CRT_SIZE_WX_APPLICATION,ve.CRT_SIZE_WX_APPLICATION_NEW,ve.CRT_SIZE_WX_APPLICATION_X,ve.CRT_SIZE_WX_APPLICATION_CARD,ve.CRT_SIZE_REWARD_VEDIO169,ve.CRT_SIZE_REWARD_VEDIO916,ve.CRT_SIZE_TABLE_SCREEN_IMAGE,ve.CRT_SIZE_REWARD_LANDINGPAGE,ve.CRT_SIZE_INSERT_VIDEO,ve.CRT_SIZE_MULTI_POS_NEW_PIC,ve.CRT_SIZE_MULTI_POS_VEDIO,ve.CRT_SIZE_MULTI_POS_GRID,ve.CRT_SIZE_CPM_PIC,ve.CRT_SIZE_COVER_AD,ve.CRT_SIZE_MULTI_POS_NEW_PIC_WE_CHAT,ve.CRT_SIZE_VERTICAL_VIDEO_NEW_916];let Se;!function(e){e[e.MMOCAD_CLICKPOS_BIZ_VIDEO_END_PAGE_ACT_BUTTON=2001]="MMOCAD_CLICKPOS_BIZ_VIDEO_END_PAGE_ACT_BUTTON",e[e.MMOCAD_CLICKPOS_BIZ_VIDEO_END_PAGE_CLOSE_BUTTON=2002]="MMOCAD_CLICKPOS_BIZ_VIDEO_END_PAGE_CLOSE_BUTTON",e[e.MMOCAD_CLICKPOS_BIZ_VIDEO_END_PAGE_CONTENT=2003]="MMOCAD_CLICKPOS_BIZ_VIDEO_END_PAGE_CONTENT",e[e.MMOCAD_CLICKPOS_BIZ_VIDEO_END_PAGE_CORNER=2004]="MMOCAD_CLICKPOS_BIZ_VIDEO_END_PAGE_CORNER",e[e.MMOCAD_CLICKPOS_BIZ_VIDEO_CONTENT=2005]="MMOCAD_CLICKPOS_BIZ_VIDEO_CONTENT",e[e.MMOCAD_CLICKPOS_BIZ_MIDDLE_BEFORE_ANIMATION=2006]="MMOCAD_CLICKPOS_BIZ_MIDDLE_BEFORE_ANIMATION",e[e.MMOCAD_CLICKPOS_BIZ_MIDDLE_IN_ANIMATION=2007]="MMOCAD_CLICKPOS_BIZ_MIDDLE_IN_ANIMATION",e[e.MMOCAD_CLICKPOS_BIZ_FOLLOW=2008]="MMOCAD_CLICKPOS_BIZ_FOLLOW",e[e.MMOCAD_CLICKPOS_BIZ_LIKE=2009]="MMOCAD_CLICKPOS_BIZ_LIKE",e[e.MMOCAD_CLICKPOS_BIZ_COMMENT=2010]="MMOCAD_CLICKPOS_BIZ_COMMENT",e[e.MMOCAD_CLICKPOS_BIZ_HEADIMAGE=2011]="MMOCAD_CLICKPOS_BIZ_HEADIMAGE",e[e.MMOCAD_CLICKPOS_BIZ_NICKNAME=2012]="MMOCAD_CLICKPOS_BIZ_NICKNAME",e[e.MMOCAD_CLICKPOS_BIZ_MATERIAL_FORWARD=2013]="MMOCAD_CLICKPOS_BIZ_MATERIAL_FORWARD"}(Se||(Se={}));let Ce,Pe,De,Oe;!function(e){e[e.DEFAULT=0]="DEFAULT",e[e.VIDEO=1]="VIDEO",e[e.LIVE=2]="LIVE"}(Ce||(Ce={})),function(e){e[e.DEFAULT=0]="DEFAULT",e[e.ROOM=1]="ROOM",e[e.RESERVATION=2]="RESERVATION"}(Pe||(Pe={})),function(e){e[e.NONE=1]="NONE",e[e.ON_AIR=2]="ON_AIR",e[e.ENDED=3]="ENDED",e[e.IN_PREPARE=4]="IN_PREPARE"}(De||(De={})),function(e){e[e.NONE=0]="NONE",e[e.NICKNAME=1]="NICKNAME",e[e.LINK=2]="LINK",e[e.RESOURCE=3]="RESOURCE",e[e.ACTIONBUTTON=4]="ACTIONBUTTON",e[e.CANVASBUTTON=5]="CANVASBUTTON",e[e.TAGBUTTON=6]="TAGBUTTON"}(Oe||(Oe={}));var ke=i(4016),xe=i(7452),Re=i(7551);let Ne="undefined"!=typeof __libVersionInfo__&&__libVersionInfo__?__libVersionInfo__.version:"unknown",Me="undefined"!=typeof __libVersionInfo__&&__libVersionInfo__?__libVersionInfo__.updateTime:"unknown";function Le({isSuccess:e,invokeTime:t,costTime:i,wxdataQueueTimestamp:n,wxdataDequeueTimestamp:r,beginCGITimestamp:a,CGICallbackTimestamp:o,wxlibCallbackTimestamp:s,requestingCount:l,cost1:c,cost2:d,cost3:p,cost4:h,cost5:f,cost6:y,JSApiType:_}){Math.random()<.002&&setTimeout((()=>{const g=Re.Z.currentNetworkType,m=u.Z.appType+1e3,v=u.Z.appLaunchInfo&&void 0!==u.Z.appLaunchInfo.scene?u.Z.appLaunchInfo.scene:0,E=["","",e?1:0,t,i,g,"",m,v,Ne,Me,"",0,0,c,d,p,h,f,y,0,0,l,t,n,r,a,o,0,0,s,_].map((I=1024,e=>(0,xe.HD)(e)&&e.length>I?e.substr(0,I):e)).join(",");var I;Reporter.reportKeyValue({key:"WeAppOperateWXData",value:E})}),0)}(0,xe.HD)(Ne)&&(Ne=Ne.replace(" ","")),(0,xe.HD)(Me)&&(Me=Me.replace(" ","-"));var Fe=i(7646),je=i(6998);const We=(0,p.Fr)((0,Fe.Ce)(!1,"getDNSInfo"));let Ue={},Ve={},Be={};(0,je.PQ)((()=>{Ue={},Ve={},Be={}}));let Ze=0;(0,ke.b)("Request",{maxTaskCount:10,functionName:"request"}),u.Z.onReady((()=>{try{"number"==typeof u.Z.wxAppInfo.maxRequestConcurrent&&(0,ke.b)("Request",{maxTaskCount:u.Z.wxAppInfo.maxRequestConcurrent})}catch(e){}}));class Ge extends ke.o{constructor(e){const t={JSApiType:1,invokeTime:Date.now(),requestingCount:++Ze};super(e,{taskType:"Request",beforeSend:t=>(t.responseType=e.responseType,t.apiSigningSeq=e.apiSigningSeq,t.apiSignature=e.apiSignature,t),beforeSuccess:i=>{var n,r;return e.host&&e.ip&&(n=e.host,r=e.ip,Ve[n]=r),t.isSuccess=!0,function(e){"string"==typeof e.data&&65279===e.data.charCodeAt(0)&&(e.data=e.data.substr(1))}(i),function(e){e.statusCode=parseInt(e.statusCode,10)}(i),function(e){"object"==typeof e.header&&(e.header=Object.keys(e.header).reduce(((t,i)=>(Array.isArray(e.header[i])?t[i]=e.header[i].join(","):"string"==typeof e.header[i]&&(t[i]=e.header[i]),t)),{}))}(i),"json"===e.dataType&&function(e){try{e.data=JSON.parse(e.data)}catch(e){}}(i),He(i,t,e),i},beforeFail:i=>(t.isSuccess=!1,He(i,t,e),i)})}}function He(e,t,i){const n=Date.now();if(Ze--,t.costTime=n-t.invokeTime,e.clientInfo&&"object"==typeof e.clientInfo){const r=e.clientInfo;t.wxdataQueueTimestamp=r.invokeTime,t.wxdataDequeueTimestamp=r.invokeTime,t.beginCGITimestamp=r.beginCGITimestamp,t.CGICallbackTimestamp=r.CGICallbackTimestamp,t.wxlibCallbackTimestamp=r.wxlibCallbackTimestamp,t.cost1=t.wxdataQueueTimestamp-t.invokeTime,t.cost2=t.wxdataDequeueTimestamp-t.wxdataQueueTimestamp,t.cost3=t.beginCGITimestamp-t.wxdataDequeueTimestamp,t.cost4=t.CGICallbackTimestamp-t.beginCGITimestamp,t.cost5=t.wxlibCallbackTimestamp-t.CGICallbackTimestamp,t.cost6=n-t.wxlibCallbackTimestamp,i&&i.__wxUseProfile__&&(e.__requestProfileInfo=t),delete e.clientInfo,Le(t)}}const $e=Ge,Ye=new WeakMap;class ze{constructor(){let e;const t=new Promise((t=>{e=t}));Ye.set(this,{promise:t,resolve:e})}abort(){const{promise:e}=Ye.get(this);e.then((e=>{e.abort()}))}onHeadersReceived(e){const{promise:t}=Ye.get(this);t.then((t=>{t.onHeadersReceived(e)}))}offHeadersReceived(e){const{promise:t}=Ye.get(this);t.then((t=>{t.offHeadersReceived(e)}))}}function qe({args:e}){const t=(0,O.Em)(e.header);e.header=e.header||{},e.header=(0,O.Nf)(e.header),"Undefined"!==t&&"Object"!==t&&(console.warn("wx.request: header must be an object"),e.header={}),e.header=Object.keys(e.header).reduce(((t,i)=>("content-type"===i.toLowerCase()?t[i.toLowerCase()]=e.header[i]:t[i]=e.header[i],t)),{});let i="text";e.responseType&&(i=e.responseType.toLowerCase());const n=e.header||{};let r,a="GET";return"string"==typeof e.method&&(a=e.method.toUpperCase()),e.dataType=e.dataType||"json",n["content-type"]=n["content-type"]||"application/json",r=void 0===e.data?"":"string"!=typeof e.data&&"ArrayBuffer"!==(0,O.Em)(e.data)?n["content-type"].indexOf("application/x-www-form-urlencoded")>-1?(0,O.HR)(e.data,!0):n["content-type"].indexOf("application/json")>-1||"object"==typeof e.data?JSON.stringify(e.data):r.toString():e.data,"GET"===a&&(e.url=(0,O.cE)(e.url,e.data)),{header:n,method:a,responseType:i,dataStr:r,args:e}}function Ke({args:e,host:t}){let i;if(!0===e.enableHttpDNS){const e=(e=>{const t=Ue[e];return t?{expired:Date.now()>t.expireTime,ip:t.ip}:null})(t);return e&&!1===e.expired?(i=e.ip,{host:t,ip:i}):(e=>(Be[e]||(Be[e]=We({apiName:"webapi_wxahttpdns_gethostip",reqData:{domain:e}}).then((t=>{delete Be[e],t=JSON.parse(t.rawData);const{wxa_state:i,ip:n,ttl:r}=t;if(0===i)return Ue[e]={ip:n,expireTime:1e3*r+Date.now()},Ue[e];throw new Error(i)})).catch((t=>{throw delete Be[e],t}))),Be[e]))(t).then((e=>(i=e.ip,{host:t,ip:i})))}return{}}function Je({host:e,ip:t}){return{forbidReuse:((e,t)=>{const i=Ve[e];return t?!(i&&i===t||(delete Ve[e],0)):(delete Ve[e],!1)})(e,t)}}var Xe=i(6012);function Qe({args:e}){const{host:t,protocol:i}=(0,Xe.e)(e.url);return{host:t,protocol:i}}function et({protocol:e}){let t;return t="http"===e?80:"https"===e?443:0,{port:t}}const tt=__safeway__.apiSign.makeApiSign;class it{constructor(e){this.innerParams=e,this.asyncTasks=[]}use(e){const t=e(this.innerParams,this.asyncTasks);if(t instanceof Promise){const e=t.then((e=>{Object.assign(this.innerParams,e)}));this.asyncTasks.push(e)}else Object.assign(this.innerParams,t);return this}useAfterAsyncTasks(e){return this.asyncTasks.length>0?Promise.all(this.asyncTasks).then((()=>{this.use(e)})).catch((e=>e)):this.use(e),this}catch(e){return this.catchFn=e,this}execute(){if(this.asyncTasks.length>0){const e=new ze;return Promise.all(this.asyncTasks).then((()=>{const t=this.createRequestTask();((e,t)=>{const{resolve:i}=Ye.get(e);i(t)})(e,t)})).catch((e=>{this.catchFn&&this.catchFn(e),delete this.catchFn})),e}return this.createRequestTask()}createRequestTask(){const{args:e,host:t,ip:i,header:n,method:r,port:a,responseType:o,dataStr:s,options:l,forbidReuse:c}=this.innerParams;try{return new $e(Object.assign({},e,{header:n,method:r,responseType:o,data:s,ip:i,host:t,port:a,forbidReuse:c},tt("createRequestTask",{url:e.url,__skipDomainCheck__:l.__skipDomainCheck__})))}catch(e){return this.catchFn&&this.catchFn(e),void delete this.catchFn}}}const nt=(e={})=>(e=Object.assign({__skipDomainCheck__:!1},e),function(t={}){if(!(0,ue.r3)("request",t,{url:""}))return;if(!1===(0,O.mQ)(t.url))return void(0,ue.YG)("request",t,`invalid url "${t.url}"`);try{JSON.stringify(t.data)}catch(e){return void(0,ue.YG)("request",t,"fail to stringify data")}if("function"==typeof t.data)return void(0,ue.YG)("request",t,"data should not be Function");const i=new it({args:t,options:e});return i.catch((e=>{(0,ue.YG)("request",t,e.message||e.errMsg)})).use(qe).use(Qe).use(et).use(Ke).useAfterAsyncTasks(Je),i.execute()}),rt=(nt(),nt({__skipDomainCheck__:!0}));var at,ot,st,lt,ct,dt,ut,pt,ht,ft,yt,_t,gt,mt,vt,Et,It,wt;let bt=1;const At=new Set;let Tt=(at=b(),ot=b(),st=b(),lt=b(),ct=b(),dt=b(),ut=b(),pt=b(),ht=b(),ft=b(),yt=b(),_t=b(),gt=b(),mt=b(),vt=b(),Et=b(),It=b(),wt=class{constructor(e){this.adProxy=e,this.lastVideoReportTime=0,this.lastExposureTime=0,this.lastClickTime=0,this.lastAdReqTs=0,this.index=void 0,this.index=bt,bt+=1,At.add(this.adUnitId)}get adType(){return this.adProxy.getAdType()}get adUnitId(){return this.adProxy.getAdUnitId()}get slotData(){return this.adProxy.getSlotData()}get pluginAppid(){return this.adProxy.getPluginAppid()}get data(){return this.adProxy.data}get datas(){return this.adProxy.datas}get reportAdMonitorData(){return this.adProxy.reportAdMonitorData}reset(){this.lastVideoReportTime=0}getLastClickTime(){return this.lastClickTime}getLastAdReqTs(){return this.lastAdReqTs}setLastExposureTime(e){this.lastExposureTime=e}setLastClickTime(e){this.lastClickTime=e}setLastAdReqTs(e){this.lastAdReqTs=e}reportFollow({result:e}){let t=5;return this.adProxy.isRewardedVideoAd()?t=6:[ve.CRT_SIZE_TABLE_SCREEN_IMAGE,ve.CRT_SIZE_INSERT_VIDEO].includes(this.data.crt_size)&&(t=8),(0,f.Lo)({apiName:"webapi_adfollow_report",reqData:{type:{success:140,fail:141,already:142,cancel:143}[e],source:5,scene:75,traceid:this.data.traceid,trace_id:this.data.traceid,aid:this.data.aid,pos_type:t}}).catch((e=>{throw this.reportAdMonitorData(me.IN.FOLLOW_REPORT_ERROR,e),e}))}getExtraExpOrClkData(e){var t;let i=[];"exposure"===e.reportType&&e.isMulti&&e.multiList?i=e.multiList.map(((e,t)=>({idx:t,waid:this.datas[e].waid||""}))):this.data.waid&&(i=[{idx:0,waid:this.data.waid}]);const n=o()(o()({},(0,D.v3)()),{},{weapp_enter_scene:(null===u.Z||void 0===u.Z||null===(t=u.Z.appLaunchInfo)||void 0===t?void 0:t.scene)||0,extra:JSON.stringify(i)}),r=o()({},n),a=o()({},n);if("customAd"===this.adType&&e.isMulti)if("exposure"===e.reportType){var s;const t={viewid:[],s_pt:[],s_aid:[],s_trace_id:[]};null===(s=e.multiList)||void 0===s||s.forEach((e=>{const i=this.datas[e];i.extBackComm&&t.viewid.push(i.extBackComm.viewid),t.s_pt.push(i.pt),t.s_aid.push(i.aid),t.s_trace_id.push(i.traceid)})),r.box_ad_exposure={report_mode:1,box_size:this.datas.length,box_used_cnt:this.datas.length,viewid:JSON.stringify({viewid:t.viewid}),s_trace_id:JSON.stringify(t.s_trace_id),s_aid:JSON.stringify(t.s_aid),s_pt:JSON.stringify(t.s_pt),s_index:JSON.stringify(e.multiList||[])}}else if("click"===e.reportType){var l;const e=this.adProxy.adDataIndex;a.box_ad_click={box_size:this.datas.length,box_used_cnt:this.datas.length,viewid:null===(l=this.data.extBackComm)||void 0===l?void 0:l.viewid,box_index:e}}if("customAd"===this.adType){var c;const e=null===(c=this.data.extBackComm)||void 0===c?void 0:c.sub_templ_id;e&&(r.sub_templ_id=e,a.sub_templ_id=e)}if("incentive-video"===this.adType&&this.data.isPlayable&&(r.is_playable=1,a.is_playable=1),["interstitialAd","incentive-video","customAd"].includes(this.adType)&&e.videoData){const{currentTime:t,duration:i}=e.videoData;(t||i)&&(a.video_play_time=t,a.video_duration=i)}if("grid"===this.adType)if("exposure"===e.reportType){var d;const e={viewid:[],s_pt:[],s_aid:[],s_trace_id:[]};null===(d=this.datas)||void 0===d||d.forEach((t=>{t.extBackComm&&e.viewid.push(t.extBackComm.viewid),e.s_pt.push(t.pt),e.s_aid.push(t.aid),e.s_trace_id.push(t.traceid)})),r.box_ad_exposure={report_mode:1,box_size:this.slotData.gridCount,box_used_cnt:this.slotData.gridCount,box_bg_color:"black"===this.slotData.adTheme?"232323":"FFFFFF",box_opacity:Math.floor(100*this.slotData.gridOpacity)||100,viewid:JSON.stringify({viewid:e.viewid}),s_trace_id:JSON.stringify(e.s_trace_id),s_aid:JSON.stringify(e.s_aid),s_pt:JSON.stringify(e.s_pt)}}else if("click"===e.reportType){var p;const t=e.clickAdIndex||0;a.box_ad_click={box_size:this.slotData.gridCount,box_used_cnt:this.slotData.gridCount,box_bg_color:"black"===this.slotData.adTheme?"232323":"FFFFFF",box_opacity:Math.floor(100*this.slotData.gridOpacity)||100,viewid:null===(p=this.data.extBackComm)||void 0===p?void 0:p.viewid,box_index:t}}return{extExposureComm:r,extClickComm:a}}reportExpOrClk(e){let t=3;const i={showed:2,viewable:5,incentiveVideoCard:14};if("exposure"===e.reportType?(t=i[e.exposureType],"showed"===e.exposureType?this.adProxy.setTimePoint("p6"):"viewable"===e.exposureType&&this.adProxy.setTimePoint("p7"),this.adProxy.reportAnalyseInfo(e.exposureType)):"click"===e.reportType&&this.adProxy.setTimePoint("p10"),"exposure"===e.reportType&&e.multiList&&e.isMulti){const i=this.adProxy.adDataIndex;e.multiList.forEach((e=>{this.adProxy.setCurrentData(e),(0,ue.IN)("adDataReport",{adInfo:this.adProxy.getTransmissionChainData({logtype:t})})})),this.adProxy.setCurrentData(i)}else(0,ue.IN)("adDataReport",{adInfo:this.adProxy.getTransmissionChainData({logtype:t})});const{extExposureComm:n,extClickComm:r}=this.getExtraExpOrClkData(e),a=this.getExpOrClkCommonArgs(e),s="click"===e.reportType?{click_point:JSON.stringify({x:e.clickAbsoluteLeft,y:e.clickAbsoluteTop}),press_interval:e.pressInterval,pos_x:e.clickRelativeLeft,pos_y:e.clickRelativeTop,click_pos:0,ext_click_comm:JSON.stringify(r)}:{exposure_type:I.qi[e.exposureType],ext_exposure_comm:JSON.stringify(n)};return(0,f.Lo)({apiName:"advert_report",reqData:o()(o()(o()({},a),s),{},{report_type:I.yd[e.reportType],weapp_extra_data:JSON.stringify(a.weapp_extra_data),ad_group_id:a.advert_group_id,apurl:this.data.apurl,rl:this.data.rl,weapp_ghid:a.weapp_gh_id})})}getExpOrClkCommonArgs(e){var t;return{advert_group_id:this.data.group_id,trace_id:this.data.traceid,pos_id:I.DX[this.adType],pos_type:I.UJ[this.adType],sdk_version:D.S3.SDKVersion,ad_w:e.width,ad_h:e.height,aid:this.data.aid,weapp_gh_id:(null===(t=this.data.weapp_info)||void 0===t?void 0:t.original_id)||"",pt:this.data.pt,screen_cnt:1,from_h5:0,from_game:1,wegame_start_ts:D.S3.startTime.valueOf(),wegame_enter_ts:D.S0.enterForegroundTime.valueOf(),wegame_user_duration:D.S0.gameDuration+(Date.now()-D.S0.enterForegroundTime.getTime()),wxa_report_detail:this.getWxaReportDetail({left:e.left,top:e.top}),weapp_extra_data:o()(o()({},this.getWeappExtraData()),e.weappExtraData||{})}}reportClick(e){return this.lastClickTime=+new Date,this.reportExpOrClk(o()({reportType:"click"},e)).catch((e=>{throw this.reportAdMonitorData(me.IN.CLICK_REPORT_ERROR,e),e}))}reportExposure(e){return"showed"===e.exposureType&&this.adProxy.checkPreloadH5Page(),this.lastExposureTime=+new Date,this.reportExpOrClk(o()({reportType:"exposure"},e)).catch((e=>{throw this.reportAdMonitorData(me.IN.EXPOSURE_REPORT_ERROR,e),e}))}reportFlooringPage(e,t){const i={aid:parseInt(this.data.aid,10),traceid:this.data.traceid,publisher_appid:this.pluginAppid?this.pluginAppid:D.S3.gameAppId,orig_weapp_id:this.pluginAppid?D.S3.gameAppId:""},n=null==t?void 0:t.map((e=>o()(o()({},i),e))),r={};return 1===e?r.rewared_video_ending_page_a=n:2===e&&(r.rewared_video_ending_page_b=n),(0,f.Lo)({apiName:"advert_report",reqData:{report_action:"comm_real_report",report_data_json:JSON.stringify(r)}})}reportAntifraud(e){const t=o()(o()({},e),{},{aid:parseInt(this.data.aid,10),traceid:this.data.traceid,publisher_appid:this.pluginAppid?this.pluginAppid:D.S3.gameAppId,orig_weapp_id:this.pluginAppid?D.S3.gameAppId:"",network_type:D.S3.adNetworkType,wechat_version:D.S3.wechatVersion,platform:D.S3.platform,system_version:D.S3.systemVersion,device_orientation:D.S3.deviceOrientation,wxapp_lib_version:D.S3.SDKVersion,crt_size:this.data.crt_size,product_type:this.data.product_type,adunitid:this.adUnitId,machine_brand:D.S3.brand||"",machine_type:D.S3.model||"",clientimptime:this.lastAdReqTs}),i={};return i.antifraud_table_screen_report=[t],(0,f.Lo)({apiName:"advert_report",reqData:{report_action:"comm_real_report",report_data_json:JSON.stringify(i)}})}reportVideo({playType:e,conditionType:t,muted:i,playDuration:n,videoDuration:r,rewardedTime:a,isRewarded:o}){const s=(0,f.Lo)({apiName:"webapi_advideo_report",reqData:{aid:parseInt(this.data.aid,10),traceid:this.data.traceid,trace_id:this.data.traceid,viewid:this.data.wx_game_video.short_video.viewid,video_play_info:{play_type:{unknown:0,complete:1,partial:2,error:3}[e],play_duration:n-this.lastVideoReportTime,video_duration:r,auto_play:!0,muted:i,rewarded_time:a&&Math.min(a,r),is_rewarded:o},report_type:{unknown:0,land:1,end:2,start:3,exit:4,close:5}[t]}});return this.lastVideoReportTime=n,s}getWxaReportDetail({top:e=0,left:t=0}){return{page_x:t||0,page_y:e||0,screen_x:t||0,screen_y:e||0,ad_number:bt-1,ad_unit_number:At.size,ad_index:this.index,page_enter_time:D.S0.enterForegroundTime.valueOf(),phone_screen_width:D.S3.screenWidth,phone_screen_height:D.S3.screenHeight}}getWeappExtraData(){var e,t;return{weixin_version:D.S3.wechatVersion,os_version:D.S3.systemVersion,machine_brand:D.S3.brand||"",machine_type:D.S3.model,network_type:D.S3.adNetworkType,start_ts:D.S3.startTime.valueOf(),enter_ts:D.S0.enterForegroundTime.valueOf(),user_duration:D.S0.gameDuration+(Date.now()-D.S0.enterForegroundTime.getTime()),imp_time:this.lastAdReqTs,exp_time:this.lastExposureTime,clk_time:this.lastClickTime,env:null===(e=u.Z.host)||void 0===e?void 0:e.env,app_appid:null===(t=u.Z.host)||void 0===t?void 0:t.appId}}composeExposureCommonInfo({top:e=0,left:t=0,width:i=0,height:n=0,adType:r="incentive-video"}){let a;try{a=this.data.weapp_info.original_id}catch(e){}const s=o()({},(0,D.v3)()),l=this.getWeappExtraData(),c=this.getWxaReportDetail({top:e,left:t}),d={report_type:0,pos_id:I.DX[this.adType],sdk_version:D.S3.SDKVersion,aid:this.data.aid,traceid:this.data.traceid,trace_id:this.data.traceid,ad_group_id:this.data.group_id,weapp_ghid:a,rl:this.data.rl,pt:this.data.pt,screen_cnt:1,ad_w:i,ad_h:n,from_game:1,from_h5:0,wegame_start_ts:D.S3.startTime.valueOf(),wegame_enter_ts:D.S0.enterForegroundTime.valueOf(),wegame_user_duration:D.S0.gameDuration+(Date.now()-D.S0.enterForegroundTime.getTime()),pos_type:I.UJ[r],wxa_report_detail:c,weapp_extra_data:JSON.stringify(l),ext_exposure_comm:JSON.stringify(s)};return JSON.stringify(d)}reportInstallFollow(e){const{condition:t}=this.data;t&&1===t.widget_gray_report_install_follow&&(0,f.Lo)({apiName:"advert_report",reqData:{report_action:"comm_real_report",report_data_json:JSON.stringify(e)}})}reportAnalyseDebugInfo(e){const t=I.wE[this.adType];return t||this.reportAdMonitorData(me.IN.ANALYSE_DEBUG_REPORT_ERROR,new Error(`invalid reportType ${this.adType}`)),(0,f.Lo)({apiName:"webapi_reportbranchanalyticsfordebugtool",reqData:{itemList:[{branchId:e.branchId,branchDim:e.branchDim,reportType:t}]}}).catch((e=>{this.reportAdMonitorData(me.IN.ANALYSE_DEBUG_REPORT_ERROR,e)}))}reportIPV4(){setTimeout((()=>{try{var e;const t=this.datas&&this.datas.length>0?this.datas[0]:this.data;null!=t&&null!==(e=t.extBackComm)&&void 0!==e&&e.ip_ping_url&&rt({url:(0,p.Uj)(t.extBackComm.ip_ping_url)})}catch(e){}}),2e3)}},l()(wt.prototype,"getLastClickTime",[at],Object.getOwnPropertyDescriptor(wt.prototype,"getLastClickTime"),wt.prototype),l()(wt.prototype,"getLastAdReqTs",[ot],Object.getOwnPropertyDescriptor(wt.prototype,"getLastAdReqTs"),wt.prototype),l()(wt.prototype,"setLastExposureTime",[st],Object.getOwnPropertyDescriptor(wt.prototype,"setLastExposureTime"),wt.prototype),l()(wt.prototype,"setLastClickTime",[lt],Object.getOwnPropertyDescriptor(wt.prototype,"setLastClickTime"),wt.prototype),l()(wt.prototype,"setLastAdReqTs",[ct],Object.getOwnPropertyDescriptor(wt.prototype,"setLastAdReqTs"),wt.prototype),l()(wt.prototype,"reportFollow",[dt],Object.getOwnPropertyDescriptor(wt.prototype,"reportFollow"),wt.prototype),l()(wt.prototype,"getExpOrClkCommonArgs",[ut],Object.getOwnPropertyDescriptor(wt.prototype,"getExpOrClkCommonArgs"),wt.prototype),l()(wt.prototype,"reportClick",[pt],Object.getOwnPropertyDescriptor(wt.prototype,"reportClick"),wt.prototype),l()(wt.prototype,"reportExposure",[ht],Object.getOwnPropertyDescriptor(wt.prototype,"reportExposure"),wt.prototype),l()(wt.prototype,"reportFlooringPage",[ft],Object.getOwnPropertyDescriptor(wt.prototype,"reportFlooringPage"),wt.prototype),l()(wt.prototype,"reportAntifraud",[yt],Object.getOwnPropertyDescriptor(wt.prototype,"reportAntifraud"),wt.prototype),l()(wt.prototype,"reportVideo",[_t],Object.getOwnPropertyDescriptor(wt.prototype,"reportVideo"),wt.prototype),l()(wt.prototype,"getWxaReportDetail",[gt],Object.getOwnPropertyDescriptor(wt.prototype,"getWxaReportDetail"),wt.prototype),l()(wt.prototype,"composeExposureCommonInfo",[mt],Object.getOwnPropertyDescriptor(wt.prototype,"composeExposureCommonInfo"),wt.prototype),l()(wt.prototype,"reportInstallFollow",[vt],Object.getOwnPropertyDescriptor(wt.prototype,"reportInstallFollow"),wt.prototype),l()(wt.prototype,"reportAnalyseDebugInfo",[Et],Object.getOwnPropertyDescriptor(wt.prototype,"reportAnalyseDebugInfo"),wt.prototype),l()(wt.prototype,"reportIPV4",[It],Object.getOwnPropertyDescriptor(wt.prototype,"reportIPV4"),wt.prototype),wt);function St(e){return{appId:e.weapp_info&&e.weapp_info.appid,appType:46==e.product_type?1004:1e3,path:e.url,openRate:e.extBackComm&&e.extBackComm.pctr||0}}var Ct,Pt,Dt,Ot,kt,xt,Rt,Nt,Mt,Lt,Ft,jt,Wt;let Ut=(Ct=b(),Pt=b(),Dt=b(),Ot=b(),kt=b(),xt=b(),Rt=b(),Nt=b(),Mt=b(),Lt=b(),Ft=b(),jt=b(),Wt=class{constructor(e){this.adProxy=e,this.isAppInstalled=!1}get adType(){return this.adProxy.getAdType()}get data(){return this.adProxy.data}get datas(){return this.adProxy.datas}get reportAdMonitorData(){return this.adProxy.reportAdMonitorData}get isValidCondition(){return this.adProxy.isValidCondition}getFullRl(){let{rl:e}=this.data;try{/viewid=([^&]+)/.test(e)||(-1===e.indexOf("?")?e+=`?viewid=${this.data.extBackComm.viewid}`:e+=`&viewid=${this.data.extBackComm.viewid}`)}catch(e){}return e}getFollowPageUrl(e,t){const i={source:4,tid:e.traceid,pt:e.pt,aid:e.aid,ad_engine:e.is_cpm?1:0,pos_type:e.pos_type,jsapi_scene:D.S3.isWaGame?147:140};return(0,C.a3)(t,i)}getSkAdItem(){var e,t;let i=null;const n=this.data;if(null!=n&&null!==(e=n.condition)&&void 0!==e&&e.widget_gray_webstore&&null!=n&&null!==(t=n.extBackComm)&&void 0!==t&&t.sk_ad_items)try{i=JSON.parse(n.extBackComm.sk_ad_items)[0]}catch(e){}return i}isPrefetch(e){var t,i,n,r,a,o,s,l;const c={url:this.data.url,jump_url:this.data.button_action.jump_url,playable_url:null===(t=this.data.crtInfo)||void 0===t||null===(i=t[0])||void 0===i||null===(n=i.wxgame_video_card)||void 0===n||null===(r=n.flooring_page)||void 0===r?void 0:r.page_url}[e],d={url:this.data.dest_type===ye.DEST_TYPE_OUTER,jump_url:(null===(a=this.data.button_action)||void 0===a?void 0:a.jump_type)===ye.DEST_TYPE_OUTER,playable_url:!0}[e];return c&&d&&Boolean(null===(o=this.data)||void 0===o||null===(s=o.extBackComm)||void 0===s||null===(l=s.material_handler_info)||void 0===l?void 0:l.h5_preload_info[e])}getTransmissionChainData({logtype:e=3}){const t={traceid:this.data.traceid,trace_id:this.data.traceid,product_type:this.data.pt,jump_url:encodeURIComponent(this.data.url),rl:encodeURIComponent(this.getFullRl()),logtype:e};return Object.keys(t).map((e=>`${e}=${t[e]}`)).join("&")}setAppInstallState(e){this.isAppInstalled=e}land({isButton:e=!1}={}){var t=this;return r()((function*(){const{dest_type:i,product_type:n,url:r}=t.data,a={isButton:e};if(!e){if(t.isPrefetch("url")&&t.adProxy.reportAdMonitorData(me.IN.H5_PRELOAD_CARD_CLICKED),[12,19].indexOf(n)>-1){const{app_info:{url_scheme:e}}=t.data;let n;var o;if(D.S3.isIOS)n=JSON.stringify({aid:t.data.aid,ad_uid:null===(o=t.data.extBackComm)||void 0===o?void 0:o.uid,scene_id:4001});const s=t.getSkAdItem();return e&&e.trim().length>0?D.S3.isAndroid&&!t.isAppInstalled?t.landPage(i,r,a):t.adProxy.launchApplication({schemeUrl:e,isIosDirect:D.S3.isIOS,appInfo:t.data.app_info,extraData:n,skAdItem:s}).catch((e=>(null!==s&&t.reportAdMonitorData(me.IN.OPEN_WEBSTORE_ERROR,e),t.landPage(i,r,a)))):t.landPage(i,r,a)}return t.landPage(i,r,a)}{t.isPrefetch("jump_url")&&t.adProxy.reportAdMonitorData(me.IN.H5_PRELOAD_BUTTON_CLICKED);const{button_action:{jump_type:e,jump_url:i}}=t.data;if(n===Ee.IOS)return t.openAppStore();if(n!==Ee.WE_CHAT)return t.landPage(e,i,a);{const{biz_info:{user_name:n,is_subscribed:o}}=t.data;if(o)return 10===e?t.landPage(e,r,a):(0,f.Yo)({url:t.getFollowPageUrl(t.data,i),adInfo:t.getTransmissionChainData({logtype:3})});try{const e=yield t.adProxy.addContact({username:n,isWaGame:D.S3.isWaGame}),{ext_info:i,uxinfo:r}=t.data;let a;try{a=JSON.parse(i)}catch(e){}if(/ok|added/.test(e.errMsg)&&a&&a.guide_group_id&&r)try{yield(0,y.LQ)({guide_group_id:a.guide_group_id,uxinfo:r}),t.adProxy.reportAdIDKey({key:me.IN.BIND_GUIDE_SUCCESS})}catch(e){t.reportAdMonitorData(me.IN.BIND_GUIDE_ERROR,e)}return e}catch(e){if(/cancel/.test(e.errMsg))return e;throw t.reportAdMonitorData(me.IN.ADD_CONTACT_ERROR,e),e}}}}))()}landPage(e,t,i){if(e===ye.DEST_TYPE_APPDETAIL&&D.S3.isIOS){var n;const{app_info:{appinfo_url:e}}=this.data,t=JSON.stringify({aid:this.data.aid,ad_uid:null===(n=this.data.extBackComm)||void 0===n?void 0:n.uid,scene_id:4001}),i=this.getSkAdItem();return this.adProxy.launchApplication({schemeUrl:e,extraData:t,skAdItem:i}).catch((t=>(null!==i&&this.reportAdMonitorData(me.IN.OPEN_WEBSTORE_ERROR,t),(0,f.Yo)({url:e,adInfo:this.getTransmissionChainData({logtype:3})}).catch((e=>{throw this.reportAdMonitorData(me.IN.OPEN_URL_ERROR,e),e})))))}if(e===ye.DEST_TYPE_BIZ)return(0,f.Yo)({url:this.getFollowPageUrl(this.data,t),adInfo:this.getTransmissionChainData({logtype:3})}).catch((e=>{throw this.reportAdMonitorData(me.IN.OPEN_URL_ERROR,e),e}));if(e===ye.DEST_TYPE_WECHAT_APPLET){const{weapp_info:{appid:e},traceid:i,aid:n,uxinfo:r}=this.data;return(0,f.Be)({appId:e,path:t,traceid:i,aid:n,adInfo:this.getTransmissionChainData({logtype:3}),adUxInfo:r}).catch((e=>{throw this.reportAdMonitorData(me.IN.OPEN_WXAPP_ERROR,e),e}))}if(e===ye.DEST_TYPE_CANVAS){const{canvas_info:e,pos_type:t}=this.data;return(0,f._t)({canvasInfo:e,posType:t}).catch((e=>{throw this.reportAdMonitorData(me.IN.OPEN_CANVAS_ERROR,e),e}))}if(10===e){const{biz_info:{user_name:e}}=this.data;return this.adProxy.openProfile({username:e}).catch((e=>{throw e}))}return e===ye.DEST_TYPE_CHANNELS?this.jumpChannels("activity",i):e===ye.DEST_TYPE_CHANNELS_LIVE?this.jumpChannels("live",i):e===ye.DEST_TYPE_CHANNELS_USER_PROFILE?this.jumpChannels("userProfile",i):(0,f.Yo)({url:t,adInfo:this.getTransmissionChainData({logtype:3}),adUxInfo:this.data.uxinfo}).catch((e=>{throw this.reportAdMonitorData(me.IN.OPEN_URL_ERROR,e),e}))}getChannelsExtraInfo(e){return JSON.stringify({sns_ad:{uxinfo:this.data.uxinfo||"",snsid:"",scene:e}}).replace(/,/g,";")}jumpChannels(e,{isButton:t}){var i=this;return r()((function*(){var n;const r=null===(n=i.data)||void 0===n?void 0:n.extBackComm.channels_info,{crt_size:a,apurl:s,rl:l}=i.data,c={feedId:r.id,nonceId:r.nonce_id,finderUserName:r.username,reportExtraInfo:i.getChannelsExtraInfo(t?Oe.ACTIONBUTTON:Oe.RESOURCE)},d={activity:me.IN.OPEN_CHANNELS_ACTIVITY_SUCCESS,live:me.IN.OPEN_CHANNELS_LIVE_SUCCESS,userProfile:me.IN.OPEN_CHANNELS_USER_PROFILE_SUCCESS}[e],u={activity:me.IN.OPEN_CHANNELS_ACTIVITY_FAILED,live:me.IN.OPEN_CHANNELS_LIVE_FAILED,userProfile:me.IN.OPEN_CHANNELS_USER_PROFILE_FAILED}[e];if(r){if("activity"===e&&a===ve.CRT_SIZE_REWARD_LANDINGPAGE)try{const e=yield i.adProxy.openChannelsRewardedVideoAd(o()(o()({},c),{},{expReportLink:s,clkReportLink:l,reportInfo:i.adProxy.getExpOrClkCommonArgs({top:0,left:0,width:D.S3.screenWidth,height:D.S3.screenHeight}),clickPosMap:{follow:Se.MMOCAD_CLICKPOS_BIZ_FOLLOW,like:Se.MMOCAD_CLICKPOS_BIZ_LIKE,comment:Se.MMOCAD_CLICKPOS_BIZ_COMMENT,headimage:Se.MMOCAD_CLICKPOS_BIZ_HEADIMAGE,nickname:Se.MMOCAD_CLICKPOS_BIZ_NICKNAME,forward:Se.MMOCAD_CLICKPOS_BIZ_MATERIAL_FORWARD},feedbackUrl:i.getFeedbackUrl(D.S3.isWaGame?1003:1005)}));return i.reportAdMonitorData(d),e}catch(e){i.reportAdMonitorData(u,e)}try{switch(e){case"activity":yield i.adProxy.openChannelsRewardedVideoAd(o()(o()({},c),{},{adJSAPIType:1}));break;case"live":yield i.adProxy.openChannelsLive(c);break;case"userProfile":yield i.adProxy.openChannelsUserProfile(c)}return void i.reportAdMonitorData(d)}catch(e){i.reportAdMonitorData(u,e)}}i.reportAdMonitorData(u,new Error("channelsInfo is empty"))}))()}openAppStore(){var e;const{app_info:{appinfo_url:t,url_scheme:i}}=this.data,n=JSON.stringify({aid:this.data.aid,ad_uid:null===(e=this.data.extBackComm)||void 0===e?void 0:e.uid,scene_id:4001}),r=this.getSkAdItem();return i&&i.trim().length>0?this.adProxy.launchApplication({schemeUrl:i,isIosDirect:!0,appInfo:this.data.app_info,extraData:n,skAdItem:r}).catch((()=>this.adProxy.launchApplication({schemeUrl:t,extraData:n,skAdItem:r}).catch((e=>(null!==r&&this.reportAdMonitorData(me.IN.OPEN_WEBSTORE_ERROR,e),(0,f.Yo)({url:t,adInfo:this.getTransmissionChainData({logtype:3})}).catch((e=>{throw this.reportAdMonitorData(me.IN.OPEN_URL_ERROR,e),e}))))))):this.adProxy.launchApplication({schemeUrl:t,extraData:n,skAdItem:r}).catch((()=>(0,f.Yo)({url:t,adInfo:this.getTransmissionChainData({logtype:3})}).catch((e=>{throw this.reportAdMonitorData(me.IN.OPEN_URL_ERROR,e),e}))))}preloadLanding(){try{if(6===this.data.dest_type){let e=[];const t=[];if("grid"===this.adType?this.datas.forEach((i=>{var n;null!==(n=i.weapp_info)&&void 0!==n&&n.appid&&(e.push(i.weapp_info.appid),t.push(St(i)))})):(e=[this.data.weapp_info.appid],t.push(St(this.data))),(0,ue.IN)("batchGetContact",{appIds:e}),D.S3.isAndroid)this.isValidCondition("widget_gray_batchload_app")&&(0,ue.IN)("batchPreloadMiniProgram",{openParams:{visitScene:D.S0.currentScene,businessScene:1,innerScene:1095},preloadList:t,success:e=>{this.reportAdMonitorData(me.IN.BATCHLOAD_SUCCESS,e)},fail:e=>{this.reportAdMonitorData(me.IN.BATCHLOAD_ERROR,e)}});else if(D.S3.isIOS){let e="app";this.data.product_type===Ee.MINI_GAME&&(e="game"),this.isValidCondition("widget_gray_preload_env")&&(D.S3.isAndroid||"app"===e)&&(0,ue.IN)("preloadMiniProgramEnv",{type:e,success:e=>{this.reportAdMonitorData(me.IN.PRELOAD_MINIENV_SUCCESS,e)},fail:e=>{this.reportAdMonitorData(me.IN.PRELOAD_MINIENV_ERROR,e)}}),this.isValidCondition("widget_gray_predownload_app")&&(0,ue.IN)("predownloadMiniProgramPackage",{username:`${this.data.weapp_info.original_id}@app`,path:this.data.url,scene:1,success:e=>{this.reportAdMonitorData(me.IN.PREDOWNLOAD_SUCCESS,e)},fail:e=>{this.reportAdMonitorData(me.IN.PREDOWNLOAD_ERROR,e)}})}}}catch(e){}}checkFollow(e){return r()((function*(){const{rawData:t}=yield(0,f.Lo)({apiName:"webapi_checkcontact",reqData:{biz_uin:e}});return 1===JSON.parse(t).is_subscribed}))()}getFeedbackUrl(e){const t=this.data.material_id_list||[],i=encodeURIComponent(`[${t.toString()}]`)||"";let n=(0,C.a3)("https://mp.weixin.qq.com/promotion/res/htmledition/mobile/html/feedback.html#wechat_redirect",{aid:this.data.aid,traceid:this.data.traceid,source:e,material_id:i||"",machine_type:D.S3.model,publisher_appid:D.S3.gameAppId});if("grid"===this.adType){const t="https://mp.weixin.qq.com/promotion/res/htmledition/mobile/html/feedback.html?ismulity=1#wechat_redirect",i=[],r=[],a=[];this.datas.forEach((e=>{i.push(e.traceid),r.push(e.material_id_list||[]),a.push(e.aid)}));const o={traceid:JSON.stringify(i),source:e,aid:JSON.stringify(a),material_id:JSON.stringify(r),machine_type:D.S3.model,publisher_appid:D.S3.gameAppId};n=(0,C.a3)(t,o)}return n}openFeedbackUrl(e){const t=this.getFeedbackUrl(e);return(0,f.Yo)({url:t})}checkPreloadH5Page(){var e=this;return r()((function*(){var t,i,n,r,a;const o=new Set;let{url:s}=e.data,l=null===(t=e.data.button_action)||void 0===t?void 0:t.jump_url,c=null===(i=e.data.crtInfo)||void 0===i||null===(n=i[0])||void 0===n||null===(r=n.wxgame_video_card)||void 0===r||null===(a=r.flooring_page)||void 0===a?void 0:a.page_url;e.isPrefetch("url")&&("1"!==(0,C.Wz)(s).prefetch&&(s=(0,C.a3)(s,{prefetch:1}),e.data.url=s),o.add(s)),e.isPrefetch("jump_url")&&("1"!==(0,C.Wz)(l).prefetch&&(l=(0,C.a3)(l,{prefetch:1}),e.data.button_action.jump_url=l),o.add(l)),e.isPrefetch("playable_url")&&("1"!==(0,C.Wz)(c).prefetch&&(c=(0,C.a3)(c,{prefetch:1}),e.data.crtInfo[0].wxgame_video_card.flooring_page.page_url=c),o.add(c));const d=[...o].map((e=>({url:e,bizScene:20002})));if(d.length)try{yield e.adProxy.preloadH5Page({urlList:d}),e.reportAdMonitorData(me.IN.H5_PRELOAD_SUCCESS)}catch(t){e.reportAdMonitorData(me.IN.H5_PRELOAD_FAILED,t)}}))()}},l()(Wt.prototype,"isPrefetch",[Ct],Object.getOwnPropertyDescriptor(Wt.prototype,"isPrefetch"),Wt.prototype),l()(Wt.prototype,"getTransmissionChainData",[Pt],Object.getOwnPropertyDescriptor(Wt.prototype,"getTransmissionChainData"),Wt.prototype),l()(Wt.prototype,"setAppInstallState",[Dt],Object.getOwnPropertyDescriptor(Wt.prototype,"setAppInstallState"),Wt.prototype),l()(Wt.prototype,"land",[Ot],Object.getOwnPropertyDescriptor(Wt.prototype,"land"),Wt.prototype),l()(Wt.prototype,"landPage",[kt],Object.getOwnPropertyDescriptor(Wt.prototype,"landPage"),Wt.prototype),l()(Wt.prototype,"getChannelsExtraInfo",[xt],Object.getOwnPropertyDescriptor(Wt.prototype,"getChannelsExtraInfo"),Wt.prototype),l()(Wt.prototype,"openAppStore",[Rt],Object.getOwnPropertyDescriptor(Wt.prototype,"openAppStore"),Wt.prototype),l()(Wt.prototype,"preloadLanding",[Nt],Object.getOwnPropertyDescriptor(Wt.prototype,"preloadLanding"),Wt.prototype),l()(Wt.prototype,"checkFollow",[Mt],Object.getOwnPropertyDescriptor(Wt.prototype,"checkFollow"),Wt.prototype),l()(Wt.prototype,"getFeedbackUrl",[Lt],Object.getOwnPropertyDescriptor(Wt.prototype,"getFeedbackUrl"),Wt.prototype),l()(Wt.prototype,"openFeedbackUrl",[Ft],Object.getOwnPropertyDescriptor(Wt.prototype,"openFeedbackUrl"),Wt.prototype),l()(Wt.prototype,"checkPreloadH5Page",[jt],Object.getOwnPropertyDescriptor(Wt.prototype,"checkPreloadH5Page"),Wt.prototype),Wt);const Vt=BabelRuntimeHelpers.initializerDefineProperty;var Bt=i.n(Vt);BabelRuntimeHelpers.initializerWarningHelper;var Zt=i(2642);const Gt=(0,i(1130).Z)("getChannelsLiveInfo","webapi_getfinderviewlastlive",{},{},(({feedId:e,finderUserName:t})=>({export_id:e,finder_username:t})),(e=>{e.live_info&&e.live_info.length&&(e.feedId=e.live_info[0].export_id,e.nonceId=e.live_info[0].nonce_id,e.description=e.live_info[0].description,e.status=e.live_info[0].status,e.headUrl=e.live_info[0].head_url,e.nickname=e.live_info[0].nickname),delete e.live_info,delete e.rawData}));var Ht,$t,Yt,zt,qt,Kt,Jt,Xt,Qt,ei,ti,ii,ni,ri,ai,oi,si,li,ci,di,ui,pi,hi,fi,yi,_i,gi,mi,vi,Ei,Ii,wi,bi,Ai,Ti,Si,Ci,Pi,Di,Oi,ki,xi,Ri,Ni,Mi,Li,Fi,ji,Wi,Ui,Vi,Bi=i(2582);const{makeApiSign:Zi}=__safeway__.apiSign,Gi=e=>t=>new Promise(((i,n)=>{e(Object.assign({},t,{success:i,fail:n}))})),Hi=(e,t,i)=>{var n;e.errMsg=e.errMsg||`${t}:ok`;const r=0===e.errMsg.indexOf(`${t}:ok`),a=0===e.errMsg.indexOf(`${t}:fail`);var o;if(r)null==i||null===(o=i.success)||void 0===o||o.call(i,e);else if(a){var s;null==i||null===(s=i.fail)||void 0===s||s.call(i,e)}null==i||null===(n=i.complete)||void 0===n||n.call(i,e)},$i=({username:e,success:t,fail:i,complete:n})=>{(0,ue.IN)("profile",{username:e,scene:75,success:t,fail:i,complete:n})},Yi=({username:e,isWaGame:t,success:i,fail:n,complete:r})=>{(0,ue.IN)("private_addContact",{username:e,scene:t?146:139,webtype:1,success:i,fail:n,complete:r})},zi=({schemeUrl:e,isIosDirect:t,appInfo:i,extraData:n,skAdItem:r,success:a,fail:o,complete:s})=>{const l={};t&&(l.appId=i.app_id,l.installSchemeUrl=i.appinfo_url,null!==r?(l.installAction=1,l.skAdItem=r):l.installAction=0),n&&(l.extraData=n),(0,ue.IN)("launchApplication",Object.assign(l,{schemeUrl:e,operateDirectly:1,success:a,fail:o,complete:s}))},qi=({appUrl:e,extraData:t,skAdItem:i,success:n,fail:r,complete:a})=>{const o=Zi("downloadAppInternal",{appUrl:e,extraData:t,skAdItem:i,operateDirectly:1,success:n,fail:r,complete:a});(0,ue.IN)("downloadAppInternal",o)},Ki=({packageName:e,success:t,fail:i,complete:n})=>{const r=Zi("getInstallState",{packageName:e,permissionBytes:[1,1,1],success:t,fail:i,complete:n});(0,ue.IN)("getInstallState",r)},Ji=({downloadId:e,success:t,fail:i,complete:n})=>{(0,ue.IN)("queryDownloadTask",{downloadId:e,permissionBytes:[1,1,1],success:t,fail:i,complete:n})},Xi=({downloadId:e,success:t,fail:i,complete:n})=>{(0,ue.IN)("pauseDownloadTask",{downloadId:e,permissionBytes:[1,1,1],success:t,fail:i,complete:n})},Qi=({downloadId:e,success:t,fail:i,complete:n})=>{(0,ue.IN)("resumeDownloadTask",{downloadId:e,permissionBytes:[1,1,1],success:t,fail:i,complete:n})},en=({downloadId:e,success:t,fail:i,complete:n})=>{const r=Zi("installDownloadTask",{downloadId:e,permissionBytes:[1,1,1],success:t,fail:i,complete:n});(0,ue.IN)("installDownloadTask",r)},tn=({isHide:e,success:t,fail:i,complete:n})=>{(0,ue.IN)("setNavigationBarRightButton",{hide:e,success:t,fail:i,complete:n})},nn=({isHide:e,success:t,fail:i,complete:n})=>{(0,ue.IN)("private_setNavigationBarRightButton",{hide:e,success:t,fail:i,complete:n})},rn=({resources:e,success:t,fail:i,complete:n})=>{(0,ue.IN)("loadVideoResource",{resources:e,success:t,fail:i,complete:n})},an=({orientation:e,success:t,fail:i,complete:n})=>{(0,ue.IN)("private_setPageOrientation",{orientation:e,success:t,fail:i,complete:n})},on=({success:e,fail:t,complete:i}={})=>{(0,ue.IN)("hideVirtualBottomNavigationBar",{success:e,fail:t,complete:i})},sn=({success:e,fail:t,complete:i}={})=>{(0,ue.IN)("showVirtualBottomNavigationBar",{success:e,fail:t,complete:i})},ln=({success:e,fail:t,complete:i}={})=>{(0,ue.IN)("showStatusBar",{success:e,fail:t,complete:i})},cn=({success:e,fail:t,complete:i}={})=>{(0,ue.IN)("hideStatusBar",{success:e,fail:t,complete:i})},dn=({success:e,fail:t,complete:i,feedId:n,nonceId:r,finderUserName:a,reportExtraInfo:o})=>{(0,Zt.d)("openChannelsActivity",{feedId:n,nonceId:r,finderUserName:a,reportExtraInfo:o,permissionBytes:[1,1,1]},(n=>{Hi(n,"openChannelsActivity",{success:e,fail:t,complete:i})}))},un=({success:e,fail:t,complete:i,feedId:n,nonceId:r,finderUserName:a,reportExtraInfo:o})=>{(0,Zt.d)("openChannelsLive",{feedId:n,nonceId:r,finderUserName:a,reportExtraInfo:o,permissionBytes:[1,1,1]},(n=>{Hi(n,"openChannelsLive",{success:e,fail:t,complete:i})}))},pn=({success:e,fail:t,complete:i,finderUserName:n,reportExtraInfo:r})=>{(0,Zt.d)("openChannelsUserProfile",{finderUserName:n,reportExtraInfo:r,permissionBytes:[1,1,1]},(n=>{Hi(n,"openChannelsUserProfile",{success:e,fail:t,complete:i})}))},hn=({success:e,fail:t,complete:i,feedId:n,nonceId:r,finderUserName:a,reportExtraInfo:o,adJSAPIType:s,expReportLink:l,clkReportLink:c,reportInfo:d,clickPosMap:u,feedbackUrl:p})=>{(0,ue.IN)("openChannelsRewardedVideoAd",{feedId:n,nonceId:r,finderUserName:a,reportExtraInfo:o,adJSAPIType:s,expReportLink:l,clkReportLink:c,reportInfo:d,clickPosMap:u,feedbackUrl:p,success:e,fail:t,complete:i})},fn=({mixWithOther:e=!0,obeyMuteSwitch:t=!0,success:i,fail:n,complete:r})=>{(0,ue.IN)("setInnerAudioOption",{mixWithOther:e,obeyMuteSwitch:t,success:i,fail:n,complete:r})},yn=({urlList:e,success:t,fail:i,complete:n})=>{(0,ue.IN)("private_onWebPageUrlExposed",{urlList:e,success:t,fail:i,complete:n})},_n=Gi((({taskName:e,taskUrl:t,fileMd5:i,extInfo:n,success:r,fail:a,complete:o})=>{const s=Zi("addDownloadTaskStraight",{taskName:e,taskUrl:t,fileMd5:i,extInfo:n,permissionBytes:[1,1,1],success:r,fail:a,complete:o});(0,ue.IN)("addDownloadTaskStraight",s)}));let gn=(Ht=b(),$t=b(),Yt=b(),zt=b(),qt=b(),Kt=b(),Jt=b(),Xt=b(),Qt=b(),ei=b(),ti=b(),ii=b(),ni=b(),ri=b(),ai=b(),oi=b(),si=b(),li=b(),ci=b(),di=b(),ui=b(),pi=b(),hi=b(),fi=b(),yi=b(),_i=class{constructor(){Bt()(this,"setNavigationBarRightButton",gi,this),Bt()(this,"setMiniProgramNavigationBarRightButton",mi,this),Bt()(this,"hideVirtualBottomNavigationBar",vi,this),Bt()(this,"showVirtualBottomNavigationBar",Ei,this),Bt()(this,"showStatusBar",Ii,this),Bt()(this,"hideStatusBar",wi,this),Bt()(this,"openProfile",bi,this),Bt()(this,"addContact",Ai,this),Bt()(this,"downloadAppInternal",Ti,this),Bt()(this,"openChannelsActivity",Si,this),Bt()(this,"openChannelsRewardedVideoAd",Ci,this),Bt()(this,"openChannelsLive",Pi,this),Bt()(this,"openChannelsUserProfile",Di,this),Bt()(this,"getChannelsLiveInfo",Oi,this),Bt()(this,"getNetworkType",ki,this),Bt()(this,"preloadH5Page",xi,this),this.innerPreloadVideo=Gi(rn),Bt()(this,"preloadVideo",Ri,this),this.innerLaunchApplication=Gi(zi),Bt()(this,"launchApplication",Ni,this),this.innerGetInstallState=Gi(Ki),Bt()(this,"getInstallState",Mi,this),this.innerQueryDownloadTask=Gi(Ji),Bt()(this,"queryDownloadTask",Li,this),this.innerPauseDownloadTask=Gi(Xi),Bt()(this,"pauseDownloadTask",Fi,this),this.innerResumeDownloadTask=Gi(Qi),Bt()(this,"resumeDownloadTask",ji,this),this.innerInstallDownloadTask=Gi(en),Bt()(this,"installDownloadTask",Wi,this),this.innerSetPageOrientation=Gi(an),Bt()(this,"setPageOrientation",Ui,this),this.innerSetInnerAudioOption=Gi(fn),Bt()(this,"setInnerAudioOption",Vi,this)}},gi=l()(_i.prototype,"setNavigationBarRightButton",[Ht],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return Gi(tn)}}),mi=l()(_i.prototype,"setMiniProgramNavigationBarRightButton",[$t],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return Gi(nn)}}),vi=l()(_i.prototype,"hideVirtualBottomNavigationBar",[Yt],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return Gi(on)}}),Ei=l()(_i.prototype,"showVirtualBottomNavigationBar",[zt],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return Gi(sn)}}),Ii=l()(_i.prototype,"showStatusBar",[qt],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return Gi(ln)}}),wi=l()(_i.prototype,"hideStatusBar",[Kt],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return Gi(cn)}}),bi=l()(_i.prototype,"openProfile",[Jt],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return Gi($i)}}),Ai=l()(_i.prototype,"addContact",[Xt],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return Gi(Yi)}}),Ti=l()(_i.prototype,"downloadAppInternal",[Qt],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return Gi(qi)}}),Si=l()(_i.prototype,"openChannelsActivity",[ei],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return Gi(dn)}}),Ci=l()(_i.prototype,"openChannelsRewardedVideoAd",[ti],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return Gi(hn)}}),Pi=l()(_i.prototype,"openChannelsLive",[ii],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return Gi(un)}}),Di=l()(_i.prototype,"openChannelsUserProfile",[ni],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return Gi(pn)}}),Oi=l()(_i.prototype,"getChannelsLiveInfo",[ri],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return Gi(Gt)}}),ki=l()(_i.prototype,"getNetworkType",[ai],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return Gi(je._V)}}),xi=l()(_i.prototype,"preloadH5Page",[oi],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return Gi(yn)}}),Ri=l()(_i.prototype,"preloadVideo",[si],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return e=>this.innerPreloadVideo({resources:e})}}),Ni=l()(_i.prototype,"launchApplication",[li],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return e=>{const t="string"==typeof e?{schemeUrl:e}:e;return!Bi.cj||null!=t&&t.isIosDirect||null===(null==t?void 0:t.skAdItem)?this.innerLaunchApplication(t):this.downloadAppInternal({appUrl:t.schemeUrl,extraData:null==t?void 0:t.extraData,skAdItem:null==t?void 0:t.skAdItem})}}}),Mi=l()(_i.prototype,"getInstallState",[ci],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return e=>this.innerGetInstallState({packageName:e})}}),Li=l()(_i.prototype,"queryDownloadTask",[di],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return e=>this.innerQueryDownloadTask({downloadId:e})}}),Fi=l()(_i.prototype,"pauseDownloadTask",[ui],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return e=>this.innerPauseDownloadTask({downloadId:e})}}),ji=l()(_i.prototype,"resumeDownloadTask",[pi],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return e=>this.innerResumeDownloadTask({downloadId:e})}}),Wi=l()(_i.prototype,"installDownloadTask",[hi],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return e=>this.innerInstallDownloadTask({downloadId:e})}}),Ui=l()(_i.prototype,"setPageOrientation",[fi],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return e=>this.innerSetPageOrientation({orientation:e})}}),Vi=l()(_i.prototype,"setInnerAudioOption",[yi],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return(e,t)=>this.innerSetInnerAudioOption({mixWithOther:e,obeyMuteSwitch:t})}}),_i);var mn,vn,En,In,wn,bn,An,Tn,Sn,Cn,Pn,Dn,On,kn,xn,Rn;let Nn=!1,Mn=(mn=T("handleAdDataDone"),vn=S("handleAdDataError"),En=T("handleAdDataDone"),In=S("handleAdDataError"),wn=T("handleAdDataDone"),bn=S("handleAdDataError"),An=T("handleAdDataDone"),Tn=S("handleAdDataError"),Sn=T("handleAdDataDone"),Cn=S("handleAdDataError"),Pn=T("handleAdDataDone"),Dn=S("handleAdDataError"),On=T("handleAdDataDone"),kn=S("handleAdDataError"),xn=(e,t,i)=>{const n=i.value;i.value=function(...e){const t=e=>{Ln&&Ln in this&&"function"==typeof this[Ln]&&this[Ln](e)};try{const i=n.call(this,...e);return i instanceof Promise?i.catch((e=>t(e))):i}catch(e){t(e)}}},Rn=class{constructor({adUnitId:e,adType:t,pluginAppid:i=""}){this.adUnitId=void 0,this.adType=void 0,this.pluginAppid=void 0,this.slotData={},this.lastAdRetCode=0,this.lastAdRespone="fetch",this.limitAdReqTime=3e4,this.fetchPromise=null,this.webviewId=D.S0.currentWebviewId,this.fetchRetryCount=0,this.isCanvasXmlHook=!1,this.handledInNewFetch=!1,this.nativeMethodInvoker=new gn,this.mmReporter=void 0,this.cgiReporter=void 0,this.lander=void 0,this.datas=[],this.data={},this.convertedAdData=null,this.isMulti=!1,this.isViewable=!1,this.adDataIndex=0,this.scene=0,"splashAd"!==t&&(0,D.lv)(),this.adUnitId=e,this.adType=t,this.pluginAppid=D.S3.isWaGame?"":i,this.mmReporter=new de(this),this.cgiReporter=new Tt(this),this.lander=new Ut(this),this.bindProxyMethods(),this.setTimePoint("p1"),(0,m.lc)((e=>{if(e.webviewId===D.S0.currentWebviewId&&this.data&&this.isViewable){const{uxinfo:t}=this.data,i=4;(0,_.R)({eventTimeStamp:e.eventTimeStamp?e.eventTimeStamp:+new Date,scene:i,uxinfo:t,url:e.path?e.path:"index.html"})}}))}bindProxyMethods(){const e=[this.nativeMethodInvoker,this.mmReporter,this.cgiReporter,this.lander];for(const r of e){const e=(0,C.Zw)(r);for(const a of e)i=a,n=void 0,(null===(n=(t=r)&&t[w])||void 0===n?void 0:n.has(i))&&(this[a]=(...e)=>r[a](...e))}var t,i,n}isLimitRequest(){return"checkAd"!==this.lastAdRespone&&0!==this.lastAdRetCode&&+new Date-this.getLastAdReqTs()<this.limitAdReqTime}convertTestAdData(e){try{const n=(0,C.Xh)(e),r=JSON.parse(n.crt_exp_info);var t;if(n.crtExpInfo=r,1002===r.exp_type){if(null!==(t=n.wx_game_video)&&void 0!==t&&t.wxgame_video_card){const e=JSON.parse(r.exp_data);n.wx_game_video.wxgame_video_card.flooring_page=e}}else if(1001===r.exp_type){n.profile_exp=!0;const t=r.exp_data&&"string"==typeof r.exp_data?JSON.parse(r.exp_data):r.exp_data;n.dest_type=t.dest_type;let i={};if(n.button_action)try{i=JSON.parse(e.button_action)}catch(e){}i.jump_type=t.jump_type,n.button_action=JSON.stringify(i)}else if(105===r.exp_type)n.ad_style_data=r.exp_data;else if(106===r.exp_type){const e=r.exp_data&&"string"==typeof r.exp_data?JSON.parse(r.exp_data):r.exp_data;(0,C.Ee)(n,e),n.common_exp=!0}else if(r.exp_type&&[108,109,2001].includes(r.exp_type))n.ad_dynamic_list=r.exp_data;else if(r.crt_size&&[ve.CRT_SIZE_WX_APPLICATION_NEW,ve.CRT_SIZE_WX_APPLICATION_X].includes(r.crt_size)){if(n.crt_size=r.crt_size,n.ad_width=r.width,n.material_width=r.width,n.ad_height=r.height,n.material_height=r.height,n.image_url=r.image_url,r.dest_url&&n.url&&[1,3,6].includes(n.dest_type)){const e=(0,C.Wz)(n.url),t={};e.weixinadkey&&(t.weixinadkey=e.weixinadkey),e.ticket&&(t.ticket=e.ticket),e.gdt_vid&&(t.gdt_vid=e.gdt_vid),e.weixinadinfo&&(t.weixinadinfo=e.weixinadinfo),n.url=(0,C.a3)(r.dest_url,t)}n.watermark_text=r.watermark||""}else if(r.landpage_type){var i;null!==(i=n.wx_game_video)&&void 0!==i&&i.wxgame_video_card&&(n.wx_game_video.wxgame_video_card.flooring_page=r)}return n}catch(t){return e}}getFetchArgs({isAdInterval:e},t){var i,n;const r={scene_type:D.S0.currentScene,ad_unit_id:this.adUnitId,appid:this.pluginAppid?this.pluginAppid:D.S3.gameAppId,orig_weapp_id:this.pluginAppid?D.S3.gameAppId:"",weapp_path:D.S0.weappPath,pos_id:"",network_type:D.S3.adNetworkType,orientation:{landscape:1,portrait:2}[D.S3.deviceOrientation],sdk_version:D.S3.SDKVersion,ext_slot_custom_comm:"",weapp_extra_data:JSON.stringify({wxa_start_ts:D.S3.startTime.valueOf(),wxa_enter_ts:D.S0.enterForegroundTime.valueOf(),weixin_version:D.S3.wechatVersion,os_version:D.S3.systemVersion,machine_type:D.S3.model,is_ad_interval:!!e,env:null===(i=u.Z.host)||void 0===i?void 0:i.env,app_appid:null===(n=u.Z.host)||void 0===n?void 0:n.appId})};r.pos_id=I.DX[this.adType];let a={};return"grid"===this.adType?a.box_slot_ad={count:String(this.slotData.gridCount),box_bg_color:"black"===this.slotData.adTheme?"232323":"FFFFFF",box_opacity:Math.floor(100*this.slotData.gridOpacity)}:"splashAd"===this.adType?(a.splash_ad={count:String(5)},a.weapp_enter_scene=(null==t?void 0:t.weappEnterScene)||0,a.request_type=(null==t?void 0:t.requestType)||1,a.check_ad_is_online_ads=(null==t?void 0:t.preloadAds)||[],delete r.appid):"customAd"===this.adType&&(a={is_adunit_tmpl:!0}),(0,p.er)()&&(a.in_3rd_app=1),r.ext_slot_custom_comm=JSON.stringify(a),r}validateFetchEnv(){if((0,p.er)()&&this.reportAdMonitorData(me.IN.THIRD_ERROR),"splashAd"!==this.adType&&!this.adUnitId)throw{errMsg:"no ad unit id"};if(this.isLimitRequest())throw{errMsg:"no advertisement",errCode:this.lastAdRetCode}}validateFetchRes(e){if("-12001"===e.err_code)throw this.lastAdRetCode=e.err_code,{errMsg:"no permission",errCode:-12001};if(this.lastAdRetCode=e.ret,this.lastAdRespone="fetch",!this.isCheckAdIsOnlineRequest(e)){if(!e.advertisement_num||e.advertisement_num<=0)throw{errMsg:"no advertisement",errCode:e.ret};if(!e.advertisement_info)throw e}}validateCrtSize(e){const{pt:t,crt_size:i}=e,n=Ae.includes(t),r=Te.includes(i);if(!n&&!r){if(i&&!r)throw{errMsg:`unexpected advertisement crt_size ${i}`};throw{errMsg:`unexpected advertisement type ${t}`}}}handleAdDataDone(){this.reportAdMonitorData(me.IN.AD_FETCH_SUCCESS),this.reportIPV4()}handleAdDataError(e){this.reportAdMonitorData(me.IN.AD_FETCH_SUCCESS,e)}handleWaidForList(e=[]){const t={};if(e.length<1)return Promise.resolve(t);const i=[];return null==e||e.forEach((e=>{i.push((0,h.p4)(e.apkName).then((t=>o()(o()({},t),{},{aid:e.aid}))))})),Promise.race([Promise.all(i).then((e=>(e.forEach((({waid:e,aid:i=""})=>{e&&i&&(t[i]=e)})),t))).catch((e=>(this.reportAdMonitorData(me.IN.READ_ADINFOS_ERROR,e),t))),(0,v.Vs)(2e3).then((()=>t))])}handleBulkSaveMaterials(e){let t=[];return this.isSplashAd()&&this.data&&(t=this.getSplashAdMaterialList(e)),t.length>0?(0,E.fn)(t):Promise.resolve()}getSplashAdMaterialList(e){var t,i;const n=[],r=(null==e?void 0:e.crtInfo[0])||{},a=e.rerankingExtInfo.material_hash||"",o=(null==r?void 0:r.image_url)||"",s=(null==r||null===(t=r.card_info)||void 0===t?void 0:t.pure_color_url)||"",l=(null==r||null===(i=r.card_info)||void 0===i?void 0:i.material_blur_url)||"",c=`${I.Lq}/${e.aid}_${a}.png`;if(a&&n.push({url:o,fileName:`${e.aid}_${a}.png`,filePath:c}),s){const t=`${I.Lq}/${e.aid}_${a}_pure_color.png`;a&&n.push({url:s,fileName:`${e.aid}_${a}_pure_color.png`,filePath:t})}if(l){const t=`${I.Lq}/${e.aid}_${a}_blur.png`;a&&n.push({url:l,fileName:`${e.aid}_${a}_blur.png`,filePath:t})}return n}handleAdInfosIndexCache(e,t,i){var n=this;return r()((function*(){let r;try{r=yield n.handleWaidForList(e)}catch(e){}t.deviceInfo=(0,D.v3)(),t.waidMap=r,n.reportAdMonitorData(me.IN.READ_ADINFOS_SUCCESS,{adInfos:t});try{return yield(0,E.Z7)(t,i),n.reportAdMonitorData(me.ET.WRITE_ADINFOS_SUCCESS,{adInfos:t})}catch(e){const i=e instanceof Error?n.processStackMsg(e):e;return n.reportAdMonitorData(me.ET.WRITE_ADINFOS_FAIL,{adInfos:t,errMsg:i})}}))()}isCheckAdIsOnlineRequest(e){return this.isSplashAd()&&1010===e.ret&&e.advertisement_extra_info}isCheckAdIsOnlineResp(e){return!("traceid"in e)}handleCheckAdIsOnlineResp(e){var t;const i=null===(t=JSON.parse(e.advertisement_extra_info))||void 0===t?void 0:t.check_ad_resp;return this.lastAdRespone=this.isCheckAdIsOnlineResp(i)?"checkAd":"fetch",i}handleSplashAd(e){var t=this;return r()((function*(){if(t.isCheckAdIsOnlineRequest(e))return t.handleCheckAdIsOnlineResp(e);t.reportAdMonitorData(me.ET.dataLoadSuccess);let i=0;const n=[];let r=[];const a=[],o=`${(0,v.Cy)()}_exposure_times`,s=`${I.Lq}/adinfos.txt`,l={slot_id:I.DX[t.adType],ads:[],crtSizeMap:{},materialHashMap:{},total_exposure_times:0,[o]:0,requestInQueue:"true",totalSizeUsed:0},c=yield(0,E.x1)(I.Lq);l.totalSizeUsed=c.totalSize;let d=c.outedDateFileList||[];d=d.length<21&&c.totalSize>20971520?c.fileList:d;try{yield(0,E.BZ)(I.Lq,d)}catch(e){t.reportAdMonitorData(me.ET.removeFileDataFail,e)}try{const s=e.advertisement_info.length>0&&e.advertisement_info.map(((e,s)=>{var c,d;const u=t.handleAdData(e),p=u.rerankingExtInfo.material_hash||"",h={material_hash:u.rerankingExtInfo.material_hash||"",tid:u.rerankingExtInfo.tid.toString()||"",aid:u.aid,trace_id:u.traceid};l.ads.push(h),l.total_exposure_times=u.rerankingExtInfo.total_exposure_times||0,l[o]=u.rerankingExtInfo[o]||0;const f=null===(c=u.condition)||void 0===c?void 0:c.widget_gray_splash_data_channel_parallel;l.requestInQueue=f?"false":"true",l.isCheckAndFetch=(null===(d=u.condition)||void 0===d?void 0:d.widget_gray_splash_check_and_fetch)||0,l.materialHashMap[u.aid]=p;const y=u.crtInfo[0]||{};u.crtInfo&&(l.crtSizeMap[u.aid]=y.width>y.height?"landscape":"portrait");const _=t.getSplashAdMaterialList(u);r=r.concat(_),i+=0===s?_.length:0;const g=`${I.Lq}/${u.aid}.txt`;if(n.push((0,E.Z7)(u,g)),u.product_type===Ee.ANDROID){var m;const e=null===(m=u.appInfo)||void 0===m?void 0:m.apkName;a.push({apkName:e,aid:u.aid})}return u}));t.datas=s}catch(e){throw t.reportAdMonitorData(me.ET.handleDataFail,e),e}const u=r.slice(0,i);return yield(0,E.fn)(u),n.push((0,E.fn)(r)),n.push(t.handleAdInfosIndexCache(a,l,s)),Promise.all(n).then((()=>t.reportAdMonitorData(me.ET.dataPreloadSuccess))).catch((e=>{throw t.reportAdMonitorData(me.ET.dataPreloadFail,e),e})),t.datas[0]}))()}handleCustomAd(e){const t=e.advertisement_info.map(((e,t)=>{var i;const n=e=>{if(0===t)throw e};let r,a,s=null;const l=this.handleAdData(e),{crtInfo:c,button_action:d,product_type:u,dest_type:p,crt_size:h}=l;if(l.reranking_ext_info&&l.reranking_ext_info.refresh_time)a=l.reranking_ext_info.refresh_time;else if(l.reranking_ext_info&&"string"==typeof l.reranking_ext_info)try{const e=JSON.parse(l.reranking_ext_info);e.refresh_time&&(a=e.refresh_time)}catch(e){}if(null!=l&&null!==(i=l.extBackComm)&&void 0!==i&&i.tmpl_info)try{const e=JSON.parse(l.extBackComm.tmpl_info);s=JSON.parse(e.tmpl_content),r=Number(l.extBackComm.sub_templ_id)}catch(e){this.reportAdMonitorData(me.$g.TPL_PARSE_FAILED),n({errMsg:"custom template error",errCode:I.yB.ERR_TPL_PARSE})}else this.reportAdMonitorData(me.$g.TPL_LOAD_FAILED),n({errMsg:"no custom template",errCode:I.yB.ERR_TPL_NONE});return o()(o()({},e),{},{crtInfo:c,button_action:d,product_type:u,dest_type:p,crt_size:h,condition:l.condition,template:s,subTemplId:r,refreshTime:a,aid:l.aid,app:l.app,appInfo:l.appInfo,extBackComm:l.extBackComm,wording:l.hint_txt,card_info:l.card_info,video_info:l.video_info,image_url:l.image_url,weapp_info:l.weapp_info,wx_game_video:l.wx_game_video})}));return this.reportAdMonitorData(me.$g.LOAD_SUCCESS),t.length>1?this.isMulti=!0:this.isMulti=!1,this.datas=t,this.setCurrentData(0),t[0]}handleGridAd(e){if(e.advertisement_info.length!==this.slotData.gridCount)throw this.reportAdMonitorData(me.IN.AD_GRID_LOAD_COUNT_ERROR,{count:this.slotData.gridCount,getCount:e.advertisement_info.length}),{errMsg:"no advertisement count error",errCode:e.ret};const t=e.advertisement_info.map(((e,t)=>{const i=this.handleAdData(e);return i._isGrid=!0,i._gridInfo={row:5===this.slotData.gridCount?1:2,column:5===this.slotData.gridCount?5:4,index:t},i}));this.datas=t,this.setCurrentData(0),this.fetchRetryCount=0;for(const e of this.datas)if(e.crt_size!==ve.CRT_SIZE_MULTI_POS_GRID)throw{errMsg:`unexpected advertisement crt_size ${e.crt_size}`};return this.reportAdMonitorData(me.IN.AD_GRID_LOAD_SUCCESS),this.datas}handleInterstitialAd(e){const t=JSON.parse(e.image_url),i=o()(o()({},t[0]||{}),(0,C.ei)(e,["crtInfo","product_type","dest_type","crt_size","button_action","condition","app","appInfo","extBackComm"]));if(e.crt_size===ve.CRT_SIZE_INSERT_VIDEO){let e="0";const t=decodeURIComponent(this.data.apurl);/viewid=([^&]+)/.test(t)&&(e=RegExp.$1),this.data.wx_game_video={short_video:{viewid:e}}}return this.convertedAdData=i,i}handleRewardedVideoAd(e){var t,i,n,r;e.crt_size===ve.CRT_SIZE_REWARD_LANDINGPAGE&&this.handleRewardedLandingPage(e);const a=this.data.crtInfo&&Array.isArray(this.data.crtInfo)?this.data.crtInfo:[];0===a.length&&a.push({wxgame_video_card:{}});const[{wxgame_video_card:{head_bg_img:s,mp_tag_type:l},wxgame_gauss_video:c}]=a,{canvas_info:d,wx_game_video:{short_video:u,wxgame_video_card:{show_time:p,thumb:h,title:f,desc:y,flooring_page:_}}}=e;let g=30;if(e.reranking_ext_info&&e.reranking_ext_info.rewarded_time)g=e.reranking_ext_info.rewarded_time;else if(e.reranking_ext_info&&"string"==typeof e.reranking_ext_info)try{const t=JSON.parse(e.reranking_ext_info);t.rewarded_time&&(g=t.rewarded_time)}catch(e){}g=Math.floor(1e3*g),_&&[3,4].indexOf(_.landpage_type)>-1&&(this.data.isPlayable=!0);const m=o()({crtInfo:a[0],canvas_info:d,type:we[e.pt],shortVideo:this.mapRewardVideoFields(u),gaussVideo:c?this.mapRewardVideoFields(o()(o()({},c),{},{video_duration:c.video_duration_ms})):null,rewardedTime:g,card:{icon:h,name:f,wording:y,headBgImg:s,mpTagType:l,showTime:p},flooringPage:_},(0,C.ei)(e,["crt_size","product_type","dest_type","button_action","condition","app","appInfo"]));this.convertedAdData=m;const v=x(m),E=R(m);return this.reportRewardGaussVideo({useGaussVideo:v,useExpandStyle:E,expUseGaussVideo:null!==(t=null===(i=e.condition)||void 0===i?void 0:i.widget_gray_reward_use_gauss_blur)&&void 0!==t?t:0,expUseExpandStyle:1,videoUrl:null!==(n=null==u?void 0:u.video_url)&&void 0!==n?n:"",gaussVideoUrl:null!==(r=null==c?void 0:c.video_url)&&void 0!==r?r:""}),null!=c&&c.video_url&&this.reportAdMonitorData(me.IN.REWARD_GAUSS_EXISTS),v&&E?this.reportAdMonitorData(me.IN.REWARD_USE_GAUSS_AND_EXPAND_STYLE):v?this.reportAdMonitorData(me.IN.REWARD_USE_GAUSS):E&&this.reportAdMonitorData(me.IN.REWARD_USE_EXPAND_STYLE),m}mapRewardVideoFields(e){const{thumb_url:t,video_url:i,video_duration:n,thumb_width:r,thumb_height:a}=e;return{poster:t,src:i,duration:n,width:r,height:a}}handleRewardedLandingPage(e){var t;const i=D.S3.isAndroid&&u.Z.clientVersion>=654315008||D.S3.isIOS&&u.Z.clientVersion>=385879552;if((null===(t=this.data.condition)||void 0===t?void 0:t.widget_gray_rewardedpage_exposure_v2)&&i)try{const{canvas_info:t}=e,{root:i}=d()(t.ad_info_xml),n=(0,v.IU)(e),r=this.composeExposureCommonInfo({top:0,left:0,width:D.S3.screenWidth,height:D.S3.screenHeight});i.children.push({name:"viewid",children:[],attributes:{},content:n},{name:"commInfo",children:[],attributes:{},content:r});const a=g(i,!0);this.data.canvas_info.ad_info_xml=a,this.isCanvasXmlHook=!0}catch(e){this.isCanvasXmlHook=!1}}handleBannerAd(e){const{pt:t,crt_size:i,image_url:n,material_width:r,material_height:a,ad_width:s,ad_height:l,use_style_data:c,hint_txt:d,watermark_type:u}=e;let{extBackComm:{antifraud_popup:p}}=e;void 0===p&&(p=!1);const h=we[t];let f,y;c?(f=s,y=l):[ve.CRT_SIZE_WX_APPLICATION,ve.CRT_SIZE_WX_APPLICATION_NEW,ve.CRT_SIZE_WX_APPLICATION_X].includes(i)?(f=(s||r)/2,y=(l||a)/2):i===ve.CRT_SIZE_WX_APPLICATION_CARD&&(f=s,y=l);const _=o()({antifraudPopup:p,type:h,crt_size:i,useStyleData:c,watermark:be[u],width:f,height:y,image:{src:n,width:r,height:a},wording:d},(0,C.ei)(e,["ad_style_data","product_type","dest_type","button_action","watermark_text","condition","app","appInfo"]));return this.convertedAdData=_,_}extractJson(e,t,i,n){const r=null!=i?i:t;if(e[r]&&"string"==typeof e[r])try{e[t]=JSON.parse(e[r])}catch(i){e[t]=null!=n?n:{}}else null!=n&&(e[t]=n)}buildWechatInfo(e){if(e.product_type===Ee.WE_CHAT){const{biz_appid:t,biz_info:{nick_name:i,is_subscribed:n,head_img:r,biz_uin:a}}=e;return{icon:r,nickname:i,uin:a,isFollowed:n,biz_appid:t}}return{}}buildAppInfo(e){const t=e.product_type;if([Ee.ANDROID,Ee.IOS].includes(t)){const{app_info:{app_name:t,apk_name:i,apk_url:n,app_md5:r,icon_url:a,url_scheme:o,version_code:s,channel_id:l,desc:c}}=e;return{appName:t,apkName:i,apkUrl:n,appMd5:r,iconUrl:a,urlScheme:o,versionCode:s,channelId:l,desc:c}}return{}}handleAdData(e){var t;if(0===Object.keys(e).length)throw{errMsg:"unexpected adData"};const i=e.crt_exp_tid&&e.crt_exp_info?this.convertTestAdData(e):(0,C.Xh)(e),n=i;if(i.crt_size&&(n.crt_size=Number(i.crt_size)),this.extractJson(n,"crtInfo","crt_info"),this.extractJson(n,"extBackComm","ext_back_comm"),this.extractJson(n,"button_action","button_action",{}),this.extractJson(n,"adStyleData","ad_style_data",""),this.extractJson(n,"rerankingExtInfo","reranking_ext_info",""),this.extractJson(n,"extInfo","ext_info"),this.extractJson(n,"adDynamicList","ad_dynamic_list"),i.flow_exp_info)try{n.condition=(0,y.mh)(i.flow_exp_info),this.isSplashAd()||this.handleSplashAdFetchLog(n.condition)}catch(e){}if(n.adStyleData&&[ve.CRT_SIZE_REWARD_VEDIO169,ve.CRT_SIZE_REWARD_VEDIO916,ve.CRT_SIZE_VERTICAL_VIDEO_NEW_916].includes(n.crt_size)){n.use_style_data=!0;const{adStyleData:e}=n;i.ad_width=e.width,i.ad_height=e.height,e.widgets.forEach((e=>{const t=i.button_action;4===e.type&&(t.button_text=e.title,t.jump_type=e.dest_type||t.jump_type,t.jump_url=e.dest_url||t.jump_url)}))}else this.validateCrtSize(n);const r=i.button_action;if(r.button_text=r.button_text||"查看",i.watermark_text=i.watermark_text||"去逛逛",18001===(null==n||null===(t=n.extInfo)||void 0===t?void 0:t.page_type)){const e={gdt_vid:i.traceid||"",uxinfo:i.uxinfo||"",ad_token:i.ad_token||"",rl:i.rl||""};i.url=(0,C.a3)(i.url,e)}const a=this.buildWechatInfo(n),s=this.buildAppInfo(n);return i.product_type===Ee.ANDROID&&(0,h.p4)(s.apkName).then((({waid:e})=>{n.waid=e,this.reportAdMonitorData(me.IN.GET_WAID_SUCCESS)})).catch((e=>{this.reportAdMonitorData(me.IN.GET_WAID_ERROR,e)})),o()(o()({},n),{},{app:a,appInfo:s})}handleSplashAdFetchLog(e){this.handledInNewFetch||(this.handledInNewFetch=!0,(0,E.J$)(e))}handleOperateWXData(e){const t={apiName:"webapi_getadvert",reqData:e,requestInQueue:!1};return this.isSplashAd()?(0,f.ul)(t):(0,f.Lo)(t)}processFetch(e,t,i){var n=this;return r()((function*(){if(n.validateFetchEnv(),Object.keys(t).length>0)(0,D.NN)(t);else{D.S3.deviceOrientation=(0,D.uj)();const{networkType:e}=yield n.getNetworkType();D.S3.adNetworkType=e}const r=n.getFetchArgs({isAdInterval:e},i);n.setLastAdReqTs(+new Date),n.setLastExposureTime(0),n.setLastClickTime(0),n.setTimePoint("p2");try{let e=yield n.handleOperateWXData(r);if(n.fetchPromise=null,n.fetchRetryCount=0,n.handledInNewFetch=!1,n.setTimePoint("p3"),e=JSON.parse(e.rawData),n.validateFetchRes(e),n.isSplashAd())return n.handleSplashAd(e);if(n.isGridAd())return n.handleGridAd(e);if(n.isCustomAd())return n.handleCustomAd(e);const t=n.handleAdData(e.advertisement_info[0]);return n.data=t,n.checkDuplicateRecommendedAds(t.product_type,t.app,t.appInfo),n.isInterstitialAd(t)?n.handleInterstitialAd(t):n.isRewardedVideoAd(t)?n.handleRewardedVideoAd(t):n.handleBannerAd(t)}catch(t){let i="";try{i=JSON.parse(t).errMsg}catch(e){}if(n.fetchPromise=null,0===i.indexOf("getAdData:fail")&&n.fetchRetryCount<1)return n.fetchRetryCount+=1,n.fetch(e);throw n.isBannerAd()?n.reportAdMonitorData(me.IN.AD_BANNER_LOAD_ERROR,t):n.isRewardedVideoAd()?n.reportAdMonitorData(me.IN.AD_VIDEO_LOAD_ERROR,t):n.isInterstitialAd()?n.reportAdMonitorData(me.IN.AD_INTERSTITIAL_LOAD_ERROR,t):n.isGridAd()?n.reportAdMonitorData(me.IN.AD_GRID_LOAD_ERROR,t):n.isCustomAd()?n.reportAdMonitorData(me.$g.LOAD_FAILED,t):n.isSplashAd()&&n.reportAdMonitorData(me.ET.dataLoadFail,t),t}}))()}checkDuplicateRecommendedAds(e,t,i){var n=this;return r()((function*(){const r=[];let a="0";const o=decodeURIComponent(n.data.apurl);/viewid=([^&]+)/.test(o)&&(a=RegExp.$1);const s={conv_status:r},l={},{imei:c,idfa:d}=yield D.SQ,u={viewid:a,app_status:0,follow_status:0,imei:c,idfa:d};if(e===Ee.WE_CHAT){if(l.ad_type=1,l.ad_id=t.biz_appid,u.follow_status=t.isFollowed?2:1,t.isFollowed)return n.reportAdMonitorData(me.IN.AD_FOLLOWED,{adInfo:l})}else if(e===Ee.ANDROID){const{apkName:e,versionCode:t}=i;try{const i=yield n.getInstallState(e),r=i.isInstalled&&(void 0===i.versionCode||i.versionCode>=t);l.ad_type=2,l.ad_id=e,u.app_status=r?2:1,r&&n.reportAdMonitorData(me.IN.AD_INSTALLED,{adInfo:l})}catch(e){u.app_status=0,Reporter.reportIDKey({key:"adGetInstallState_fail",force:!0})}}r.push(u),n.reportInstallFollow(s)}))()}getAdType(){return this.adType}getAdUnitId(){return this.adUnitId}getPluginAppid(){return this.pluginAppid}getSlotData(){return this.slotData}getDeviceInfo(){return D.S3}isBannerAd(){return"banner"===this.adType}isRewardedVideoAd(e){return"incentive-video"===this.adType&&(!e||[ve.CRT_SIZE_REWARD_VEDIO169,ve.CRT_SIZE_REWARD_VEDIO916,ve.CRT_SIZE_VERTICAL_VIDEO_NEW_916,ve.CRT_SIZE_REWARD_LANDINGPAGE].includes(e.crt_size))}isInterstitialAd(e){return"interstitialAd"===this.adType&&(!e||[ve.CRT_SIZE_TABLE_SCREEN_IMAGE,ve.CRT_SIZE_INSERT_VIDEO].includes(e.crt_size))}isGridAd(){return"grid"===this.adType}isCustomAd(){return"customAd"===this.adType}isSplashAd(){return"splashAd"===this.adType}getProgramStartTime(){return D.S3.startTime}getWebviewInfo(){return{createWebviewId:this.webviewId,lastWebviewId:D.S0.lastWebviewId,currentWebviewId:D.S0.currentWebviewId,openType:D.S0.currentOpenType}}setSlotData(e){this.slotData=Object.assign(this.slotData,e||{})}reset(){this.adDataIndex=0,this.cgiReporter.reset()}fetch(e=!1,t={},i={}){return this.fetchPromise||(this.fetchPromise=this.processFetch(e,t,i)),this.fetchPromise}setRightButtonHide(e){const t=()=>D.S3.isWaGame?this.setNavigationBarRightButton({isHide:e}):this.setMiniProgramNavigationBarRightButton({isHide:e});return t().catch((i=>(this.reportAdMonitorData(me.IN.RIGHTBUTTON_HIDE_ERROR,{retryCount:0,isHide:e,message:this.processStackMsg(i)}),t().catch((t=>{throw this.reportAdMonitorData(me.IN.RIGHTBUTTON_HIDE_ERROR,{retryCount:1,isHide:e,message:this.processStackMsg(t)}),t})))))}addDownloadTaskStraight(e,t,i,n){return _n({taskName:e,taskUrl:t,fileMd5:i,extInfo:n}).catch((e=>(this.reportAdMonitorData(me.IN.ADD_DOWNLOAD_TASK_ERROR,e),Promise.reject(e))))}operateFullscreen(e){if(!e)return Promise.reject();const t=[this.setRightButtonHide("hide"===e)];return D.S3.isWaGame||t.push("hide"===e?this.hideStatusBar():this.showStatusBar()),!D.S3.isWaGame&&D.S3.isAndroid&&t.push("hide"===e?this.hideVirtualBottomNavigationBar():this.showVirtualBottomNavigationBar()),Promise.all(t)}isTriggerClick(e){const t=e.absoluteX,i=e.absoluteY,n=e.absoluteEndX,r=e.absoluteEndY,a=e.pressInterval;let o=!1;return Math.abs(r-i)<30&&Math.abs(n-t)<30&&a<300&&(o=!0),o}isValidCondition(e){return!!(e&&this.data&&this.data.condition)&&(this.data.condition[e]||void 0===this.data.condition[e])}setCurrentData(e){var t;this.adDataIndex=e,null!==(t=this.datas)&&void 0!==t&&t[e]&&(this.data=this.datas[e])}checkCanvasXmlState(){return this.isCanvasXmlHook}handleRewardedVideoPlayableLand(e,t){var i,n;const r=null==this||null===(i=this.data)||void 0===i||null===(n=i.extBackComm)||void 0===n?void 0:n.uid,a={};4===t?a.xj_scene=6:(a.gdt_vid=this.data.traceid||"",a.uxinfo=this.data.uxinfo||"",a.reward=1),a.rl=this.data.rl||"",a.ad_token=this.data.ad_token||"",D.S3.isIOS&&(a.uid=r||"");const o=(0,C.a3)(e,a);return this.isPrefetch("playable_url")&&this.reportAdMonitorData(me.IN.H5_PRELOAD_BUTTON_CLICKED),(0,f.Yo)({url:o})}setDeviceInfo(e){Object.assign(D.S3,e)}setSplashAdShowStatus(){Nn=!0}getSplashAdShowStatus(){return Nn}getChannelsLiveStatus(){var e=this;return r()((function*(){const{dest_type:t,extBackComm:{channels_info:i,live_video_mode:n,live_video_sub_mode:r}}=e.data;if(!i||null==n||null==r)return"none";if((0,C.Ie)(n,r)&&t===ye.DEST_TYPE_CHANNELS_LIVE){const{id:t,username:n}=i;if(!t||!n)return"none";try{const{status:i}=yield e.getChannelsLiveInfo({feedId:t,finderUserName:n});if([De.NONE,De.IN_PREPARE].includes(i))return"none";if(i===De.ON_AIR)return"onlive";if(i===De.ENDED)return"end";e.reportAdIDKey({key:me.IN.GET_CHANNELS_LIVE_STATUS_SUCCESS})}catch(i){e.reportAdMonitorData(me.IN.GET_CHANNELS_LIVE_STATUS_FAILED,{id:t,username:n,errMsg:i})}}else if((0,C.gC)(n,r)&&t===ye.DEST_TYPE_CANVAS)return"reserve";return"none"}))()}},l()(Rn.prototype,"handleCheckAdIsOnlineResp",[mn,vn],Object.getOwnPropertyDescriptor(Rn.prototype,"handleCheckAdIsOnlineResp"),Rn.prototype),l()(Rn.prototype,"handleSplashAd",[En,In],Object.getOwnPropertyDescriptor(Rn.prototype,"handleSplashAd"),Rn.prototype),l()(Rn.prototype,"handleCustomAd",[wn,bn],Object.getOwnPropertyDescriptor(Rn.prototype,"handleCustomAd"),Rn.prototype),l()(Rn.prototype,"handleGridAd",[An,Tn],Object.getOwnPropertyDescriptor(Rn.prototype,"handleGridAd"),Rn.prototype),l()(Rn.prototype,"handleInterstitialAd",[Sn,Cn],Object.getOwnPropertyDescriptor(Rn.prototype,"handleInterstitialAd"),Rn.prototype),l()(Rn.prototype,"handleRewardedVideoAd",[Pn,Dn],Object.getOwnPropertyDescriptor(Rn.prototype,"handleRewardedVideoAd"),Rn.prototype),l()(Rn.prototype,"handleBannerAd",[On,kn],Object.getOwnPropertyDescriptor(Rn.prototype,"handleBannerAd"),Rn.prototype),l()(Rn.prototype,"checkDuplicateRecommendedAds",[xn],Object.getOwnPropertyDescriptor(Rn.prototype,"checkDuplicateRecommendedAds"),Rn.prototype),Rn);var Ln},2185:()=>{},2942:()=>{},8401:(e,t,i)=>{"use strict";i.d(t,{wA:()=>p,Ar:()=>fe,KM:()=>ee,Ym:()=>he,MO:()=>de,v:()=>j,Qr:()=>h,y0:()=>ue,cF:()=>ie,sY:()=>M,vE:()=>F,ve:()=>L});var n=i(1547),r=i(1503),a=i.n(r),o=i(6725),s=i.n(o),l=i(2241),c=i(3356),d=i.n(c);const u=e=>{let t=Array.isArray(e)?e[0]:e;for(;t.parent&&t.parent!==fe&&t.parent.referComponent;)t=t.parent;return t};class p{constructor(e){this.state={},this.style={},this.isComponent=!0,this._hasUnmount=!1,this._eventHandler={},this._stateQueue={},this._setStateTimer=null,this._setStyleTimer=null,this._manualStyle={},this._subComponents=[],this._rootElement=void 0,this._elementMap={},this.props=void 0,this.parent=null,this.props=e}setState(e,t){var i=this;this._stateQueue=this._stateQueue||{};let n=!1;for(const t of Object.keys(e)){e[t]!==this.state[t]&&(n=!0)}n?(Object.assign(this._stateQueue,e),this._setStateTimer&&clearTimeout(this._setStateTimer),this._setStateTimer=setTimeout(d()((function*(){i._setStateTimer=null;let e=!1;for(const t of Object.keys(i._stateQueue)){const n=i._stateQueue[t];i.state[t]!==n&&(e=!0)}e&&(j(i,"updateState",a()(a()({},i.state),i._stateQueue)),Object.assign(i.state,i._stateQueue),L(i),ee(u(i._rootElement)),yield fe.nextLayout(),null==t||t(i.state,i.props))})),0)):null==t||t(this.state,this.props)}ready(e){}updatedProps(){}render(){return""}_unmountComponent(){if(!this._hasUnmount){if(this._hasUnmount=!0,Array.isArray(this._subComponents))for(const e of this._subComponents)e._unmountComponent();j(this,"destroy")}}getRootElement(){if(!Array.isArray(this._rootElement))return this._rootElement;throw new Error("You should'nt try getRootElement() in component with virtual root")}getRootElements(){return this._rootElement}getRootComponent(){let e=this;for(;e.parent;)e=e.parent;return e}getSubComponents(){return this._subComponents}getElementById(e){return this._elementMap[e]?this._elementMap[e]:null}getEventHandler(e){return this._eventHandler[e]}setStyle(e,t){var i=this;return d()((function*(){const n=i.getElementById(e),r=i._manualStyle;e&&t&&(n&&Object.assign(n.style,t),r[e]=r[e]||{},Object.assign(r[e],t)),yield Promise.resolve();const a=i.getRootComponent();yield a.requestLayout()}))()}requestLayout(){const e=Array.isArray(this._rootElement)?this._rootElement[0]:this._rootElement;return new Promise((t=>{this._setStyleTimer&&clearTimeout(this._setStyleTimer),this._setStyleTimer=setTimeout((()=>{this._setStyleTimer=null,ee(u(this._rootElement)),Promise.race([null==e?void 0:e.nextUpdate(),(0,l.Vs)(200)].filter((e=>e))).then((()=>t()))}),0)}))}_bindEvent(e,t,i){return this._eventHandler[e]=this._eventHandler[e]||{},this._eventHandler[e][t]=this._eventHandler[e][t]||new Set,this._eventHandler[e][t].add(i),i}_unbindEvent(e,t,i){var n,r;return!(null===(n=this._eventHandler[e])||void 0===n||null===(r=n[t])||void 0===r||!r.has(i))&&(this._eventHandler[e][t].delete(i),0===this._eventHandler[e][t].size&&delete this._eventHandler[e][t],0===Object.keys(this._eventHandler[e]).length&&delete this._eventHandler[e],!0)}onClick(e,t){return this._bindEvent(e,"click",t)}offClick(e,t){return this._unbindEvent(e,"click",t)}onReady(e,t){return this._bindEvent(e,"ready",t)}offReady(e,t){return this._unbindEvent(e,"ready",t)}onTouchstart(e,t){return this._bindEvent(e,"touchstart",t)}offTouchstart(e,t){return this._unbindEvent(e,"touchstart",t)}onTouchmove(e,t){return this._bindEvent(e,"touchmove",t)}offTouchmove(e,t){return this._unbindEvent(e,"touchmove",t)}onTouchend(e,t){return this._bindEvent(e,"touchend",t)}offTouchend(e,t){return this._unbindEvent(e,"touchend",t)}onTouchcancel(e,t){return this._bindEvent(e,"touchcancel",t)}offTouchcancel(e,t){return this._unbindEvent(e,"touchcancel",t)}onWaiting(e,t){return this._bindEvent(e,"waiting",t)}offWaiting(e,t){return this._unbindEvent(e,"waiting",t)}onPlay(e,t){return this._bindEvent(e,"play",t)}offPlay(e,t){return this._unbindEvent(e,"play",t)}onPause(e,t){return this._bindEvent(e,"pause",t)}offPause(e,t){return this._unbindEvent(e,"pause",t)}onEnded(e,t){return this._bindEvent(e,"ended",t)}offEnded(e,t){return this._unbindEvent(e,"ended",t)}onTimeUpdate(e,t){return this._bindEvent(e,"timeUpdate",t)}offTimeUpdate(e,t){return this._unbindEvent(e,"timeUpdate",t)}onError(e,t){return this._bindEvent(e,"error",t)}offError(e,t){return this._unbindEvent(e,"error",t)}onProgress(e,t){return this._bindEvent(e,"progress",t)}offProgress(e,t){return this._unbindEvent(e,"progress",t)}onFullScreenChange(e,t){return this._bindEvent(e,"fullScreenChange",t)}offFullScreenChange(e,t){return this._unbindEvent(e,"fullScreenChange",t)}}p.isComponent=!0,p.subComponents={};const h=e=>e;var f=i(19);let y;!function(e){e.waiting="waiting",e.play="play",e.pause="pause",e.ended="ended",e.timeUpdate="timeUpdate",e.error="error",e.progress="progress",e.fullScreenChange="fullScreenChange",e.loadedMetaData="loadedMetaData"}(y||(y={}));class _ extends p{render(){const{props:{children:e}}=this;return e}}_.isFragment=!0;const g="Fragment",m={view:n.G7,text:n.xv,image:n.Ee,video:n.nk},v=e=>e.name[0]>="A"&&e.name[0]<="Z",E=new WeakMap,I=(e,t)=>{const{referComponent:i}=t,n={children:t.children};let r="getSubComponentProps",a=[];if(e.getProps){const[t,...i]=e.getProps.split(":");r=t,a=i}Object.assign(n,j(i,r,t.name,...a)||{});for(const t of Object.keys(e)){const i=e[t];["getProps","children"].includes(t)||(n[t]=i)}return n.children=t.children,n},w=(e,t,i)=>{if(!i.isComponent)throw new Error(`class ${e.name} is not a component, please ensure extend BaseComponent`);return M(i,I(t,e),!1,e.referComponent)},b=(e,t=A(e))=>{const{referComponent:i}=e,{id:n}=t,r=(("string"==typeof t.class?t.class:"")||"").split(/\s+/).filter(Boolean),o=a()({},t);n&&(o.name=n),delete o.id,o.style=ue({classList:r,name:n,referComponent:i});const s=null!=o.bubbleEvent,l=new(0,m[e.name])(o);if(l.isBubbleEventSet=s,Object.assign(l,{classList:r,referComponent:i,key:t.key||null}),n&&i&&i.getEventHandler(n))for(const t of Object.keys(i.getEventHandler(n))){const r=i.getEventHandler(n)[t];if(t in y){if("video"===e.name)for(const e of r){const i=l[`on${t[0].toUpperCase()}${t.slice(1)}`];null==i||i.call(l,e)}}else for(const e of r)l.on(t,e)}return null!=n&&(h(i)._elementMap[n]=l),l},A=e=>{const t={};for(const i of Object.keys(e.attributes)){const n=e.attributes[i],r=(0,l.um)(i);t[r]=n,/\{\{.+\}\}/.test(n)||("true"===n?t[r]=!0:"false"===n?t[r]=!1:"id"===r?t.id=(0,l.um)(n):t[r]=n)}return t},T=e=>{const t=e.constructor.subComponents||[],i="function"==typeof t?t():t;return a()(a()({},i),{},{[g]:_})},S=e=>{if(Array.isArray(e)){const t=e.map((e=>S(e))),i={element:null,subComponents:[]};for(const{element:e,subComponents:n}of t){e&&(null===i.element&&(i.element=[]),Array.isArray(e)?i.element.push(...(0,f.xH)(e)):i.element.push(e));for(const e of n)i.subComponents.includes(e)||i.subComponents.push(e)}return i}if(!e)return{element:null,subComponents:[]};const t=T(e.referComponent);let i;const n=[],r=A(e);if(v(e)){if(!t[e.name])throw new Error(`component name ${e.name} does not exists`);const a=w(e,r,t[e.name]);if(i=a.getRootElements(),!i)return{element:null,subComponents:[]};n.push(a)}else{const t=b(e,r);e.children.forEach((e=>{const{element:i,subComponents:r}=S(e);if(i)if(n.push(...r),Array.isArray(i))for(const e of i)t.add(e);else t.add(i)})),i=t}return{element:i,subComponents:n}},C=(e,t)=>{const i=["autoInsert","autoplay","bubbleEvent","clickState","controls","enablePlayGesture","enableProgressGesture","eventType","height","hide","initialTime","live","loop","muted","obeyMuteSwitch","objectFit","parentId","playbackRate","poster","preLoad","scene","showCenterPlayBtn","src","underGameView","width","x","y","value"];let n=!1;for(const e of i)void 0===t[e]&&(t[e]=void 0);for(const r of Object.keys(t)){const a=t[r];i.includes(r)&&e[r]!==a&&(e[r]=a,n=!0)}return n},P=(e,t,i=null)=>{let n=i;if(e!==t){if(!n){if(!e||!e.parent)throw new Error("can not find element tree without parent");n=e.parent}if(e&&n.remove(e),t)if(Array.isArray(t))for(const e of t)n.add(e);else n.add(t)}},D=(e,t)=>{if(m[t.name]&&e)return e.constructor===m[t.name];if(null!=e&&e.isRootElementOfComponent&&e.referComponent){return e.referComponent.constructor.name===t.name}return!1},O=(e,t)=>{const i=A(t),n=t.referComponent,r=T(n),a=e&&D(e,t);if(!v(t)){if(!t.children||0===t.children.length)return e&&a?(C(e,i),e):b(t,i);if(e&&a)return C(e,i),x((e=>Object.keys(e.children).map((t=>e.children[t])))(e),t.children),e;const{element:r,subComponents:o}=S(t);return n.getSubComponents().push(...o),r}const o=null==e?void 0:e.referComponent,s=null==o?void 0:o.constructor;if(o&&s===r[t.name]){Object.assign(h(o).props,I(i,t));return L(o)}const l=n.getSubComponents().indexOf(o);l>-1&&n.getSubComponents().splice(l,1),o&&j(o,"destroy"),null==e||e.remove();return w(t,i,r[t.name]).getRootElements()},k=e=>e.reduce(((e,t)=>(t.name===g?e.push(...k(t.children)):e.push(t),e)),[]),x=(e,t)=>{const i=[],n={};for(const t of e)t.key?n[t.key]=t:i.push(t);for(const r of k(t)){const{key:t}=r;let a=null;if(t)n[t]&&(a=n[t],delete n[t]);else for(const e of Object.keys(i)){const t=i[+e];if(t&&D(t,r)){a=t,i.splice(Number(e),1);break}}a||(a=i.shift()||null),e.length&&e[0].parent&&P(a,O(a,r),e[0].parent)}const r=Object.keys(n).reduce(((e,t)=>(e.push(n[t]),e)),[]);for(const e of[...i,...r])null==e||e.remove()},R=(e,t)=>{Array.isArray(e)?e.forEach((e=>R(e,t))):(t(e),e.children.forEach((e=>R(e,t))))},N=(e,t)=>{R(e,(e=>{e.referComponent||(e.referComponent=t)}))},M=(e,t,i=!0,n=null)=>{const r=new e(t);r.parent=n;const a=r.render(),o="string"==typeof a?s()(a).root:a;N(o,r);const{element:l,subComponents:c}=S(o);return h(r)._subComponents=c,l&&(h(r)._rootElement=l,Array.isArray(l)?l.forEach((e=>{e.isRootElementOfComponent=!0})):l.isRootElementOfComponent=!0),j(r,"ready",l,c),i&&(l&&(Array.isArray(l)?l.forEach((e=>{fe.add(e),ee(e)})):(fe.add(l),ee(l))),E.set(e,r)),r},L=(e,t)=>{t&&Object.assign(h(e).props,t);const i=e.getRootElements(),n=e.render(),r="string"==typeof n?s()(n).root:n;return N(r,e),Array.isArray(i)&&Array.isArray(r)?x(i,r):Array.isArray(i)&&!Array.isArray(r)?x(i,[r]):!Array.isArray(i)&&Array.isArray(r)?x([i],r):Array.isArray(i)||Array.isArray(r)||P(i,O(i,r)),j(e,"updatedProps"),i},F=e=>{if(!h(e).isComponent)throw new Error("variable is not a component instance");const t=e.getRootElements();Array.isArray(t)?t.forEach((e=>fe.remove(e))):fe.remove(t),h(e)._unmountComponent(),E.delete(e.constructor)},j=(e,t,...i)=>"function"==typeof e[t]?e[t](...i):null;var W=i(9890),U=i(4643),V=i(6120);const B=["width","height"],Z=(e="column",t)=>["row","column"].indexOf(e)===["width","height"].indexOf(t),G=(e,t)=>Math.max(e,t),H=(e,t)=>e+t,$=e=>({width:(e.style.marginLeft||0)+(e.style.marginRight||0),height:(e.style.marginTop||0)+(e.style.marginBottom||0)}),Y=e=>({width:(e.style.paddingLeft||0)+(e.style.paddingRight||0),height:(e.style.paddingTop||0)+(e.style.paddingBottom||0)}),z=(e,t,i)=>e&&"px"===e.slice(-2)?parseFloat(e.slice(0,-2))+i:parseFloat(e.slice(0,-1))/100*t+i,q=(e,t,i,n,r,a)=>{const o=e.parent,s=n[i],l=Y(e)[i];let c=t,d=null,u=!1;var p;if(!r&&a>0&&(null==c||a>c)&&(c=a),n.position&&"absolute"===n.position[1]&&null!=c&&(c+=a),s||null==c)s&&"percent"===s[0]&&null!=c?(d=c*s[1]-l,u=!0):s&&"digit"===s[0]&&(d=s[1]-l,u=!0);else if("auto"!==e.style[i])if("absolute"===(null===(p=n.position)||void 0===p?void 0:p[1])){let e=0,t=!1;for(const r of"width"===i?["left","right"]:["top","bottom"])null!=n[r]?"digit"===n[r][0]?e+=Number(n[r][1])||0:"percent"===n[r][0]&&(e+=(Number(n[r][1])||0)*c):t=!0;d=t?null:c-e}else r&&Z(o.style.flexDirection,i)&&e.style.flex>0?d=null:((e=>(0,U.MJ)(e).some((e=>null!=e.style.flex&&e.style.flex>0)))(e)&&(u=!0),d=c-l);return null!=d&&(e.autoFitSize[i].size=d),u},K=e=>{const t=(0,U.ex)(e),i=Y(e);e.autoFitSize={width:{size:null,margin:0,padding:i.width},height:{size:null,margin:0,padding:i.height}};const r=e.parent,a=he(ue(e)),o={width:!1,height:!1},s={width:null,height:null};for(const i of B){const n=a[i];let s=t?"width"===i?W.S.screenWidth:W.S.screenHeight:r.autoFitSize[i].size;const l=t?0:r.autoFitSize[i].padding;!n&&t&&"height"===i&&(s=null),o[i]=q(e,s,i,a,!0,l)}X(e,a);const l=Y(e),c="wrap"===e.style.flexWrap,d=[];for(const t of(0,U.MJ)(e)){K(t);const i=$(t);if("absolute"!==t.style.position)for(const n of B){const r=Z(e.style.flexDirection,n);if(c){if(r){const e="width"===n?"height":"width";d.push([(t.autoFitSize[n].size||0)+t.autoFitSize[n].padding+i[n],(t.autoFitSize[e].size||0)+t.autoFitSize[e].padding+i[e]])}}else{const e=r?H:G;null==t.autoFitSize[n].size&&t.autoFitSize[n].padding<=0&&e===H&&(o[n]=!0),s[n]=e((t.autoFitSize[n].size||0)+t.autoFitSize[n].padding+i[n],s[n]||0)}}}if(c){let t=0,i=0,n=0,r=0;const a=Z(e.style.flexDirection,"width")?"width":"height",l="width"===a?"height":"width";r=o[a]&&null!=e.style[a]?e.style[a]:d.reduce(((e,[t])=>e+t),0);for(const[e,a]of d)n=Math.max(n,a),e+t>r?(i+=n,n=a,t=e):t+=e;i+=n,s[a]=t,s[l]=i}e instanceof n.xv&&(null!=e.autoFitSize.height.size&&o.height||Object.assign(e.autoFitSize.height,{size:e.style.lineHeight||e.style.fontSize||0,padding:l.height}),null!=e.autoFitSize.width.size&&o.width||Object.assign(e.autoFitSize.width,{size:V.Z.getTextWidth(e.value,e.style.fontSize||14)+3,padding:l.width}));for(const t of B)o[t]||null===s[t]?l[t]>0&&(e.autoFitSize[t].padding=l[t]):Object.assign(e.autoFitSize[t],{size:null!=s[t]?s[t]:null,padding:l[t]})},J=e=>{const t=(0,U.MJ)(e);for(const n of B){const r=Z(e.style.flexDirection,n);let{size:a}=e.autoFitSize[n];const{padding:o}=e.autoFitSize[n];if(null==a&&!o)continue;a=a||0;let s=0,l=0;for(const e of t){const{size:t,margin:i,padding:r}=e.autoFitSize[n];"absolute"!==e.style.position&&(null!=t?s+=t+r+i:e.style.flex&&e.style.flex>0&&(l+=Number(e.style.flex)))}for(const c of t){var i;const t=he(ue(c));let d=null;r?d=c.style.flex?(a-s)/G(l,1)*c.style.flex:null:e.style.alignItems&&"stretch"!==e.style.alignItems||(d=a),null==c.autoFitSize[n].size&&d?q(c,d,n,t,!1,o):"absolute"===(null===(i=t.position)||void 0===i?void 0:i[1])&&q(c,a,n,t,!1,o)}}for(const e of t)J(e);for(const t of B){const{size:i,padding:n}=e.autoFitSize[t];null!=i&&e.style[t]!==i+n&&(e.style[t]=i+n)}e instanceof n.xv&&null==e.style.lineHeight&&(e.style.lineHeight=e.style.height)},X=(e,t)=>{const i=e.autoFitSize.width.size,n=e.autoFitSize.height.size;for(const r of Object.keys(t)){const a=t[r];"percent"===a[0]?"horizontal"===ie[r]&&null!=i?e.style[r]=a[1]*i:"vertical"===ie[r]&&null!=n&&(e.style[r]=a[1]*n):"normal"===a[0]&&(e.style[r]=a[1])}t.transform&&"transform"===t.transform[0]&&(e.style.left=z(t.transform[1][0],i||0,e.style.left||0),e.style.top=z(t.transform[1][1],n||0,e.style.top||0)),!e.style.lineHeight&&e.parent&&e.parent.style.lineHeight&&(e.style.lineHeight=e.parent.style.lineHeight)},Q=e=>{const t=[["width","left"],["height","top"]];for(const n of(0,U.MJ)(e)){Q(n);for(const[r,a]of t){var i;if((n.style.position||null!==(i=n.expandAbsoluteSize)&&void 0!==i&&i.has(r))&&"hidden"!==e.style.overflow){const t=(n.style[r]||0)+(n.style[a]||0);t>(e.style[r]||0)&&(e.style[r]=t,e.expandAbsoluteSize=e.expandAbsoluteSize||new Set,e.expandAbsoluteSize.add(r))}}}},ee=e=>{K(e),J(e),Q(e)},te=e=>Number(e).toString()===e,ie={left:"horizontal",right:"horizontal",marginLeft:"horizontal",marginRight:"horizontal",paddingLeft:"horizontal",paddingRight:"horizontal",marginTop:"horizontal",marginBottom:"horizontal",paddingTop:"horizontal",paddingBottom:"horizonta",borderRadius:"horizontal",top:"vertical",bottom:"vertical"},ne=/^\s*#[0-9a-fA-F]{3}\s*$/,re=/^\s*#[0-9a-fA-F]{3,6}\s*$/,ae=/^\s*rgb\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*\)\s*$/,oe=/^\s*rgba\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*,\s*([\d.]+)\s*\)\s*$/,se=/px$/,le=e=>"number"==typeof e?e:se.test(e)?Number(e.replace(se,""))||0:te(e)?parseInt(e,10):e,ce=e=>{if("string"==typeof e&&ne.test(e)){const[t,i,n]=e.slice(1);return`#${t}${t}${i}${i}${n}${n}`}return e},de=(e={})=>{const t={};for(const i of Object.keys(e)){const n=e[i];if(["padding","margin"].includes(i)){const e=Array.isArray(n)?n:(null==n?"":n).toString().split(/\s+/);let r=null,a=null,o=null,s=null;switch(e.length){case 0:continue;case 1:[r]=e,[a]=e,[o]=e,[s]=e;break;case 2:[r,a]=e,[o,s]=e;break;case 3:[r,a,o]=e,s=a;break;case 4:[r,s,o,a]=e;break;default:continue}Object.assign(t,{[`${i}Top`]:le(r),[`${i}Left`]:le(a),[`${i}Bottom`]:le(o),[`${i}Right`]:le(s)})}else if("border"===i){const e=(n||"").toString().split(/\s+/);switch(e.length){case 0:continue;case 1:t.borderColor=ce(e[0]);continue;case 2:t.borderWidth=le(e[0]),t.borderColor=ce(e[1]);continue;case 3:t.borderWidth=le(e[0]),t.borderColor=ce(e[2]);continue;default:continue}}else if("background"===i&&re.test(e[i]))t.backgroundColor=ce(e[i]);else if("background"===i&&(ae.test(e[i])||oe.test(e[i])))t.backgroundColor=e[i];else if("background"===i&&e[i].includes("linear-gradient"))t.backgroundColor=e[i];else if("color"===i&&"string"==typeof n&&oe.test(n)){const[i,r,a,o]=oe.exec(n).slice(1,5).map((e=>Number(e))),s=e=>e.toString(16);t.color=`#${s(i)}${s(r)}${s(a)}`,null==e.opacity&&(t.opacity=Number(o))}else if("display"===i&&"none"===e[i])t.hidden=!0;else if("rotate"===i){const n=e[i];t.rotate="string"==typeof n?Number(n.replace("deg",""))||0:n}else t[i]=ce(le(e[i]))}return t},ue=e=>{const t=h(e.referComponent);if(!t)return Object.assign({},e.style||{});const i={},n=t.style||{};for(const t of e.classList||[])Object.assign(i,de(n[t])),Object.assign(i,de(n[`.${t}`]));return n[e.name]&&Object.assign(i,de(n[e.name])),e.name&&t._manualStyle[e.name]&&Object.assign(i,de(t._manualStyle[e.name])),i},pe={percent:/^-?[1-9]\d*(\.\d+)?%$/,translate:/translate\(\s*(-?\d+(?:\.\d+)?(?:%|px)?)\s*,\s*(-?\d+(?:\.\d+)?(?:%|px)?)\s*\)/},he=e=>{const t={};for(const i of Object.keys(e)){const n=e[i];if(null==n)continue;const r=n.toString().trim();if((ie[i]||["width","height"].includes(i))&&pe.percent.test(r)){const e=parseFloat(r.slice(0,-1))/100;t[i]=["percent",e]}else if(te(r))t[i]=["digit",Number(r)];else if("transform"===i&&r.includes("translate")){const e=pe.translate.exec(r);e&&(t[i]=["transform",e.slice(1,3)])}else t[i]="string"==typeof n?["normal",r]:["normal",n]}return t},fe=n.uo},9890:(e,t,i)=>{"use strict";i.d(t,{S:()=>n});i(665),i(1095),i(4643),i(3170);const n={}},19:(e,t,i)=>{"use strict";i.d(t,{ei:()=>n,Ee:()=>a,Zw:()=>o,U2:()=>s,xH:()=>l,Xh:()=>c});const n=(e,t)=>t.reduce(((t,i)=>(t[i]=e[i],t)),{}),r=e=>e&&"object"==typeof e&&!Array.isArray(e);function a(e,...t){if(!t.length)return e;const i=t.shift();if(r(e)&&r(i))for(const t of Object.keys(i))r(i[t])?(e[t]||Object.assign(e,{[t]:{}}),a(e[t],i[t])):Object.assign(e,{[t]:i[t]});return a(e,...t)}const o=e=>{const t=new Set;let i=e;for(;i;){for(const e of Object.getOwnPropertyNames(i))t.add(e);i=Object.getPrototypeOf(i)}return[...t]},s=(e,t,i)=>{const n="string"==typeof t?t.split("."):t;let r=e,a=0;for(;r&&a<n.length;)r=r[n[a]],a+=1;return r||i},l=e=>e.reduce(((e,t)=>(Array.isArray(t)?e.push(...l(t)):e.push(t),e)),[]),c=e=>JSON.parse(JSON.stringify(e))},4643:(e,t,i)=>{"use strict";i.d(t,{a3:()=>y,Xh:()=>n.Xh,U2:()=>n.U2,Ze:()=>c,_t:()=>m,Zw:()=>n.Zw,Wz:()=>f,MJ:()=>s,gC:()=>w,Ie:()=>I,ex:()=>a,Ee:()=>n.Ee,ei:()=>n.ei,zJ:()=>l});var n=i(19),r=i(8401);const a=e=>{var t;return e.parent===r.Ar||!(null!==(t=e.parent)&&void 0!==t&&t.referComponent)},o=e=>Object.keys(e.children).map((t=>e.children[t])),s=e=>o(e).filter((e=>!0!==(null==e?void 0:e.style.hidden))),l=(e,t,i="downward")=>{"downward"===i&&t(e);for(const n of o(e))l(n,t,i);"upward"===i&&t(e)},c=(e,t)=>{for(const{path:i,value:r,condition:a=!0}of t){if(!a)continue;const t=r||(i?(0,n.U2)(e,i):"");if(t)return t}return null},d=63,u=e=>{const t=e.toString(16).toUpperCase();return t.length<2?`%0${t}`:`%${t}`},p=e=>{if(!e)return"";const t=String(e),i=[],n=/[ \r\n!*"'();:@&=+$,/?%#[\]<>{}|`^\\\u0080-\uffff]/;for(const e of t)if(e.match(n)){const t=e.codePointAt?e.codePointAt(0):e.charCodeAt(0);t<128?i.push(u(t)):t<2048?i.push([u(192+(t>>6)),u(128+(t&d))].join("")):t<65536?i.push([u(224+(t>>12)),u(128+(t>>6&d)),u(128+(t&d))].join("")):t<2097152&&i.push([u(240+(t>>18)),u(128+(t>>12&d)),u(128+(t>>6&d)),u(128+(t&d))].join(""))}else i.push(e);return i.join("")},h=e=>{if(!e)return"";const t=e=>{if(!e)throw new Error("invalid text")},i=e=>String.fromCodePoint?String.fromCodePoint(e):String.fromCharCode(e),n=e.replace(/%[a-fA-F0-9]{2}/gi,(e=>String.fromCharCode(parseInt(e.replace("%",""),16))));let r=0,a="";for(;r<n.length;){const e=n.charCodeAt(r);if(e<128)a+=i(e),r+=1;else if(e>=192&&e<224){t(r+1<n.length);a+=i((31&e)<<6|n.charCodeAt(r+1)&d),r+=2}else if(e<240){t(r+2<n.length);const o=n.charCodeAt(r+1),s=n.charCodeAt(r+2);a+=i((15&e)<<12|(o&d)<<6|s&d),r+=3}else{t(r+3<n.length);const o=n.charCodeAt(r+1),s=n.charCodeAt(r+2),l=n.charCodeAt(r+3);a+=i([(7&e)<<18,(o&d)<<12,(s&d)<<6,l&d].reduce(((e,t)=>e|t),0)),r+=4}}return a},f=e=>{const t={};if(e.indexOf("?")>-1){const i=e.indexOf("?")+1;let n=e.substring(i);n.indexOf("#")>-1&&(n=n.substring(0,n.indexOf("#")));const r=n.split("&");for(const e of r){const[i,n]=e.split("=");t[i]=h(n)}}return t},y=(e,t)=>{if(!e)return"";if(!t)return e;const i=e.split("#"),n=i[0].indexOf("?")>-1?"&":"?";let r="";const a=Object.keys(t);if(a.length>0){for(const e of a)r=r.concat(`${e}=${p(t[e])}&`);return r.length>0&&(r=r.substring(0,r.length-1)),i[0]+n+r+(i[1]?`#${i[1]}`:"")}return e};var _=i(3170),g=i(665);const m=()=>{const e=(0,_.Ew)();return e.screenWidth&&e.screenHeight?e.screenWidth>e.screenHeight?"landscape":"portrait":g.Z.deviceOrientation&&/^landscape/.test(g.Z.deviceOrientation)?"landscape":g.Z.deviceOrientation||"portrait"};var v=i(7046);const E=e=>e===v.fr.LIVE,I=(e,t)=>E(e)&&t===v.EM.ROOM,w=(e,t)=>E(e)&&t===v.EM.RESERVATION},3866:(e,t,i)=>{"use strict";let n,r,a,o,s,l,c,d,u;i.d(t,{H:()=>n,_d:()=>r,Y8:()=>a,Xw:()=>o,XP:()=>s,nf:()=>l,H_:()=>c,Zw:()=>d}),function(e){e.TAP="tap",e.ANIMATIONEND="animationend"}(n||(n={})),function(e){e.APPENTERFOREGROUND="appEnterForeground",e.APPENTERBACKGROUND="appEnterBackground",e.CONTAINERTAP="containerTap",e.ADBUTTONTAP="adButtonTap",e.VIEWABLEEXPOSURE="viewableExposure",e.EXPOSURE="exposure",e.SHOWHALF="showhalf",e.HIDEHALF="hidehalf",e.SPLASHADFIRSTRENDER="splashAdFirstRender",e.SPLASHADMENUVIEW="splashAdMenuView"}(r||(r={})),function(e){e.BUTTONTAP="buttonTap"}(a||(a={})),function(e){e.RELATIONFETCHED="relationFetched"}(o||(o={})),function(e){e.VIDEOENDED="videoEnded",e.VIDEOPAUSE="videoPause",e.VIDEOPLAY="videoPlay",e.VIDEOTIMEUPDATE="videoTimeUpdate",e.MUTEDCHANGE="mutedChange",e.VIDEOLOADEDMETADATA="videoLoadedMetaData"}(s||(s={})),function(e){e.FEEDBACKBTNTAP="feedbackBtnTap",e.TAGTAP="tagTap",e.DISLIKETAP="dislikeTap",e.DISLIKEREASONTAP="dislikeReasonTap"}(l||(l={})),function(e){e.REPLAY="replay",e.SHOW="show",e.HIDE="hide",e.VIDEODISLIKE="videodislike"}(c||(c={})),function(e){e.SHOWCHANGE="showChange",e.UNITTAP="unitTap"}(d||(d={})),function(e){e.REWARDEDVIDEOPLAY="rewardedVideoPlay",e.REWARDEDVIDEOEND="rewardedVideoEnd",e.REWARDEDVIDEOTIMEUPDATE="rewardedVideoTimeUpdate",e.REWARDEDVIDEOSHOWFLOORINGPAGE="rewardedVideoShowFlooringPage",e.REWARDEDVIDEOHANDLEDYNAMICDONE="rewardedVideoHandleDynamicDone"}(u||(u={}))},780:(e,t,i)=>{"use strict";let n;i.d(t,{A:()=>n}),function(e){e.SHOWFEEDBACK="showFeedback",e.ADSHOWHALF="adShowHalf",e.ADHIDEHALF="adHideHalf",e.TRIGGEREVENT="triggerEvent",e.REPORTVIDEOPLAY="reportVideoPlay",e.APPENTERBACKGROUND="appEnterBackground",e.ADVIDEOPAUSE="adVideoPause",e.ADVIDEOPLAY="adVideoPlay",e.FEEDBACKBTNTAP="feedbackBtnTap",e.FEEDBACKREPORT="feedbackReport",e.BTNTAP="btnTap",e.CHANGEADBTNTEXT="changedAdBtnText",e.ENDPAGEINIT="endPageInit",e.SHOWENDPAGE="showEndPage",e.REPORTENDPAGE="reportEndPage",e.APPENTERFOREGROUND="appEnterForeground",e.ENDPAGEHIDE="endPageHide",e.ENDPAGESHOW="endPageShow",e.REPORTMMDATA="reportMMData",e.HIDEAD="hideAd",e.REPORTTIMEPOINT="reportTimePoint",e.CHANGEMULTISHOW="changeMultiShow",e.CHECKEXPOSURE="checkExposure",e.LANDAD="landAd",e.CHANGECOUNTDOWN="changeCountdown",e.SPLASHSKIPAD="splashSkipAd",e.REPORTADMONITORDATA="reportAdMonitorData",e.REWARDEDVIDEODYNAMIC="rewardedVideoDynamic"}(n||(n={}))},637:(e,t,i)=>{"use strict";let n;i.d(t,{aO:()=>n,Y8:()=>r.Y8,Dx:()=>d,Zw:()=>r.Zw,Af:()=>_,H:()=>r.H,A$:()=>a.A,H_:()=>r.H_,Bq:()=>m,nf:()=>r.nf,Eo:()=>p,bk:()=>y,IN:()=>g.$g,v5:()=>l,BB:()=>s,_d:()=>r._d,Xw:()=>r.Xw,qW:()=>c,XP:()=>r.XP,jn:()=>u,fc:()=>E}),function(e){e.HIDEAD="hideAd",e.SETSTYLE="setStyle",e.REPORTIDKEY="reportIdKey",e.TRIGGEREVENT="triggerEvent",e.SETEXPRVARS="setExprVar",e.VIDEOTOGGLEMUTED="videoToggleMuted",e.VIDEOPLAY="videoPlay",e.VIDEOPAUSE="videoPause",e.VIDEOSTOP="videoStop",e.BUTTONSETTEXT="buttonSetText",e.RELOADAD="reloadAd",e.REPORTMMDATA="reportMMData",e.ENDPAGEHIDE="endPageHide",e.IMAGESETSRC="imageSetSrc",e.TEXTSETTEXT="textSetText",e.ANIMATE="animate",e.TRIGGERBTNCLICK="triggerBtnClick",e.CHANGEMULTISHOW="changeMultiShow",e.LANDAD="landAd",e.SPLASHSKIPAD="splashSkipAd",e.ADDCHILDREN="addChildren",e.REPORTADMONITORDATA="reportAdMonitorData",e.REWARDEDVIDEODYNAMIC="rewardedVideoDynamic"}(n||(n={}));var r=i(3866),a=i(780);let o,s,l,c,d,u,p,h,f,y,_;!function(e){e[e.COMMON=1]="COMMON",e[e.FULLSCREEN=2]="FULLSCREEN"}(o||(o={})),function(e){e[e.COMMON=1]="COMMON",e[e.ROW=2]="ROW",e[e.COLUMN=3]="COLUMN",e[e.PROPORTION=4]="PROPORTION"}(s||(s={})),function(e){e[e.COMMON=1]="COMMON",e[e.ICON=2]="ICON",e[e.AD=3]="AD"}(l||(l={})),function(e){e[e.COMMON=1]="COMMON",e[e.NICKNAME=2]="NICKNAME",e[e.DESC=3]="DESC",e[e.RELATION=4]="RELATION"}(c||(c={})),function(e){e[e.COMMON=1]="COMMON",e[e.LOGICCOMMON=2]="LOGICCOMMON"}(d||(d={})),function(e){e[e.COMMON=1]="COMMON",e[e.AD=2]="AD"}(u||(u={})),function(e){e[e.COMMON=1]="COMMON",e[e.SIMPLE=2]="SIMPLE"}(p||(p={})),function(e){e[e.COMMON=1]="COMMON"}(h||(h={})),function(e){e[e.COMMON=1]="COMMON"}(f||(f={})),function(e){e[e.NONE=0]="NONE",e[e.COMMON=1]="COMMON",e[e.ADS=2]="ADS"}(y||(y={})),function(e){e[e.NONE=0]="NONE",e[e.ROWLOOP=1]="ROWLOOP",e[e.COLUMNLOOP=2]="COLUMNLOOP"}(_||(_={}));var g=i(8579);let m,v;!function(e){e[e.ERR_RENDER=2001]="ERR_RENDER",e[e.ERR_TPL_NONE=2002]="ERR_TPL_NONE",e[e.ERR_TPL_PARSE=2003]="ERR_TPL_PARSE",e[e.ERR_SHOW_FAILED1=2004]="ERR_SHOW_FAILED1",e[e.ERR_SHOW_FAILED2=2005]="ERR_SHOW_FAILED2"}(m||(m={})),function(e){e[e.DEFAULT=0]="DEFAULT",e[e.ING=1]="ING",e[e.PAUSE=2]="PAUSE",e[e.SUCCESS=3]="SUCCESS",e[e.INSTALLED=4]="INSTALLED"}(v||(v={}));const E=["left","top","right","bottom","width","height","maxWidth","maxHeight","minWidth","minHeight","margin","marginLeft","marginRight","marginTop","marginBottom","padding","paddingLeft","paddingRight","paddingTop","paddingBottom","borderWidth","fontSize","lineHeight","borderRadius"]},1093:(e,t,i)=>{"use strict";i.d(t,{yx:()=>f,dz:()=>y,p4:()=>_});var n=i(1503),r=i.n(n),a=i(2582),o=i(665),s=i(1106);let l="",c="";let d="{}",u="",p="",h="{}";function f(e){l?e&&e(l):a.wZ&&o.Z.clientVersion<654315827?(0,s.IN)("getOAID",{success(t){/:ok/.test(t.errMsg)?(l=t.result||"",e&&e(l)):e&&e("")},fail(){e&&e("")}}):e&&e("")}function y(e=""){return new Promise(((t,i)=>{a.wZ&&o.Z.clientVersion>=654315827||a.cj&&o.Z.clientVersion>=385879808?(0,s.IN)("getDeviceInfo",{waidPkg:e,success(e){l=e.oaid||"",c=e.imei||"",p=e.waid||"",u=e.ua||"",h=e.devIdInfo||"{}";try{d=JSON.stringify(r()(r()({},JSON.parse(h)),u?{ua:u}:{}))}catch(e){i(e)}t({oaid:l,imei:c,commonid:d,waid:p})},fail(e){i(e)}}):t({oaid:l,imei:c,commonid:d,waid:p})}))}function _(e=""){return new Promise(((t,i)=>{let n="",r="";a.wZ&&o.Z.clientVersion>=654316032?(0,s.IN)("getDeviceInfo",{waidPkg:e,success(e){n=e.waid||"",r=e.imei||"",t({waid:n,imei:r})},fail(e){i(e)}}):t({waid:n,imei:r})}))}},5373:(e,t,i)=>{"use strict";i.d(t,{wA:()=>c,Wj:()=>o,bn:()=>l,S1:()=>d,Ue:()=>s});var n=i(1547),r=i(2241);const a=new WeakMap,o=e=>a.get(e),s=function(e){const t=o(this),i={view:n.G7,text:n.xv,image:n.Ee,video:n.nk,"image-previewer":n.Vr}[e.name];let a="";e.attributes.id?a=(0,r.um)(e.attributes.id):wxNativeConsole.error(`${e.name} 缺少id`);const l=Object.keys(e.attributes).reduce(((i,n)=>{const o=e.attributes[n],s=(0,r.um)(n);return"id"===n?(i.style=Object.assign(i.style||{},t.style[a]),i):"class"===n?(i.style=o.split(/\s+/).reduce(((e,i)=>Object.assign(e,t.style[i])),i.style||{}),i):(/\{\{.+\}\}/.test(o)||(i[s]=""===o||"true"===o||"false"!==o&&o),i)}),{});l.name=a;const c=new i(l);return t[a]=c,e.children.forEach((e=>{const t=s.call(this,e);c.add(t)})),c},l=e=>{a.delete(e)};class c{constructor(){a.set(this,{})}}const d=function(e,t,i){const n=o(this);n.xom=e,n.style=t,n.state=i,s.call(this,e)}},9974:(e,t,i)=>{"use strict";i.d(t,{Z:()=>r});var n=i(8159);class r{constructor(){this.emitter=new n.Z({maxListeners:2e3}),this.callbackMap=new WeakMap,this.originalCallbackMap=new WeakMap}emit(e,t){this.emitter.emit(e,t)}on(e,t){if(t&&"function"==typeof t){const i=__errorTracer__.surroundThirdByTryCatch(t,`at ${e} callback function`);this.callbackMap.set(t,i),this.originalCallbackMap.set(i,t),this.emitter.on(e,i)}}off(e,t){if(t&&"function"==typeof t){const i=this.callbackMap.get(t);"function"==typeof i&&(this.emitter.off(e,i),this.callbackMap.delete(t),this.originalCallbackMap.delete(i))}else this.emitter.listeners(e).forEach((e=>{const t=this.originalCallbackMap.get(e);this.callbackMap.delete(t),this.originalCallbackMap.delete(e)})),this.emitter.removeAllListeners(e)}}},6120:(e,t,i)=>{"use strict";i.d(t,{Z:()=>Q});const n={0:5.5615234375,1:5.5615234375,2:5.5615234375,3:5.5615234375,4:5.5615234375,5:5.5615234375,6:5.5615234375,7:5.5615234375,8:5.5615234375,9:5.5615234375,"%":8.8916015625,"(":3.330078125,")":3.330078125,"-":3.330078125,".":2.7783203125,"/":2.7783203125,A:6.669921875,B:6.669921875,C:7.2216796875,D:7.2216796875,E:6.669921875,F:6.1083984375,G:7.7783203125,H:7.2216796875,I:2.7783203125,J:5,K:6.669921875,L:5.5615234375,M:8.330078125,N:7.2216796875,O:7.7783203125,P:6.669921875,Q:7.7783203125,R:7.2216796875,S:6.669921875,T:6.1083984375,U:7.2216796875,V:6.669921875,W:9.4384765625,X:6.669921875,Y:6.669921875,Z:6.1083984375,a:5.5615234375,b:5.5615234375,c:5,d:5.5615234375,e:5.5615234375,f:2.7783203125,g:5.5615234375,h:5.5615234375,i:2.2216796875,j:2.2216796875,k:5,l:2.2216796875,m:8.330078125,n:5.5615234375,o:5.5615234375,p:5.5615234375,q:5.5615234375,r:3.330078125,s:5,t:2.7783203125,u:5.5615234375,v:5,w:7.2216796875,x:5,y:5,z:5,"|":2.59765625};var r=i(2582),a=i(1095),o=i(665),s=i(1106),l=i(29),c=i(1661),d=i(5260);const u={aliceblue:"#f0f8ff",antiquewhite:"#faebd7",aqua:"#00ffff",aquamarine:"#7fffd4",azure:"#f0ffff",beige:"#f5f5dc",bisque:"#ffe4c4",black:"#000000",blanchedalmond:"#ffebcd",blue:"#0000ff",blueviolet:"#8a2be2",brown:"#a52a2a",burlywood:"#deb887",cadetblue:"#5f9ea0",chartreuse:"#7fff00",chocolate:"#d2691e",coral:"#ff7f50",cornflowerblue:"#6495ed",cornsilk:"#fff8dc",crimson:"#dc143c",cyan:"#00ffff",darkblue:"#00008b",darkcyan:"#008b8b",darkgoldenrod:"#b8860b",darkgray:"#a9a9a9",darkgrey:"#a9a9a9",darkgreen:"#006400",darkkhaki:"#bdb76b",darkmagenta:"#8b008b",darkolivegreen:"#556b2f",darkorange:"#ff8c00",darkorchid:"#9932cc",darkred:"#8b0000",darksalmon:"#e9967a",darkseagreen:"#8fbc8f",darkslateblue:"#483d8b",darkslategray:"#2f4f4f",darkslategrey:"#2f4f4f",darkturquoise:"#00ced1",darkviolet:"#9400d3",deeppink:"#ff1493",deepskyblue:"#00bfff",dimgray:"#696969",dimgrey:"#696969",dodgerblue:"#1e90ff",firebrick:"#b22222",floralwhite:"#fffaf0",forestgreen:"#228b22",fuchsia:"#ff00ff",gainsboro:"#dcdcdc",ghostwhite:"#f8f8ff",gold:"#ffd700",goldenrod:"#daa520",gray:"#808080",grey:"#808080",green:"#008000",greenyellow:"#adff2f",honeydew:"#f0fff0",hotpink:"#ff69b4",indianred:"#cd5c5c",indigo:"#4b0082",ivory:"#fffff0",khaki:"#f0e68c",lavender:"#e6e6fa",lavenderblush:"#fff0f5",lawngreen:"#7cfc00",lemonchiffon:"#fffacd",lightblue:"#add8e6",lightcoral:"#f08080",lightcyan:"#e0ffff",lightgoldenrodyellow:"#fafad2",lightgray:"#d3d3d3",lightgrey:"#d3d3d3",lightgreen:"#90ee90",lightpink:"#ffb6c1",lightsalmon:"#ffa07a",lightseagreen:"#20b2aa",lightskyblue:"#87cefa",lightslategray:"#778899",lightslategrey:"#778899",lightsteelblue:"#b0c4de",lightyellow:"#ffffe0",lime:"#00ff00",limegreen:"#32cd32",linen:"#faf0e6",magenta:"#ff00ff",maroon:"#800000",mediumaquamarine:"#66cdaa",mediumblue:"#0000cd",mediumorchid:"#ba55d3",mediumpurple:"#9370db",mediumseagreen:"#3cb371",mediumslateblue:"#7b68ee",mediumspringgreen:"#00fa9a",mediumturquoise:"#48d1cc",mediumvioletred:"#c71585",midnightblue:"#191970",mintcream:"#f5fffa",mistyrose:"#ffe4e1",moccasin:"#ffe4b5",navajowhite:"#ffdead",navy:"#000080",oldlace:"#fdf5e6",olive:"#808000",olivedrab:"#6b8e23",orange:"#ffa500",orangered:"#ff4500",orchid:"#da70d6",palegoldenrod:"#eee8aa",palegreen:"#98fb98",paleturquoise:"#afeeee",palevioletred:"#db7093",papayawhip:"#ffefd5",peachpuff:"#ffdab9",peru:"#cd853f",pink:"#ffc0cb",plum:"#dda0dd",powderblue:"#b0e0e6",purple:"#800080",rebeccapurple:"#663399",red:"#ff0000",rosybrown:"#bc8f8f",royalblue:"#4169e1",saddlebrown:"#8b4513",salmon:"#fa8072",sandybrown:"#f4a460",seagreen:"#2e8b57",seashell:"#fff5ee",sienna:"#a0522d",silver:"#c0c0c0",skyblue:"#87ceeb",slateblue:"#6a5acd",slategray:"#708090",slategrey:"#708090",snow:"#fffafa",springgreen:"#00ff7f",steelblue:"#4682b4",tan:"#d2b48c",teal:"#008080",thistle:"#d8bfd8",tomato:"#ff6347",turquoise:"#40e0d0",violet:"#ee82ee",wheat:"#f5deb3",white:"#ffffff",whitesmoke:"#f5f5f5",yellow:"#ffff00",yellowgreen:"#9acd32",transparent:"#00000000"};var p=i(7551);void 0!==globalThis.ImageData&&globalThis.ImageData;function h(e,t,i="",n=""){let r=`canvas_${e}_${t}_${i}_`;return n&&n!==__virtualDOM__.getRootNodeId(e)&&(r+=n),r}function f(e){const t=[];let i=1;return(0,s.Ld)(e,(e=>{let i=-1;for(let n=0;n<t.length;n++){const r=t[n],a=r[0],o=r[1];if(a.cid===e.cid&&a.canvasId===e.canvasId){i=n,o(e);break}}i>=0&&t.splice(i,1)})),function(e,n){e.cid=i++,t.push([e,n])}}const y="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",_=/^(?:[A-Za-z\d+/]{4})*?(?:[A-Za-z\d+/]{2}(?:==)?|[A-Za-z\d+/]{3}=?)?$/;"undefined"!=typeof window&&window.atob;let g=!1;o.Z.onReady((()=>{(0,s.IN)("getPermissionBytes",{indexes:[977],success:e=>{e.permissionBytes&&1===e.permissionBytes[0]&&(g=!0)}})}));const m={},v={};function E(e){return"number"==typeof e}function I(e){let t=null;if(null!=(t=/^#([0-9|A-F|a-f]{6})$/.exec(e))){return[parseInt(t[1].slice(0,2),16),parseInt(t[1].slice(2,4),16),parseInt(t[1].slice(4),16),255]}if(null!=(t=/^#([0-9|A-F|a-f]{3})$/.exec(e))){let e=t[1].slice(0,1),i=t[1].slice(1,2),n=t[1].slice(2,3);return e=parseInt(e+e,16),i=parseInt(i+i,16),n=parseInt(n+n,16),[e,i,n,255]}if(null!=(t=/^rgb\((.+)\)$/.exec(e)))return t[1].split(",").map((function(e){return Math.min(255,parseInt(e.trim(),10))})).concat(255);if(null!=(t=/^rgba\((.+)\)$/.exec(e)))return t[1].split(",").map((function(e,t){return 3===t?Math.floor(255*parseFloat(e.trim())):Math.min(255,parseInt(e.trim(),10))}));const i=e.toLowerCase();if((0,c.n)(u,i)){t=/^#([0-9|A-F|a-f]{6,8})$/.exec(u[i]);const e=parseInt(t[1].slice(0,2),16),n=parseInt(t[1].slice(2,4),16),r=parseInt(t[1].slice(4,6),16);let a=parseInt(t[1].slice(6,8),16);return a=a>=0?a:255,[e,n,r,a]}return console.group("非法颜色: "+e),console.error("不支持颜色："+e),console.groupEnd(),[0,0,0,255]}function w(e){if(Array.isArray(e)){const t=[];return e.forEach((function(e){t.push(w(e))})),t}if("object"==typeof e){const t={};for(const i in e)t[i]=w(e[i]);return t}return e}function b(e,t){if(!(r.gm||r.DD||r.Ae||/wxfile:\/\//.test(t)))if(e.pluginId||e.nodeId){const i=e.pluginId.split("/")[0],n=__virtualDOM__.getNodeById(e.nodeId,e.webviewId),r=n&&n.is||"";t=i?0===t.indexOf("/")?__virtualDOM__.getPluginRoutePrefix(i)+(0,d.sd)(r,t,!1).replace(/\.html$/,""):(0,d.sd)(__virtualDOM__.convertComponentAliasToRoute(r),t,!1).replace(/\.html$/,""):(0,d.sd)(r,t,!1).replace(/\.html$/,"")}else t=(0,d.sd)(p.Z.lastRoute,t,!1).replace(/.html$/,"");return t}class A{constructor(e,t){this.type=e,this.data=t,this.colorStop=[]}addColorStop(e,t){L?this.colorStop.push([e,t]):this.colorStop.push([e,I(t)])}}class T{constructor(e){this.width=e}}class S{constructor(e,t){this.image=e,this.repetition=t}}class C{constructor(e,t,i,n){if(this.actions=[],this.path=[],this.subpath=[],this.webviewId=e,this.canvasId=t,this.pluginId=n,this.useHardwareAccelerate=!0,this.nodeId=i,this._id=h(e,t,n,i),this.drawingState=m[this._id]=m[this._id]||[],this.state=v[this._id]=v[this._id]||{lineDash:[0,0],shadowOffsetX:0,shadowOffsetY:0,shadowBlur:0,shadowColor:L?"#000000":r.cj?[]:[0,0,0,0],font:"10px sans-serif",fontSize:10,fontWeight:"normal",fontStyle:"normal",fontFamily:"sans-serif"},this._transform={a:1,b:0,c:0,d:1,e:0,f:0},r.gm||r.DD){const e=document.createElement("canvas");this._context=e.getContext("2d")}}getActions(){const e=w(this.actions);return this.actions=[],this.path=[],this.subpath=[],e}clearActions(){this.actions=[],this.path=[],this.subpath=[]}draw(e=!1,t){const i=this.canvasId,n=w(this.actions),r=this.useHardwareAccelerate;this.actions=[],this.path=[],this.useHardwareAccelerate=!0,this.isWidgetCanvas?z({isWidgetCanvas:!0,actions:n,reserve:e}):z({canvasId:i,actions:n,reserve:e,useHardwareAccelerate:r,complete:t},this.webviewId,this.pluginId,this.nodeId)}createLinearGradient(e,t,i,n){return new A("linear",[e,t,i,n])}createCircularGradient(e,t,i){return new A("radial",[e,t,i])}createPattern(e,t){if(void 0!==t){if(-1!==["repeat","repeat-x","repeat-y","no-repeat"].indexOf(t))return e=e._src?e._src:b(this,e),new S(e,t);console.error(`Failed to execute 'createPattern' on 'CanvasContext': The provided type ('${t}') is not one of 'repeat', 'no-repeat', 'repeat-x', or 'repeat-y'.`)}else console.error("Failed to execute 'createPattern' on 'CanvasContext': 2 arguments required, but only 1 present.")}measureText(e){let t;return r.gm||r.DD?(this._context.font=this.state.font,t=this._context.measureText(e)):(0,s.IN)("measureText",{text:e,fontSize:this.state.fontSize,fontFamily:this.state.fontFamily,fontWeight:this.state.fontWeight,fontStyle:this.state.fontStyle,complete(e){t={width:e.width||0}}}),new T(t.width||0)}save(){this.actions.push({method:"save",data:[]}),this.drawingState.push(this.state)}restore(){this.actions.push({method:"restore",data:[]}),this.state=v[this._id]=this.drawingState.pop()||{lineDash:[0,0],shadowOffsetX:0,shadowOffsetY:0,shadowBlur:0,shadowColor:L?"#000000":r.cj?[]:[0,0,0,0],font:"10px sans-serif",fontSize:10,fontWeight:"normal",fontStyle:"normal",fontFamily:"sans-serif"}}getLineDash(){return this.state.lineDash}beginPath(){this.path=[],this.subpath=[],(r.gm||L)&&this.path.push({method:"beginPath",data:[]})}moveTo(e,t){this.path.push({method:"moveTo",data:[e,t]}),this.subpath=[[e,t]]}closePath(){this.path.push({method:"closePath",data:[]}),this.subpath.length&&(this.subpath=[this.subpath.shift()])}lineTo(e,t){0===this.path.length&&0===this.subpath.length?this.path.push({method:"moveTo",data:[].slice.apply(arguments)}):this.path.push({method:"lineTo",data:[].slice.apply(arguments)}),this.subpath.push([e,t])}quadraticCurveTo(e,t,i,n){this.path.push({method:"quadraticCurveTo",data:[e,t,i,n]}),this.subpath.push([i,n])}bezierCurveTo(e,t,i,n,r,a){this.path.push({method:"bezierCurveTo",data:[e,t,i,n,r,a]}),this.subpath.push([r,a])}arc(e,t,i,n,a,o=!1){if(!r.wZ||L)return this.path.push({method:"arc",data:[e,t,i,n,a,o]}),void this.subpath.push([e,t]);const s=e+Math.cos(n)*i,l=t+Math.sin(n)*i;if(this.subpath.push([s,l]),o&&n-a>=2*Math.PI||!o&&a-n>=2*Math.PI)this.subpath.push([s,l]);else{const n=e+Math.cos(a)*i,r=t+Math.sin(a)*i;this.subpath.push([n,r])}this.path.push({method:"arc",data:[e,t,i,n,a,o]})}rect(e,t,i,n){this.path.push({method:"rect",data:[e,t,i,n]}),this.subpath=[[e,t]],r.wZ&&!L&&this.path.push({method:"closePath",data:[]})}arcTo(e,t,i,n,a,o){if((!r.wZ||L)&&!o)return this.path.push({method:"arcTo",data:[e,t,i,n,a]}),void this.subpath.push([i,n]);const s=this.subpath[this.subpath.length-1],l=s[0],c=s[1];if(l===e&&c===t||e===i&&t===n||0===a)return this.actions.push({method:"lineTo",data:[e,t]}),void this.subpath.push([e,t]);if(l===e&&l===i||c===t&&c===n)return this.actions.push({method:"lineTo",data:[e,t]}),void this.subpath.push([e,t]);const{sqrt:d,acos:u,sin:p,tan:h,atan:f,PI:y}=Math,_=function(e){return e**2},g=l-e,m=c-t,v=i-e,E=n-t,I=u((g*v+m*E)/(d(_(g)+_(m))*d(_(v)+_(E))))/2,w=Math.round(a/p(I)*1e6)/1e6,b=Math.round(a/h(I)*1e6)/1e6;let A,T,S,C,P,D;if(l-e==0)A=e,T=c-t>0?t+b:t-b;else if(c-t==0)A=l-e>0?e+b:e-b,T=t;else{const i=(c-t)/(l-e),n=c-i*l;A=(d(_(g)+_(m))*b+g*e+m*t-n*m)/(g+i*m),T=i*A+n}if(i-e==0)S=e,C=n-t>0?t+b:t-b;else if(n-t==0)S=i-e>0?e+b:e-b,C=t;else{const r=(n-t)/(i-e),a=n-r*i;S=(d(_(v)+_(v))*b+v*e+E*t-a*E)/(v+r*E),C=r*S+a}const O=(A+S)/2-e,k=(T+C)/2-t;if(0===k)P=e,D=k>0?t+w:t-w;else{const i=k/O,n=t-i*e;P=(d(_(O)+_(k))*w+e*O+t*k-n*k)/(O+i*k),D=i*P+n}P=Math.round(1e6*P)/1e6,D=Math.round(1e6*D)/1e6;const x=T-D,R=A-P,N=y-2*I;let M=f(x/R);0===x&&R<0&&(M=Math.PI);const F=(A-P)*(C-D)-(T-D)*(S-P);this.path.push({method:"arc",data:[P,D,a,M,F>0?M+N:M-N,F<0]}),this.subpath.push([S,C])}getTransform(){return this._transform}clip(){this.actions.push({method:"clip",data:w(this.path)})}set lineDashOffset(e){if(r.gm||r.DD||r.Ae)this.actions.push({method:"setLineDashOffset",data:[e]});else{const t=this.state.lineDash||[0,0];this.actions.push({method:"setLineDash",data:[t,e]})}}set globalCompositeOperation(e){this.actions.push({method:"setGlobalCompositeOperation",data:[e]})}set shadowBlur(e){r.gm||r.DD||r.Ae?this.actions.push({method:"setShadowBlur",data:[e]}):(this.actions.push({method:"setShadow",data:[this.state.shadowOffsetX,this.state.shadowOffsetY,e,this.state.shadowColor]}),this.state.shadowBlur=e)}set shadowColor(e){if(r.gm||r.DD||r.Ae)return void this.actions.push({method:"setShadowColor",data:[e]});let t;t=L?e:r.cj&&0===this.state.shadowBlur?[]:I(e),this.actions.push({method:"setShadow",data:[this.state.shadowOffsetX,this.state.shadowOffsetY,this.state.shadowBlur,t]}),this.state.shadowColor=t}set shadowOffsetX(e){r.gm||r.DD||r.Ae?this.actions.push({method:"setShadowOffsetX",data:[e]}):(this.actions.push({method:"setShadow",data:[e,this.state.shadowOffsetY,this.state.shadowBlur,this.state.shadowColor]}),this.state.shadowOffsetX=e)}set shadowOffsetY(e){r.gm||r.DD||r.Ae?this.actions.push({method:"setShadowOffsetY",data:[e]}):(this.actions.push({method:"setShadow",data:[this.state.shadowOffsetX,e,this.state.shadowBlur,this.state.shadowColor]}),this.state.shadowOffsetY=e)}set font(e){this.state.font=e;const t=e.match(/^(([\w\-]+\s)*)(\d+r?px)(\/(\d+\.?\d*(r?px)?))?\s+(.*)/);if(!t)return void console.warn("Failed to set 'font' on 'CanvasContext': invalid format.");const i=t[1].trim().split(/\s/),n=parseFloat(t[3]),a=t[7],o=[];let s="";const l=this;function c(){o.push({method:"setFontWeight",data:["normal"]}),l.state.fontWeight="normal"}if(i.forEach(((e,t)=>{["italic","oblique","normal"].indexOf(e)>-1?(o.push({method:"setFontStyle",data:[e]}),this.state.fontStyle=e):["bold","normal"].indexOf(e)>-1?(o.push({method:"setFontWeight",data:[e]}),this.state.fontWeight=e):0===t?(o.push({method:"setFontStyle",data:["normal"]}),l.state.fontStyle="normal"):1===t&&c()})),1===i.length&&c(),s=o.map((e=>e.data[0])).join(" "),this.state.fontSize=n,this.state.fontFamily=a,r.gm||r.DD||r.Ae)return s=`${s} ${n}px ${a}`,void this.actions.push({method:"setFont",data:[s]});this.actions.push.apply(this.actions,o),this.actions.push({method:"setFontSize",data:[n]},{method:"setFontFamily",data:[a]})}get font(){return this.state.font}set fillStyle(e){P(this,"setFillStyle",e)}set strokeStyle(e){P(this,"setStrokeStyle",e)}set globalAlpha(e){e=Math.floor(255*parseFloat(e)),this.actions.push({method:"setGlobalAlpha",data:[e]})}set textAlign(e){this.actions.push({method:"setTextAlign",data:[e]})}set lineCap(e){this.actions.push({method:"setLineCap",data:[e]})}set lineJoin(e){this.actions.push({method:"setLineJoin",data:[e]})}set lineWidth(e){this.actions.push({method:"setLineWidth",data:[e]})}set miterLimit(e){this.actions.push({method:"setMiterLimit",data:[e]})}set textBaseline(e){this.actions.push({method:"setTextBaseline",data:[e]})}}function P(e,t,i){"string"==typeof i?L?e.actions.push({method:t,data:["normal",i]}):e.actions.push({method:t,data:["normal",I(i)]}):"object"==typeof i&&i instanceof A?e.actions.push({method:t,data:[i.type,i.data,i.colorStop]}):i instanceof S&&e.actions.push({method:t,data:["pattern",i.image,i.repetition]})}[].concat(["scale","rotate","translate","setTransform","transform"],["drawImage","fillText","fill","stroke","fillRect","strokeRect","clearRect","strokeText"]).forEach((function(e){C.prototype[e]="fill"===e||"stroke"===e?function(){this.actions.push({method:e+"Path",data:w(this.path)})}:"fillRect"===e?function(e,t,i,n){this.actions.push({method:"fillPath",data:[{method:"rect",data:[e,t,i,n]}]})}:"strokeRect"===e?function(e,t,i,n){this.actions.push({method:"strokePath",data:[{method:"rect",data:[e,t,i,n]}]})}:"fillText"===e||"strokeText"===e?function(t,i,n,r){const a=[t.toString(),i,n];"number"==typeof r&&a.push(r),this.actions.push({method:e,data:a})}:"drawImage"===e?function(t,i,n,r,a,o,s,l,c){let d;t=t._src?t._src:b(this,t),void 0===c&&(o=i,s=n,l=r,c=a,i=void 0,n=void 0,r=void 0,a=void 0),d=E(i)&&E(n)&&E(r)&&E(a)?[t,o,s,l,c,i,n,r,a]:E(l)&&E(c)?[t,o,s,l,c]:[t,o,s],this.actions.push({method:e,data:d})}:"clearRect"===e?function(){this.useHardwareAccelerate=!1,this.actions.push({method:e,data:[].slice.apply(arguments)})}:"transform"===e||"setTransform"===e?function(t,i,n,r,a,o){this._transform={a:t,b:i,c:n,d:r,e:a,f:o},this.actions.push({method:e,data:[t,i,n,r,a,o]})}:function(){this._ignoreScale&&"scale"===e?this._ignoreScale=!1:this.actions.push({method:e,data:[].slice.apply(arguments)})}})),["setFillStyle","setTextAlign","setStrokeStyle","setGlobalAlpha","setShadow","setFontSize","setLineCap","setLineJoin","setLineWidth","setMiterLimit","setTextBaseline","setLineDash"].forEach((function(e){"setFillStyle"===e||"setStrokeStyle"===e?C.prototype[e]=function(){const t=arguments[0];P(this,e,t)}:"setGlobalAlpha"===e?C.prototype[e]=function(){const t=[].slice.apply(arguments,[0,1]);t[0]=Math.floor(255*parseFloat(t[0])),this.actions.push({method:e,data:t})}:"setShadow"===e?C.prototype[e]=function(){const t=[].slice.apply(arguments,[0,4]);L||(t[3]=r.cj&&0===t[2]?[]:I(t[3])),this.actions.push({method:e,data:t}),this.state.shadowBlur=t[2],this.state.shadowColor=t[3],this.state.shadowOffsetX=t[0],this.state.shadowOffsetY=t[1]}:"setLineDash"===e?C.prototype[e]=function(){const t=[].slice.apply(arguments,[0,2]);t[0]=t[0]&&t[0].length?t[0]:[0,0],t[1]=t[1]||0,this.actions.push({method:e,data:t}),this.state.lineDash=t[0]}:"setFontSize"===e?C.prototype.setFontSize=function(e){this.state.font=this.state.font.replace(/\d+\.?\d*px/,e+"px"),this.state.fontSize=e,this.actions.push({method:"setFontSize",data:[e]})}:C.prototype[e]=function(){this.actions.push({method:e,data:[].slice.apply(arguments,[0,1])})}}));i(3170);const D={},O={};function k(e){return D[e]?D[e]:x(e)}function x(e){const t=new R(e);return D[e]=t,t}r.wZ&&(0,s.jQ)("onXWebCanvasSurfaceChange",((e={})=>{const t=O[e.viewId];t&&"function"==typeof t.swapSurface&&t.swapSurface()})),(0,s.Ld)("skiaCanvasSizeChanged",(({canvasId:e,pluginId:t,nodeId:i,position:n},r)=>{const a=h(r,e,t,i),o=D[a];0===n.width&&0===n.height||!o||o.width===n.width&&o.height===n.height||(o.width=n.width,o.height=n.height,o.canvas&&o.context&&(o.canvas.width=n.width,o.canvas.height=n.height,o.needsReplay()&&o.replayActions()))}));class R{constructor(e){this.id=e,this.width=0,this.height=0,this.context=null,this._actionsDefer=[],this._actionsWaiting=!1,this._images=[],this._actionsQueue=[],this._contextPromise=new Promise((e=>{this._resolveContext=e}))}init(e,t,n,a){this.width=t,this.height=n,r.cj&&(this.canvas=new i.g.Canvas(e),this.context=this.canvas.getContext("2d")),r.wZ&&(this.canvasView=HTMLCanvasView.createView(a),O[a]=this.canvasView,this.canvas=HTMLCanvasElement.createElement(this.canvasView),this.context=this.canvas.getContext("2d")),this._resolveContext&&this._resolveContext(this.context)}preloadImage(e){e.forEach((e=>{let t="";const n=e.method,a=e.data;"drawImage"===n?t=a[0]:"setFillStyle"===n&&"pattern"===a[0]&&(t=a[1]),t&&!this._images[t]&&(r.cj?(this._images[t]=new i.g.Image,this._images[t].onload=()=>{this._images[t].ready=!0}):r.wZ&&(this._images[t]=new SkiaImage,this._images[t].onload=()=>{this._images[t].ready=!0}),this._images[t].setSrc(t))}))}checkImageLoaded(e,t,i){const n=this._images[e];return n.ready?(i(n),!0):(this._actionsDefer.unshift([t,!0]),this._actionsWaiting=!0,n.onload=()=>{n.ready=!0,i(n),this._actionsWaiting=!1;const e=this._actionsDefer.slice(0);this._actionsDefer=[];let t=e.shift();for(;t;)this.draw(t[0],t[1],t[2],this._webviewId,this._nodeId,this._pluginId),t=e.shift()},!1)}draw(e,t,i,n,r,a){this._webviewId=n,this._nodeId=r,this._pluginId=a,this.context?this._draw(e,t,i,n,r,a):this._contextPromise.then((()=>(this._draw(e,t,i,n,r,a),null))).catch((()=>{}))}_draw(e,t,i,n,a,o){const s=this.context;if(e)if(t||this._flushQueue(),this._enqueue({actions:e,reserve:t}),this._actionsWaiting)this._actionsDefer.push([e,t,i]);else{t||(s.fillStyle="#000000",s.strokeStyle="#000000",s.shadowColor="#000000",s.shadowBlur=0,s.shadowOffsetX=0,s.shadowOffsetY=0,s.setTransform(1,0,0,1,0,0),s.clearRect(0,0,this.width,this.height)),this.preloadImage(e,n,a,o),s.save();for(let t=0;t<e.length;t++){const i=e[t];let n=i.method;const r=i.data;if(/^set/.test(n)&&"setTransform"!==n){const i=n[3].toLowerCase()+n.slice(4);let a;if("fillStyle"===i||"strokeStyle"===i){if("normal"===r[0])a=r[1];else if("linear"===r[0])a=s.createLinearGradient(...r[1]),r[2].forEach((function(e){const t=e[0],i=e[1];a.addColorStop(t,i)}));else if("radial"===r[0]){const e=r[1][0],t=r[1][1],i=[e,t,0,e,t,r[1][2]];a=s.createRadialGradient(...i),r[2].forEach((function(e){const t=e[0],i=e[1];a.addColorStop(t,i)}))}else if("pattern"===r[0]){if(!this.checkImageLoaded(r[1],e.slice(t+1),(e=>{e&&(s[i]=s.createPattern(e,r[2]))})))break;continue}s[i]=a}else if("globalAlpha"===i)s[i]=r[0]/255;else if("shadow"===i){const e=["shadowOffsetX","shadowOffsetY","shadowBlur","shadowColor"];r.forEach((function(t,i){e[i],s[e[i]]=t}))}else"fontSize"===i?s.font=s.font.replace(/\d+\.?\d*px/,r[0]+"px"):"lineDash"===i?(s.setLineDash(r[0]),s.lineDashOffset=r[1]||0):"textBaseline"===i?("normal"===r[0]&&(r[0]="alphabetic"),s[i]=r[0]):s[i]=r[0]}else if("fillPath"===n||"strokePath"===n)n=n.replace(/Path/,""),s.beginPath(),r.forEach((function(e){s[e.method](...e.data)})),s[n]();else if("fillText"===n){let[e,...t]=r;t&&t.map&&(t=t.map((e=>"string"==typeof e?parseFloat(e):e))),s.fillText(e,...t)}else if("drawImage"===n){let[i,...n]=r;this._images=this._images||{},n&&n.map&&(n=n.map((e=>"string"==typeof e?parseFloat(e):e)));if(!this.checkImageLoaded(i,e.slice(t+1),(e=>{e&&s.drawImage.apply(s,[e,...n.slice(4,8),...n.slice(0,4)])})))break}else if("clip"===n)r.forEach((function(e){s[e.method](...e.data)})),s.clip();else if("arcTo"===n||"rotate"===n){let e=r;r&&r.map&&(e=r.map((e=>"string"==typeof e?parseFloat(e):e))),s[n](...e)}else if("strokeText"===n){let[e,...t]=r;t&&t.map&&(t=t.map((e=>"string"==typeof e?parseFloat(e):e))),s[n](e,...t)}else s[n](...r)}s.restore(),r.wZ&&this.canvasView.present(),this._actionsWaiting||"function"==typeof i&&i()}}getImageData(e={}){this.context?this._getImageData(e):this._contextPromise.then((()=>(this._getImageData(e),null))).catch((()=>{}))}_getImageData(e={}){let t;try{const{x:i,y:n,width:r,height:a}=e||{};t=this.context.getImageData(i,n,r,a)}catch(t){return void(0,d.Ky)(e,t)}if(!t)return void(0,d.Ky)("canvasGetImageData:fail");const i={width:t.width,height:t.height,data:t.data};(0,d.AK)(e,i)}putImageData(e={}){this.context?this._putImageData(e):this._contextPromise.then((()=>(this._putImageData(e),null))).catch((()=>{}))}_putImageData(e={}){try{const{x:t,y:n,width:a,height:o,data:s}=e||{};let l;r.cj?l=new i.g.ImageData(s,a,o):r.wZ&&(l=new SkiaImageData(s,a,o)),r.wZ&&this.canvasView.prepareDraw(),this.context.putImageData(l,t,n),r.wZ&&this.canvasView.present()}catch(t){return void(0,d.Ky)(e,t)}(0,d.El)(e,"canvasPutImageData:ok")}replayActions(){const e=()=>{};this._actionsQueue.forEach((t=>{this.draw(t.actions,t.reserve,e,this._webviewId,this._nodeId,this._pluginId)}))}needsReplay(){return this._actionsQueue.length>0}_flushQueue(){this._actionsQueue=[]}_enqueue(e){this._actionsQueue.push(e)}}const N=r.wZ&&o.Z.useXWebCanvas,M=r.cj&&o.Z.useSkiaCanvas,L=(r.wZ&&o.Z.useNewXWebCanvasToTFP,N||M),F={},j={},W={},U={};let V=0,B=0,Z=4500;const G=Date.now,H=(f("onCanvasMethodCallback"),f("onDrawCanvas"));function $({canvasId:e,pluginId:t,nodeId:i,viewId:n,webviewId:r}){const a=h(r,e,t,i);W[a]&&delete W[a],L&&function({canvasId:e,pluginId:t,nodeId:i,viewId:n,webviewId:r}){const a=h(r,e,t,i);delete D[a],delete O[n]}({webviewId:r,canvasId:e,pluginId:t,nodeId:i,viewId:n})}function Y(e,t,i=!1,n,a,o,l){if(r.gm||r.qB||r.Mq||r.Ae){const n={actions:t,reserve:i,canvasId:e};H(n,(function(e){"function"==typeof l&&l({errMsg:e.errMsg})})),(0,s.nY)("canvasActionsChanged",n)}else(0,s.IN)("drawCanvas",{canvasId:e,reserve:i,useHardwareAccelerate:n,actions:t,success:a,fail:o,complete:l})}function z({isWidgetCanvas:e,canvasId:t,actions:i,reserve:n,useHardwareAccelerate:r,success:a,fail:o,complete:l},c=p.Z.currentWebviewId,d="",u=""){const f=G();if(!Array.isArray(i))return;if(e){if(f-V<Z){const e={errMsg:"drawCanvas:fail 调用 draw 过于频繁。"};return B+=1,B>500&&(B=0,console.warn(e.errMsg)),void("function"==typeof o&&o(e))}return V=f,void(0,s.IN)("drawCanvas",{canvasId:void 0,reserve:n,actions:i,success:a,fail:o,complete:l})}const y=h(c,t,d,u);if(L){k(y).draw(i,n,l,c,u,d)}else if("number"==typeof W[y]){Y(W[y],i,n,r,a,o,l)}else U[y]=U[y]||[],U[y]=U[y].concat({actions:i,reserve:n,useHardwareAccelerate:r,success:a,fail:o,complete:l})}"undefined"!=typeof __widgetConfig__&&(Z="number"==typeof __widgetConfig__.drawMinInterval?__widgetConfig__.drawMinInterval:25),(0,s.Ld)("canvasInsert",(({canvasId:e,viewId:t,canvasNumber:i,pluginId:n,data:r,position:a,nodeId:o,compPath:s},c)=>{L&&function({canvasId:e,viewId:t,canvasNumber:i,pluginId:n,position:r,nodeId:a},o){const s=h(o,e,n,a);let l=k(s);l.context&&(l=x(s)),l.context||l.init(i,r.width,r.height,t,o)}({canvasId:e,viewId:t,canvasNumber:i,pluginId:n,position:a,nodeId:o},c);const d=h(c,e,n,o);F[i]={lastTouches:[],data:r,compPath:s},W[d]=i,j[i]=a,Array.isArray(U[d])&&(U[d].forEach((function(e){Y(i,e.actions,e.reserve,e.useHardwareAccelerate,e.success,e.fail,e.complete)})),delete U[d]),(0,l.dq)(c,(()=>{$({canvasId:e,pluginId:n,nodeId:o,viewId:t,webviewId:c})}))})),(0,s.Ld)("canvasUpdate",(({canvasNumber:e,position:t})=>{(0,c.n)(j,e)&&(j[e]=t)})),(0,s.Ld)("canvasRemove",(({canvasId:e,pluginId:t,nodeId:i,viewId:n},r)=>{$({canvasId:e,pluginId:t,nodeId:i,viewId:n,webviewId:r})}));const q=(e,t,i="",n="")=>new C(e,t,i,n);let K=n;let J=null;const X=()=>{if(J)return J;if((0,a.aI)()){const e=new NativeGlobal.Canvas;e.width=1,e.height=1,J=e.getContext("2d")}else J=((e,t)=>{const i=t&&t.__wxExparserNodeId__&&t.__wxExparserNodeId__!==__virtualDOM__.getRootNodeId(p.Z.currentWebviewId)?t.__wxExparserNodeId__:"";return q(p.Z.currentWebviewId,e,i)})();return J};const Q=new class{constructor(){}getCharWidth(e,t){let i=0;return i=K[e]?K[e]:10,i*t/10}limitString(e,t){return e&&e.length>t?e.substring(0,t)+"...":e}getTextWidth(e,t){if(r.wZ)return this.getTextWidthInAndroid(e,t);const i=X();return t&&(i.font=`${t}px PingFangSC-Regular, SF Pro Display, SF Pro Text`),Math.ceil(i.measureText(e).width||0)+1}getTextWidthInAndroid(e,t){e=(e=String(e)).split("");let i=0;return e.forEach((e=>{let n=this.getCharWidth(e,t);i+=n})),i}getMaxWordLength(e,t,i,n=!0){e=(e=String(e)).split("");let r=0,a=0,o=0;n&&(o=this.getTextWidth("...",t),i-=o);for(let n=0;n<e.length;n++){let o=e[n],s=this.getCharWidth(o,t);if(r+s>i)break;a++,r+=s}return a}textMetrics(e,t){const{fontSize:i,maxWidth:n,maxLines:r=1}=t;let a=[],o=0,s=e.substring(0,e.length);for(;o<r;){let e=this.getMaxWordLength(s,i,n,!(o!==r-1)),t=o===r-1?this.limitString(s,e):s.substring(0,e);t&&a.push({text:t,width:this.getTextWidth(t,i)}),o++,s=s.substring(e,s.length)}return a}}},1957:(e,t,i)=>{"use strict";i.d(t,{W:()=>y});var n=i(8159),r=i(3170);const a=["left","top","right","bottom","width","height","margin","marginLeft","marginRight","marginTop","marginBottom","padding","paddingLeft","paddingRight","paddingTop","paddingBottom","fontSize","lineHeight","borderRadius"],o=["margin","marginTop","marginBottom","marginLeft","marginRight","padding","paddingTop","paddingBottom","paddingLeft","paddingRight","width","height"];var s=i(2241),l=i(665),c=i(2999);const d=new n.Z({maxListeners:2e5});let u=32768,p="portrait",h="";l.Z.onReady((()=>{p=l.Z.deviceOrientation||p,h=(0,r.Oo)().model||""}));const f=(e,t)=>-1!==["click","touchstart","touchmove","touchend","touchcancel","ready","prop-change"].indexOf(e)?`element-${t}-${e}`:-1!==["layout"].indexOf(e)?e:void 0;class y{constructor({parentId:e=0,id:t=u++,style:i={},props:n={},name:r=""}={}){const c=l.Z.platform;this.parentId=e,this.dest=0,this.id=t,this.name=r,this.children={},this.parent=null,this.isInserted=!1,this.shouldUpdate=!1,this.readyResult=new Promise((e=>{this.on("ready",e)})),i=Object.assign({left:void 0,top:void 0,right:void 0,bottom:void 0,width:void 0,height:void 0,maxWidth:void 0,maxHeight:void 0,minWidth:void 0,minHeight:void 0,margin:void 0,marginLeft:void 0,marginRight:void 0,marginTop:void 0,marginBottom:void 0,padding:void 0,paddingLeft:void 0,paddingRight:void 0,paddingTop:void 0,paddingBottom:void 0,borderWidth:void 0,flexDirection:void 0,justifyContent:void 0,alignItems:void 0,alignSelf:void 0,flex:void 0,flexWrap:void 0,position:void 0,hidden:!1,scale:1,scaleWidth:1,scaleHeight:1,color:void 0,fontSize:void 0,textAlign:void 0,fontWeight:void 0,lineHeight:void 0,lineBreak:void 0,backgroundColor:void 0,backgroundColorOpacity:1,borderRadius:void 0,borderColor:void 0,borderColorOpacity:1,opacity:void 0,overflow:void 0,zIndex:1,fixed:!1,rotate:0},i),Object.assign(i,i[p]);const d=/iphone x/.test(h.toLowerCase())?"iphone x":c;Object.assign(i,i[d]),Object.assign(i,i[`${d}-${p}`]),this.style={},this.computedStyle=Object.assign({},i),this.lastComputedStyle=Object.assign({},i),this.layoutBox=null,Object.keys(i).forEach((e=>{Object.defineProperty(this.style,e,{configurable:!0,enumerable:!0,get:()=>i[e],set:t=>{if(t!==i[e]&&void 0!==t){if(i[e]=t,this.computedStyle[e]=t,this.lastComputedStyle[e]=t,-1!==a.indexOf(e)&&this.style.scale){const i=t*this.style.scale;this.computedStyle[e]=i,this.lastComputedStyle[e]=i}"scale"===e&&a.forEach((e=>{i[e]&&(this.computedStyle[e]=i[e]*t,this.lastComputedStyle[e]=i[e]*t)})),this.shouldUpdate=!0,"hidden"===e&&(t?((0,s.cM)(this.id,this.name,"隐藏, 保存宽高",this.computedStyle.width,this.computedStyle.height),o.forEach((e=>{this.computedStyle[e]=0}))):((0,s.cM)(this.id,this.name,"显示, 设置回来",this.lastComputedStyle.width,this.lastComputedStyle.height),o.forEach((e=>{this.computedStyle[e]=this.lastComputedStyle[e]})))),this.requestLayout()}}})})),a.forEach((e=>{if(this.style[e]&&this.style.scale){const t=this.style[e]*this.style.scale;this.computedStyle[e]=t,this.lastComputedStyle[e]=t}})),i.hidden&&o.forEach((e=>{this.computedStyle[e]=0})),Object.keys(n).forEach((e=>{Object.defineProperty(this,e,{configurable:!0,enumerable:!0,get:()=>n[e],set:t=>{t!==n[e]&&(n[e]=t,this.shouldUpdate=!0,this.requestLayout())}})})),["touchstart","touchmove","touchend","touchcancel"].forEach((e=>{this.on(e,(t=>{if(!this.bubbleEvent||!this.parent)return;let i=0,n=0;try{i=this.layoutBox.left,n=this.layoutBox.top}catch(e){}if("touchstart"===e||"touchend"===e){const r=Object.assign({},t);r.x+=i,r.y+=n,this.parent.emit(e,r)}else{const r=t.map((e=>({x:e.x+i,y:e.y+n})));this.parent.emit(e,r)}}))}))}getChildren(){return Object.keys(this.children).map((e=>{const t=this.children[e];return t.dest=this.dest,{id:t.id,name:t.name,style:t.computedStyle,children:t.getChildren()}}))}getAbsolutePosition(e){if(!e)return this.getAbsolutePosition(this);if(!e.parent)return{left:0,top:0};const{left:t,top:i}=this.getAbsolutePosition(e.parent);return{left:t+e.layoutBox.left,top:i+e.layoutBox.top}}add(e){e.parent=this,e.parentId=this.id,e.dest=this.dest,this.children[e.id]=e,this.requestLayout()}remove(e){e?this.children[e.id]&&(e.remove(),delete this.children[e.id]):(Object.keys(this.children).forEach((e=>{this.children[e].remove(),delete this.children[e]})),this.destroy(),this.parent&&delete this.parent.children[this.id]),this.requestLayout()}emit(e,t){d.emit(f(e,this.id),t)}on(e,t){d.on(f(e,this.id),t)}once(e,t){d.once(f(e,this.id),t)}off(e,t){d.off(f(e,this.id),t)}nextLayout(e){if(!e||"function"!=typeof e)return new Promise((e=>this.nextLayout(e)));setTimeout(e,250)}nextUpdate(e){if(!e||"function"!=typeof e)return new Promise((e=>this.nextUpdate(e)));this.once("update-done",e)}ready(){const e=Object.keys(this.children).map((e=>this.children[e].ready()));return Promise.all(e.concat(this.readyResult))}requestLayout(){this.emit("layout")}forceUpdate(){const e=this.isInserted?this.update():this.insert(),t=Object.keys(this.children).map((e=>this.children[e].forceUpdate()));return e.then((()=>Promise.all(t)))}insert(){return Promise.resolve()}update(){return Promise.resolve()}destroy(){["click","ready","touchstart","touchmove","touchend","touchcancel"].forEach((e=>{const t=f(e,this.id);d.removeAllListeners(t)}))}}const _=e=>{const{id:t}=JSON.parse(e.data);d.emit(f("click",t))};(0,c.n)("onTextViewClick",_),(0,c.n)("onImageViewClick",_),["onTouchStart","onTouchMove","onTouchEnd","onTouchCancel"].forEach((e=>{const t=e.replace(/^on/,"").toLowerCase();(0,c.n)(e,(e=>{try{const{id:i}=JSON.parse(e.data);d.emit(f(t,i),e.touch||e.touches)}catch(e){}}))}))},1547:(e,t,i)=>{"use strict";i.d(t,{Ee:()=>_,Vr:()=>R,xv:()=>s,nk:()=>D,G7:()=>o,kh:()=>O.k,_w:()=>f,uo:()=>h});var n=i(1106),r=i(1957),a=i(2241);class o extends r.W{constructor({id:e,parentId:t,style:i,props:n={},type:r="text",name:a="",autoInsert:s=!1,eventType:l="touch",clickState:c=!1,bubbleEvent:d=!1}={}){super({id:e,style:i,props:Object.assign(n,{fullscreen:!1}),name:a,parentId:t}),this.type="text"===r?"TextView":"ImageView",this.eventType=l,this.autoInsert=s,this.bubbleEvent=d,"touch"===this.eventType&&c&&this.ready().then((()=>{this.mask=new o({style:{backgroundColor:"rgba(0, 0, 0, 0.1)",hidden:!0,position:"absolute",left:0,top:0},eventType:"click"}),this.mask.name="mask",this.add(this.mask)})).catch((()=>{}));let u=Date.now(),p={x:0,y:0};this.on("touchstart",(e=>{c&&this.mask&&(this.mask.style.hidden=!1),u=Date.now(),p=e}));const h=e=>{c&&this.mask&&(this.mask.style.hidden=!0);let t={x:0,y:0};try{t=this.getAbsolutePosition()}catch(e){}let i={x:0,y:0};Array.isArray(e)?i=e.pop():e.x&&e.y&&(i=e);const n={absoluteX:t.left+p.x,absoluteY:t.top+p.y,relativeX:p.x,relativeY:p.y,absoluteEndX:t.left+i.x,absoluteEndY:t.top+i.y,relativeEndX:i.x,relativeEndY:i.y,pressInterval:Date.now()-u};this.emit("click",n)};this.on("touchend",h),this.on("touchcancel",h),this.autoInsert&&this.insert()}toNativeData(){const e=["borderRadius","borderWidth","borderColor","opacity","overflow","fixed","rotate"];"ImageView"===this.type&&e.push("objectFit");const t=e.reduce(((e,t)=>(e[t]=this.computedStyle[t],"borderColor"===t&&(e[t]=(0,a.$v)(this.computedStyle[t])),e)),{});t.bgColor=(0,a.$v)(this.computedStyle.backgroundColor),t.scaleX=this.computedStyle.scaleWidth,t.scaleY=this.computedStyle.scaleHeight;let i={left:this.computedStyle.left,top:this.computedStyle.top,width:this.computedStyle.width,height:this.computedStyle.height};this.layoutBox&&(i={left:this.layoutBox.left,top:this.layoutBox.top,width:this.layoutBox.width,height:this.layoutBox.height}),this.computedStyle.hidden&&(i.width=0,i.height=0),this.mask&&(this.mask.style.width=i.width,this.mask.style.height=i.height),t.padding=[0,0,0,0],void 0!==t.borderRadius&&t.borderRadius||(t.borderRadius=0);return{parentId:this.parentId,dest:this.dest,viewId:this.id,position:i,hide:this.computedStyle.hidden,style:t,notCoverRect:!0,fullscreen:this.fullscreen,zIndex:this.style.zIndex,fixed:t.fixed}}insert(){const e=Object.assign(this.toNativeData(),{clickable:"click"===this.eventType,gesture:"touch"===this.eventType,transEvt:!1,sendTo:"appservice",data:JSON.stringify({id:this.id})});return this.isInserted=!0,new Promise(((t,i)=>{(0,n.IN)(`insert${this.type}`,Object.assign(e,{success:e=>{(0,a.cM)(this.name,this.id,"ready"),this.emit("ready"),t(e)},fail:i}))}))}update(){this.shouldUpdate=!1;const e=this.toNativeData();return new Promise(((t,i)=>{(0,n.IN)(`update${this.type}`,Object.assign(e,{success:t,fail:i}))}))}destroy(){super.destroy();const e={dest:this.dest,viewId:this.id};return new Promise(((t,i)=>{(0,n.IN)(`remove${this.type}`,Object.assign(e,{success:t,fail:i}))}))}animate({left:e,top:t,opacity:i,scaleWidth:r,scaleHeight:a,rotate:o=0,duration:s=500}={}){const l={dest:this.dest,viewId:this.id,easing:"ease-in",duration:s,finalStyle:{left:e,top:t,opacity:i,rotate:o,scaleX:r,scaleY:a}};return new Promise(((e,t)=>{(0,n.IN)("animateCoverView",Object.assign(l,{success:e,fail:t}))})).then((n=>(void 0!==e&&(this.style.left=e),void 0!==t&&(this.style.top=t),void 0!==r&&(this.style.scaleWidth=r),void 0!==a&&(this.style.scaleHeight=a),void 0!==i&&(this.style.opacity=i),void 0!==o&&(this.style.rotate=o),n)))}}class s extends o{constructor({id:e,style:t,value:i="",name:n="",autoInsert:r=!1,eventType:a,bubbleEvent:o,clickState:s}={}){super({id:e,style:t,props:{value:i},type:"text",name:n,autoInsert:r,eventType:a,bubbleEvent:o,clickState:s})}toNativeData(){const e=["color","fontSize","textAlign","fontWeight","lineHeight","lineBreak"].reduce(((e,t)=>(e[t]=this.computedStyle[t],e)),{});return Object.assign(super.toNativeData(),{label:Object.assign(e,{content:this.value})})}}var l=function(){var e,t="inherit",i="row",n="row-reverse",r="column",a="column-reverse",o="flex-start",s="center",l="flex-start",c="center",d="flex-end",u="stretch",p="relative",h="absolute",f={row:"left","row-reverse":"right",column:"top","column-reverse":"bottom"},y={row:"right","row-reverse":"left",column:"bottom","column-reverse":"top"},_={row:"left","row-reverse":"right",column:"top","column-reverse":"bottom"},g={row:"width","row-reverse":"width",column:"height","column-reverse":"height"};function m(e){return void 0===e}function v(e){return e===i||e===n}function E(e,t){if(void 0!==e.style.marginStart&&v(t))return e.style.marginStart;var i=null;switch(t){case"row":i=e.style.marginLeft;break;case"row-reverse":i=e.style.marginRight;break;case"column":i=e.style.marginTop;break;case"column-reverse":i=e.style.marginBottom}return void 0!==i?i:void 0!==e.style.margin?e.style.margin:0}function I(e,t){if(void 0!==e.style.marginEnd&&v(t))return e.style.marginEnd;var i=null;switch(t){case"row":i=e.style.marginRight;break;case"row-reverse":i=e.style.marginLeft;break;case"column":i=e.style.marginBottom;break;case"column-reverse":i=e.style.marginTop}return null!=i?i:void 0!==e.style.margin?e.style.margin:0}function w(e,t){if(void 0!==e.style.borderStartWidth&&e.style.borderStartWidth>=0&&v(t))return e.style.borderStartWidth;var i=null;switch(t){case"row":i=e.style.borderLeftWidth;break;case"row-reverse":i=e.style.borderRightWidth;break;case"column":i=e.style.borderTopWidth;break;case"column-reverse":i=e.style.borderBottomWidth}return null!=i&&i>=0?i:void 0!==e.style.borderWidth&&e.style.borderWidth>=0?e.style.borderWidth:0}function b(e,t){if(void 0!==e.style.borderEndWidth&&e.style.borderEndWidth>=0&&v(t))return e.style.borderEndWidth;var i=null;switch(t){case"row":i=e.style.borderRightWidth;break;case"row-reverse":i=e.style.borderLeftWidth;break;case"column":i=e.style.borderBottomWidth;break;case"column-reverse":i=e.style.borderTopWidth}return null!=i&&i>=0?i:void 0!==e.style.borderWidth&&e.style.borderWidth>=0?e.style.borderWidth:0}function A(e,t){return function(e,t){if(void 0!==e.style.paddingStart&&e.style.paddingStart>=0&&v(t))return e.style.paddingStart;var i=null;switch(t){case"row":i=e.style.paddingLeft;break;case"row-reverse":i=e.style.paddingRight;break;case"column":i=e.style.paddingTop;break;case"column-reverse":i=e.style.paddingBottom}return null!=i&&i>=0?i:void 0!==e.style.padding&&e.style.padding>=0?e.style.padding:0}(e,t)+w(e,t)}function T(e,t){return function(e,t){if(void 0!==e.style.paddingEnd&&e.style.paddingEnd>=0&&v(t))return e.style.paddingEnd;var i=null;switch(t){case"row":i=e.style.paddingRight;break;case"row-reverse":i=e.style.paddingLeft;break;case"column":i=e.style.paddingBottom;break;case"column-reverse":i=e.style.paddingTop}return null!=i&&i>=0?i:void 0!==e.style.padding&&e.style.padding>=0?e.style.padding:0}(e,t)+b(e,t)}function S(e,t){return w(e,t)+b(e,t)}function C(e,t){return E(e,t)+I(e,t)}function P(e,t){return A(e,t)+T(e,t)}function D(e,t){return t.style.alignSelf?t.style.alignSelf:e.style.alignItems?e.style.alignItems:"stretch"}function O(e,t){if("rtl"===t){if(e===i)return n;if(e===n)return i}return e}function k(e,t){return function(e){return e===r||e===a}(e)?O(i,t):r}function x(e){return e.style.position?e.style.position:"relative"}function R(e){return x(e)===p&&e.style.flex>0}function N(e,t){return e.layout[g[t]]+C(e,t)}function M(e,t){return void 0!==e.style[g[t]]&&e.style[g[t]]>=0}function L(e,t){return void 0!==e.style[t]}function F(e,t){return void 0!==e.style[t]?e.style[t]:0}function j(e,t,i){var n={row:e.style.minWidth,"row-reverse":e.style.minWidth,column:e.style.minHeight,"column-reverse":e.style.minHeight}[t],r={row:e.style.maxWidth,"row-reverse":e.style.maxWidth,column:e.style.maxHeight,"column-reverse":e.style.maxHeight}[t],a=i;return void 0!==r&&r>=0&&a>r&&(a=r),void 0!==n&&n>=0&&a<n&&(a=n),a}function W(e,t){return e>t?e:t}function U(e,t){void 0===e.layout[g[t]]&&M(e,t)&&(e.layout[g[t]]=W(j(e,t,e.style[g[t]]),P(e,t)))}function V(e,t,i){t.layout[y[i]]=e.layout[g[i]]-t.layout[g[i]]-t.layout[_[i]]}function B(e,t){return void 0!==e.style[f[t]]?F(e,f[t]):-F(e,y[t])}function Z(b,Z,H){var $=function(e,i){var n;return(n=e.style.direction?e.style.direction:t)===t&&(n=void 0===i?"ltr":i),n}(b,H),Y=O(function(e){return e.style.flexDirection?e.style.flexDirection:r}(b),$),z=k(Y,$),q=O(i,$);U(b,Y),U(b,z),b.layout.direction=$,b.layout[f[Y]]+=E(b,Y)+B(b,Y),b.layout[y[Y]]+=I(b,Y)+B(b,Y),b.layout[f[z]]+=E(b,z)+B(b,z),b.layout[y[z]]+=I(b,z)+B(b,z);var K=b.children.length,J=P(b,q);if(function(e){return void 0!==e.style.measure}(b)){var X=!m(b.layout[g[q]]),Q=e;Q=M(b,q)?b.style.width:X?b.layout[g[q]]:Z-C(b,q),Q-=J;var ee=!M(b,q)&&!X,te=!M(b,r)&&m(b.layout[g.column]);if(ee||te){var ie=b.style.measure(Q);ee&&(b.layout.width=ie.width+J),te&&(b.layout.height=ie.height+P(b,r))}if(0===K)return}var ne,re,ae,oe,se=function(e){return"wrap"===e.style.flexWrap}(b),le=function(e){return e.style.justifyContent?e.style.justifyContent:"flex-start"}(b),ce=A(b,Y),de=A(b,z),ue=P(b,Y),pe=P(b,z),he=!m(b.layout[g[Y]]),fe=!m(b.layout[g[z]]),ye=v(Y),_e=null,ge=null,me=e;he&&(me=b.layout[g[Y]]-ue);for(var ve=0,Ee=0,Ie=0,we=0,be=0,Ae=0;Ee<K;){var Te,Se=0,Ce=0,Pe=0,De=0,Oe=he&&le===o||!he&&le!==s,ke=Oe?K:ve,xe=!0,Re=K,Ne=null,Me=null,Le=ce,Fe=0;for(ne=ve;ne<K;++ne){if((ae=b.children[ne]).lineIndex=Ae,ae.nextAbsoluteChild=null,ae.nextFlexChild=null,($e=D(b,ae))===u&&x(ae)===p&&fe&&!M(ae,z))ae.layout[g[z]]=W(j(ae,z,b.layout[g[z]]-pe-C(ae,z)),P(ae,z));else if(x(ae)===h)for(null===_e&&(_e=ae),null!==ge&&(ge.nextAbsoluteChild=ae),ge=ae,re=0;re<2;re++)oe=0!==re?i:r,!m(b.layout[g[oe]])&&!M(ae,oe)&&L(ae,f[oe])&&L(ae,y[oe])&&(ae.layout[g[oe]]=W(j(ae,oe,b.layout[g[oe]]-P(b,oe)-C(ae,oe)-F(ae,f[oe])-F(ae,y[oe])),P(ae,oe)));var je=0;if(he&&R(ae)?(Ce++,Pe+=ae.style.flex,null===Ne&&(Ne=ae),null!==Me&&(Me.nextFlexChild=ae),Me=ae,je=P(ae,Y)+C(ae,Y)):(Te=e,ye||(Te=M(b,q)?b.layout[g[q]]-J:Z-C(b,q)-J),0===Ie&&G(ae,Te,$),x(ae)===p&&(De++,je=N(ae,Y))),se&&he&&Se+je>me&&ne!==ve){De--,Ie=1;break}Oe&&(x(ae)!==p||R(ae))&&(Oe=!1,ke=ne),xe&&(x(ae)!==p||$e!==u&&$e!==l||m(ae.layout[g[z]]))&&(xe=!1,Re=ne),Oe&&(ae.layout[_[Y]]+=Le,he&&V(b,ae,Y),Le+=N(ae,Y),Fe=W(Fe,j(ae,z,N(ae,z)))),xe&&(ae.layout[_[z]]+=we+de,fe&&V(b,ae,z)),Ie=0,Se+=je,Ee=ne+1}var We=0,Ue=0,Ve=0;if(Ve=he?me-Se:W(Se,0)-Se,0!==Ce){var Be,Ze,Ge=Ve/Pe;for(Me=Ne;null!==Me;)(Be=Ge*Me.style.flex+P(Me,Y))!==(Ze=j(Me,Y,Be))&&(Ve-=Ze,Pe-=Me.style.flex),Me=Me.nextFlexChild;for((Ge=Ve/Pe)<0&&(Ge=0),Me=Ne;null!==Me;)Me.layout[g[Y]]=j(Me,Y,Ge*Me.style.flex+P(Me,Y)),Te=e,M(b,q)?Te=b.layout[g[q]]-J:ye||(Te=Z-C(b,q)-J),G(Me,Te,$),ae=Me,Me=Me.nextFlexChild,ae.nextFlexChild=null}else le!==o&&(le===s?We=Ve/2:"flex-end"===le?We=Ve:"space-between"===le?(Ve=W(Ve,0),Ue=Ce+De-1!=0?Ve/(Ce+De-1):0):"space-around"===le&&(We=(Ue=Ve/(Ce+De))/2));for(Le+=We,ne=ke;ne<Ee;++ne)x(ae=b.children[ne])===h&&L(ae,f[Y])?ae.layout[_[Y]]=F(ae,f[Y])+w(b,Y)+E(ae,Y):(ae.layout[_[Y]]+=Le,he&&V(b,ae,Y),x(ae)===p&&(Le+=Ue+N(ae,Y),Fe=W(Fe,j(ae,z,N(ae,z)))));var He=b.layout[g[z]];for(fe||(He=W(j(b,z,Fe+pe),pe)),ne=Re;ne<Ee;++ne)if(x(ae=b.children[ne])===h&&L(ae,f[z]))ae.layout[_[z]]=F(ae,f[z])+w(b,z)+E(ae,z);else{var $e,Ye=de;if(x(ae)===p)if(($e=D(b,ae))===u)m(ae.layout[g[z]])&&(ae.layout[g[z]]=W(j(ae,z,He-pe-C(ae,z)),P(ae,z)));else if($e!==l){var ze=He-pe-N(ae,z);Ye+=$e===c?ze/2:ze}ae.layout[_[z]]+=we+Ye,fe&&V(b,ae,z)}we+=Fe,be=W(be,Le),Ae+=1,ve=Ee}if(Ae>1&&fe){var qe=b.layout[g[z]]-pe,Ke=qe-we,Je=0,Xe=de,Qe=function(e){return e.style.alignContent?e.style.alignContent:"flex-start"}(b);Qe===d?Xe+=Ke:Qe===c?Xe+=Ke/2:Qe===u&&qe>we&&(Je=Ke/Ae);var et=0;for(ne=0;ne<Ae;++ne){var tt=et,it=0;for(re=tt;re<K;++re)if(x(ae=b.children[re])===p){if(ae.lineIndex!==ne)break;m(ae.layout[g[z]])||(it=W(it,ae.layout[g[z]]+C(ae,z)))}for(et=re,it+=Je,re=tt;re<et;++re)if(x(ae=b.children[re])===p){var nt=D(b,ae);if(nt===l)ae.layout[_[z]]=Xe+E(ae,z);else if(nt===d)ae.layout[_[z]]=Xe+it-I(ae,z)-ae.layout[g[z]];else if(nt===c){var rt=ae.layout[g[z]];ae.layout[_[z]]=Xe+(it-rt)/2}else nt===u&&(ae.layout[_[z]]=Xe+E(ae,z))}Xe+=it}}var at=!1,ot=!1;if(he||(b.layout[g[Y]]=W(j(b,Y,be+T(b,Y)),ue),Y!==n&&Y!==a||(at=!0)),fe||(b.layout[g[z]]=W(j(b,z,we+pe),pe),z!==n&&z!==a||(ot=!0)),at||ot)for(ne=0;ne<K;++ne)ae=b.children[ne],at&&V(b,ae,Y),ot&&V(b,ae,z);for(ge=_e;null!==ge;){for(re=0;re<2;re++)oe=0!==re?i:r,!m(b.layout[g[oe]])&&!M(ge,oe)&&L(ge,f[oe])&&L(ge,y[oe])&&(ge.layout[g[oe]]=W(j(ge,oe,b.layout[g[oe]]-S(b,oe)-C(ge,oe)-F(ge,f[oe])-F(ge,y[oe])),P(ge,oe))),L(ge,y[oe])&&!L(ge,f[oe])&&(ge.layout[f[oe]]=b.layout[g[oe]]-ge.layout[g[oe]]-F(ge,y[oe]));ae=ge,ge=ge.nextAbsoluteChild,ae.nextAbsoluteChild=null}}function G(e,t,i){e.shouldUpdate=!0;var n=e.style.direction||"ltr";!e.isDirty&&e.lastLayout&&e.lastLayout.requestedHeight===e.layout.height&&e.lastLayout.requestedWidth===e.layout.width&&e.lastLayout.parentMaxWidth===t&&e.lastLayout.direction===n?(e.layout.width=e.lastLayout.width,e.layout.height=e.lastLayout.height,e.layout.top=e.lastLayout.top,e.layout.left=e.lastLayout.left):(e.lastLayout||(e.lastLayout={}),e.lastLayout.requestedWidth=e.layout.width,e.lastLayout.requestedHeight=e.layout.height,e.lastLayout.parentMaxWidth=t,e.lastLayout.direction=n,e.children.forEach((function(e){e.layout.width=void 0,e.layout.height=void 0,e.layout.top=0,e.layout.left=0})),Z(e,t,i),e.lastLayout.width=e.layout.width,e.lastLayout.height=e.layout.height,e.lastLayout.top=e.layout.top,e.lastLayout.left=e.layout.left)}return{layoutNodeImpl:Z,computeLayout:G,fillNodes:function e(t){return t.layout&&!t.isDirty||(t.layout={width:void 0,height:void 0,top:0,left:0,right:0,bottom:0}),t.style||(t.style={}),t.children||(t.children=[]),t.children.forEach(e),t}}}();const c=(e,t)=>{let i=!1;t.layoutBox=t.layoutBox||{},["left","top","width","height"].forEach((n=>{i=i||t.layoutBox[n]!==e.layout[n],t.layoutBox[n]=e.layout[n]})),t.shouldUpdate=t.shouldUpdate||i,e.children.forEach((e=>{const i=t.children[e.id];i&&c(e,i)}))},d=e=>{let t=Promise.resolve();return e.isInserted?e.shouldUpdate&&(t=e.update()):t=e.insert(),t.then((()=>Promise.all(Object.keys(e.children).map((t=>{const i=e.children[t];return d(i)})))))},u=e=>{e.isInserted?e.shouldUpdate&&e.update():e.insert(),Object.keys(e.children).map((t=>{const i=e.children[t];return u(i)}))};class p extends r.W{constructor({style:e,name:t,auto:i=!0}={}){super({style:e,id:0,name:t});let n=null;this.auto=i,this.on("layout",(()=>{this.auto&&(clearTimeout(n),n=setTimeout((()=>this.layout()),0))})),this.onebyone=!0}layout(){const e={id:this.id,style:{width:this.style.width,height:this.style.height,flexDirection:"row"},children:this.getChildren()};var t;return t=e,l.fillNodes(t),l.computeLayout(t),c(e,this),this.onebyone?d(this).then((()=>this.emit("update-done"))):(u(this),Promise.resolve().then((()=>this.emit("update-done"))))}}const h=new p({name:"webview-layout"});h.dest=0;const f=new p({name:"nativeview-layout",auto:!1});f.onebyone=!1,f.dest=1;var y=i(1095);class _ extends o{constructor({id:e,style:t,src:i="",name:n="",autoInsert:r=!1,eventType:a,bubbleEvent:o,clickState:s}={}){super({id:e,style:t,props:{src:i},type:"image",name:n,autoInsert:r,eventType:a,bubbleEvent:o,clickState:s})}toNativeData(){return Object.assign(super.toNativeData(),{iconPath:(0,y.Uj)(this.src)})}}var g=i(9974),m=i(2999),v=i(2582),E=i(665),I=i(6998);const w={video:1,"live-player":2,"live-pusher":3,image:4,audio:5};let b=0,A={};E.Z.onReady((()=>{b=E.Z.appType+1e3,A=E.Z.appLaunchInfo}));const T={onLoad:1,onWaiting:2,onError:3,onPlay:4,onPause:5,onFullScreenChange:6,onEnd:7,onTimeUpdate:8,onSrcSet:9,onImageLoad:91,onImageError:92},S={},C=["onVideoWaiting","onVideoPlay","onVideoPause","onVideoEnded","onVideoTimeUpdate","onVideoError","onVideoProgress"];v.wZ&&C.push("onVideoFullScreenChange");const P=(e,t,i)=>{"ad"!==e.scene&&(({component:e,eventName:t,eventData:i,src:n=""}={})=>{const r=(0,I.PL)(),a=wx&&wx.version&&wx.version.version||"";let o=Object.keys(A.query||{}).map((e=>`${e}=${A.query[e]}`)).join(",");o=encodeURIComponent(o);let s="";switch(t){case"onLoad":s=[i.duration,i.controls?2:1].join(";");break;case"onWaiting":s=[i.position,i.buffered].join(";");break;case"onError":s=i.errMsg.replace(","," ");break;case"onFullScreenChange":s=i.fullScreen?2:1;break;case"onTimeUpdate":s=[i.position,i.buffered].join(";");break;case"onImageLoad":s=[i.isLazyLoad?2:1,i.size,i.loadTime,i.width,i.height,i.originalWidth,i.originalHeight].join(";");break;case"onImageError":s=[i.isLazyLoad?2:1].join(";")}const l=[Math.round(Date.now()/1e3),A.scene,"",A.sessionid||A.sessionId,A.path,o,r,a,w[e],T[t],s,encodeURIComponent(n.substring(0,1024)).substring(0,1024),b].join(",");Reporter.reportKeyValue({key:"MediaCompStatus",value:l})})({component:"video",eventName:t,eventData:i,src:e.src})};class D extends r.W{constructor({style:e={},name:t,x:i=0,y:n=0,width:r=300,height:a=200,hide:o=!1,src:s,poster:l,referrerPolicy:c="no-referrer",initialTime:d=0,playbackRate:u=1,live:p=!1,objectFit:h="contain",controls:f=!0,showProgress:y=!0,showProgressInControlMode:_=y,autoplay:m=!1,muted:v=!1,loop:E=!1,enableProgressGesture:I=!0,enablePlayGesture:w=!1,showCenterPlayBtn:b=!0,autoInsert:A=!0,scene:T="default",preLoad:P=!1,obeyMuteSwitch:D=!1,underGameView:O=!1,backgroundColor:k="#000000",playerHint:x="",zIndex:R}={}){super({style:e,name:t}),this.isSrcChanged=!1,this.autoInsert=A,this.playerHint=x,this.scene=T,this.preLoad=P,this.underGameView=O,this.zIndex=R,S[this.id]=this;let N=null;this.emitter=new g.Z,this.deferred=[],this._buffered=0,this._position=0;const M={x:i,y:n,width:r,height:a,hide:o,src:s,poster:l,initialTime:d,playbackRate:u,live:p,objectFit:h,controls:f,showProgress:y,showProgressInControlMode:_,backgroundColor:k,autoplay:m,muted:v,loop:E,enableProgressGesture:I,enablePlayGesture:w,showCenterPlayBtn:b,obeyMuteSwitch:D,referrerPolicy:c};Object.keys(M).forEach((e=>{Object.defineProperty(this,e,{configurable:!0,enumerable:!0,get:()=>M[e],set:t=>{"src"!==e&&M[e]===t||(M[e]=t,this.isInserted?("src"===e&&(this.isSrcChanged=!0),"poster"===e&&(this.isPosterChanged=!0),"playbackRate"===e?this.operate("playbackRate",[t]):(clearTimeout(N),N=setTimeout((()=>this.update()),0))):this.deferred.push({type:"property",property:e,value:t}))}})})),C.forEach((e=>{const t=e.toLowerCase().replace("video","");this[t]=()=>{},this.emitter.on(e,(e=>{this[t](e)}))})),this.autoInsert&&this.insert().then((()=>{this.playbackRate&&1!==this.playbackRate&&this.operate("playbackRate",[this.playbackRate])})).then((()=>{this.deferred.forEach((e=>{"property"===e.type?this[e.property]=e.value:this.operate(e.method,e.args)}))}))}insert(){if(!this.isInserted)return this.isInserted=!0,P(this,"onSrcSet",{}),new Promise(((e,t)=>{(0,n.IN)("insertVideoPlayer",Object.assign(this.toNativeData(),{data:JSON.stringify({id:this.id}),filePath:(0,y.Uj)(this.src),scene:this.scene,preLoad:this.preLoad,underGameView:this.underGameView,referrerPolicy:this.referrerPolicy,playerHint:this.playerHint,zIndex:this.zIndex,success:t=>{this.emit("ready"),e(t)},fail:t}))}))}destroy(){return new Promise(((e,t)=>{v.cj?setTimeout((()=>{(0,n.IN)("removeVideoPlayer",{videoPlayerId:this.id,success:e,fail:t})}),0):(0,n.IN)("removeVideoPlayer",{videoPlayerId:this.id,success:e,fail:t}),C.forEach((e=>{const t=e.replace("Video","").replace("on","off");"function"==typeof this[t]&&this[t]()})),delete S[this.id]}))}toNativeData(){this.layoutBox;const e=this.layoutBox||{left:this.x,top:this.y,width:this.width,height:this.height},t={videoPlayerId:this.id,position:e,hide:this.hide,zIndex:Number.isInteger(+this.zIndex)?+this.zIndex:0,initialTime:this.initialTime,live:this.live,objectFit:this.objectFit,needEvent:!0,showBasicControls:this.controls,showProgress:this.showProgress,showProgressInControlMode:this.showProgressInControlMode,backgroundColor:this.backgroundColor,backgroudColor:this.backgroundColor,autoplay:this.autoplay,muted:this.muted,loop:this.loop,customCache:!1,enableProgressGesture:this.enableProgressGesture,enablePlayGesture:this.enablePlayGesture,showCenterPlayBtn:this.showCenterPlayBtn,obeyMuteSwitch:this.obeyMuteSwitch,referrerPolicy:this.referrerPolicy};return this.isSrcChanged&&(t.filePath=(0,y.Uj)(this.src),this.isSrcChanged=!1),this.isPosterChanged&&(t.poster=(0,y.Uj)(this.poster),this.isPosterChanged=!1),this.autoInsert||(t.parentId=this.parentId),t}update(){this.shouldUpdate=!1;const e=this.toNativeData();return e.filePath&&P(this,"onSrcSet",{}),new Promise(((t,i)=>{(0,n.IN)("updateVideoPlayer",Object.assign({},e,{success:t,fail:i}))}))}operate(e,t=[]){if(this.isInserted)return this.hide&&"playbackRate"!==e?Promise.reject(new Error(`${e} can't be invoked when video is hidden`)):new Promise(((i,r)=>{(0,n.IN)("operateVideoPlayer",{videoPlayerId:this.id,type:e,data:t,success:i,fail:r})}));this.deferred.push({type:"method",method:e,args:t})}play(){return this.operate("play")}pause(){return this.operate("pause")}stop(){return this.operate("stop")}seek(e){return this.operate("seek",[e])}requestFullScreen(e){return this.operate("requestFullScreen",[e])}exitFullScreen(){return this.operate("exitFullScreen")}}C.forEach((e=>{const t=e.replace("Video","");D.prototype[t]=function(t){this.emitter.on(e,t)};const i=t.replace("on","off");D.prototype[i]=function(t){this.emitter.off(e,t)}})),C.forEach((e=>{(0,m.n)(e,(t=>{const i=t.videoPlayerId||JSON.parse(t.data).id,n=S[i];if(!n)return;if(n.emitter.emit(e,t),"onVideoProgress"===e)return void(n._buffered=t.buffered);let r=t;"onVideoTimeUpdate"===e?(n._position=t.position,r={position:t.position,buffered:n._buffered}):"onVideoWaiting"===e&&(r={position:n._position,buffered:n._buffered}),P(n,e.replace("Video",""),r)}))}));var O=i(6722),k=i(2184);const x={};class R extends r.W{constructor({style:e={},name:t,x:i=0,y:n=0,width:r=300,height:a=200,url:o="",urls:s=[],scale:l=1,autoInsert:c=!0,hide:d=!1,zIndex:u=0}={}){if(super({style:e,name:t}),this.x=i,this.y=n,this.width=r,this.height=a,this.scale=+l,this.hide=d,this.autoInsert=c,this.url=o,this.zIndex=u,this.emitter=new k.Q("ImagePreviewer",!0),x[this.id]=this,"string"==typeof s)try{this.urls=JSON.parse(s)}catch(e){this.urls=[]}else this.urls=s;this._insertPromise=new Promise(((e,t)=>{this._insertPromiseResolve=e,this._insertPromiseReject=t}))}insert(){return this.toNativeData(),(0,n.IN)("insertImagePreviewer",Object.assign(this.toNativeData(),{success:e=>{this._insertPromiseResolve(e)},fail:e=>{this._insertPromiseReject(e)}})),this._insertPromise}update(){return new Promise(((e,t)=>{this._insertPromise.then((()=>{this.toNativeData(),(0,n.IN)("updateImagePreviewer",Object.assign(this.toNativeData(),{success:t=>{e(t)},fail:e=>{t(e)}}))})).catch(t)}))}destroy(){return this.id,new Promise(((e,t)=>{setTimeout((()=>{(0,n.IN)("removeImagePreviewer",{viewId:this.id,success:e,fail:t}),this.offImageLoadFail(),delete x[this.id]}),0)}))}toNativeData(){this.layoutBox;const e={position:this.layoutBox||{left:this.x,top:this.y,width:this.width,height:this.height},urls:this.urls.length>0?this.urls:[this.url],scale:this.scale,hide:this.hide,viewId:this.id,zIndex:this.zIndex,parentId:this.parentId};return this.parentId,e}onImageLoadFail(e){this.emitter.on("onImageLoadFail",e)}offImageLoadFail(e){this.emitter.off("onImageLoadFail",e)}}(0,m.n)("onImagePreviewerLoadFail",(e=>{x[e.viewId].emitter.emit("onImageLoadFail",e)}))},6722:(e,t,i)=>{"use strict";i.d(t,{k:()=>p});var n=i(1957),r=i(1106),a=i(2999),o=i(665);const s=new Map,l=new WeakMap,c=new WeakMap,d=new WeakMap;function u(e){return new Promise(((t,i)=>{const n=c.get(this);(0,r.IN)("insertHTMLWebView",{htmlId:this.id,position:n,src:l.get(this),zIndex:d.get(this),backgroundColor:n.backgroundColor,__skipDomainCheck__:e,success:t,fail:i})}))}class p extends n.W{constructor({src:e,zIndex:t,style:i={},__skipDomainCheck__:n}){super({style:i}),s.set(this.id,this),l.set(this,e),c.set(this,i),d.set(this,t),u.call(this,n),this.isInserted=!0}get src(){return l.get(this)}set src(e){l.set(this,e),(0,r.IN)("updateHTMLWebView",{htmlId:this.id,src:e})}get style(){return c.get(this)}set style(e){this.style||c.set(this,{});const t=Object.assign(this.style,e);this.isInserted&&(0,r.IN)("updateHTMLWebView",{htmlId:this.id,position:t,backgroundColor:t.backgroundColor})}get zIndex(){return d.get(this)}set zIndex(e){d.set(this,e),(0,r.IN)("updateHTMLWebView",{htmlId:this.id,zIndex:e})}destroy(){s.delete(this.id),(0,r.IN)("removeHTMLWebView",{htmlId:this.id})}}function h({htmlId:e}){const t=s.get(e);t&&t.onload&&setTimeout(t.onload)}function f({name:e,arg:t,htmlId:i}){"postMessage"===e&&s.forEach((({onmessage:e},n)=>{i&&i!==n||e&&setTimeout((()=>e(t)))}))}o.Z.onReady((()=>{4===o.Z.appType&&((0,a.n)("onWebviewFinishLoad",h),(0,a.n)("onWebInvokeAppService",f),(0,a.n)("WEB_INVOKE_APPSERVICE",f))}))},2241:(e,t,i)=>{"use strict";i.d(t,{Vs:()=>n,_u:()=>r,cM:()=>a,um:()=>o,$v:()=>l,Fr:()=>s});const n=(e=0)=>new Promise((t=>{setTimeout(t,e)})),r=()=>{},a=()=>{},o=e=>e.split("-").map(((e,t)=>0===t?e:e[0].toUpperCase()+e.slice(1))).join(""),s=e=>(t={})=>new Promise(((i,n)=>{e(Object.assign(t,{success:i,fail:n}))})),l=e=>{let t=null;return!/^#/.test(e)||7!==e.length&&9!==e.length?null!==(t=/^(rgb|rgba)\((.+)\)/.exec(e))?"#"+t[2].split(",").map(((e,t)=>(e=e.trim(),1===(e=(e=3===t?Math.floor(255*parseFloat(e)):parseInt(e,10)).toString(16)).length&&(e="0"+e),e))).join(""):"#00000000":e}},3489:(e,t,i)=>{"use strict";i.d(t,{b$:()=>u,Tb:()=>n.Tb,vv:()=>d,dN:()=>n.dN});var n=i(743),r=i(2999),a=i(2046),o=i(8433),s=i(2497);const l=(0,a.s)("Hide"),c=(0,a.s)("BaseFrameHide"),d=(l.onMethod,l.offMethod,l.internalOnMethod),u=l.internalOffMethod;c.internalOnMethod,c.internalOffMethod;(0,r.n)("onAppEnterBackground",((e={})=>{(0,s.v)(e.mode),(0,o.b$)()?c.emit(e):(c.emit(e),l.emit(e))}))},743:(e,t,i)=>{"use strict";i.d(t,{Ke:()=>f,dN:()=>y,Tb:()=>_,OQ:()=>g});var n=i(495),r=i(2046),a=i(665),o=i(8991),s=i(2582),l=i(2999),c=i(9066),d=i(8433),u=i(7452);const p=(0,r.s)("Show"),h=(0,r.s)("BaseFrameShow"),f=p.onMethod,y=(p.offMethod,p.internalOnMethod),_=p.internalOffMethod,g=h.internalOnMethod;h.internalOffMethod;function m(e,t){e=e||(0,n.Ir)(),t=t||(0,n.x9)(),Reporter.__query__=e.query,c.Z.query=e.query,p.emitInternal(t),p.emitGlobal(e)}function v(e){wxNativeConsole.info("[emitBaseFrameOnShow]",e),h.emitInternal(e)}function E(e=""){const t=e.indexOf("?");let i={};if(t>=0){const n=e.slice(t+1);if(n)try{i=n.split("&").reduce(((e,t)=>{const i=t.split("="),n=i[0],r=i.slice(1).join("=");return e[n]=r,e}),{})}catch(e){i={}}}return i}(0,l.n)("onAppEnterForeground",((e={})=>{const t=e.path;s.wZ&&(0,u.Kn)(e.query)&&Object.keys(e.query).length>0||t&&(e.query=E(t));const{publicLaunchInfo:i,appLaunchInfo:r}=(0,n.Br)(e),a=r.shareInfo;v(r),setTimeout((()=>{(0,d.b$)()||m(i,r),"object"==typeof a&&null!==a&&(0,o.kv)(a.shareKey)}),0)})),a.Z.onReady((()=>{const e=(0,n.Ir)(),t=(0,n.x9)();Reporter.__query__=e.query,c.Z.query=e.query,s.gm||(v(t),setTimeout((()=>{(0,d.b$)()||m(e,t)}),0))}))},2497:(e,t,i)=>{"use strict";let n;function r(e){n=e}function a(){return n}i.d(t,{v:()=>r,B:()=>a})},8433:(e,t,i)=>{"use strict";i.d(t,{b$:()=>a});i(2411);let n={};const r={get:(e="default")=>n[e],set(e,t="default"){n[t]=e},clear(){n={}}};function a(){return!!r.get()}},3872:(e,t,i)=>{"use strict";i.d(t,{F0:()=>r,y4:()=>s});var n=i(1106);i(7452),i(6722);const r={EVENT_CANVAS_BEFORE_SHARE:1,EVENT_CANVAS_AFTER_SHARE_SUCCESS:2,EVENT_CANVAS_AFTER_SHARE_CANCEL:3,EVENT_CANVAS_BEFORE_ADS:4,EVENT_CANVAS_ADS_FIN:5,EVENT_CANVAS_ADS_CANCEL:6,EVENT_CANVAS_BEFORE_JUMP_TO_APP:7,EVENT_CANVAS_BEFORE_PAY:8,EVENT_CANVAS_BEFORE_JUMP_TO_CUSTOMER_SERVICE:9,EVENT_CANVAS_BEFORE_CLOSE_CUSTOMER_SERVICE:10,EVENT_CANVAS_BEFORE_QR_CODE:11,EVENT_CANVAS_BEFORE_MORE:12,EVENT_CANVAS_BEFORE_GAME_ClUB:13,EVENT_CANVAS_AFTER_MODAL:14,EVENT_CANVAS_BEFORE_NORMAL_EXIT:15,EVENT_CANVAS_SAMPLE_BY_TIME:16,EVENT_CANVAS_WEBVIEW_TIMING:17,EVENT_CANVAS_WEBVIEW_BEFORE_JUMP:18},a={sampleEventList:[]},o=new Map;function s(e,t){const i=function(e){return a.sampleEventList.find((t=>e===t.event))}(e);if(i){const e=Date.now(),r=o.get(i);if(i.sample_interval_seconds,(e-r)/1e3<i.sample_interval_seconds)return;(0,n.IN)("reportCanvasData",{eventInfo:JSON.stringify(i),viewId:t>0?t:0,success(){o.set(i,e)},fail({errMsg:e}){}})}}},7618:(e,t,i)=>{"use strict";i.d(t,{L:()=>a});var n=i(8159),r=i(5062);new n.Z;const a={map:{},set(e){const t=(0,r.M8)();return this.map[t]=e,t},get(e){return e?this.map[e]:Object.keys(this.map).map((e=>this.map[e]))}}},1095:(e,t,i)=>{"use strict";i.d(t,{vp:()=>s,Y6:()=>l,KU:()=>c,aI:()=>d,N0:()=>u,Fr:()=>p,vB:()=>h,v7:()=>f,Uj:()=>y,Av:()=>_,er:()=>g});var n=i(8159),r=i(665),a=(i(812),i(2582)),o=i(7452);class s{constructor(e={maxListeners:2e3}){this.emitter=new n.Z(e),this.callbackMap="undefined"!=typeof WeakMap?new WeakMap:{},this.originalCallbackMap=new WeakMap}emit(e,t){this.emitter.emit(e,t)}on(e,t){if(t&&"function"==typeof t){const i=__errorTracer__.surroundThirdByTryCatch(t,`at ${e} callback function`);this.callbackMap.set(t,i),this.originalCallbackMap.set(i,t),this.emitter.on(e,i)}}off(e,t){if(t&&"function"==typeof t){const i=this.callbackMap.get(t);this.emitter.off(e,i),this.callbackMap.delete(t),this.originalCallbackMap.delete(i)}else this.emitter.listeners(e).forEach((e=>{const t=this.originalCallbackMap.get(e);this.callbackMap.delete(t),this.originalCallbackMap.delete(e)})),this.emitter.removeAllListeners(e)}listeners(e){return this.emitter.listeners(e)}}function l(e){return"string"==typeof e?e.length:"object"==typeof e&&null!==e&&"number"==typeof e.byteLength?e.byteLength:0}function c(e){let t="unknown";if(r.Z.appContactInfo&&r.Z.appContactInfo.operationInfo&&r.Z.appContactInfo.operationInfo.jsonInfo&&r.Z.appContactInfo.operationInfo.jsonInfo.apiAvailable){const{apiAvailable:i}=r.Z.appContactInfo.operationInfo.jsonInfo;"number"==typeof i[e]&&(t=1===i[e])}return t}function d(){return 4===r.Z.appType}function u(){return 0===r.Z.appType}function p(e){return(t={})=>new Promise(((i,n)=>{e(Object.assign(t,{success:i,fail:n}))}))}function h(){return a.gm?!r.Z.urlCheck:!0===r.Z.debug}function f(e,t){return t.reduce(((t,i)=>((0,o.o8)(e[i])||(t[i]=e[i]),t)),{})}function y(e){if(!a.gm||"string"!=typeof e)return e;if(/^https?:\/\//.test(e)){const t=e.split("?"),i=t[1]||"",n=i.length>0?"&":"";e=`${t[0]}?${i}${n}devtools_ignore=true`}return e}function _(){return r.Z.appLaunchInfo&&"singlePage"===r.Z.appLaunchInfo.mode}function g(){const e=r.Z.host;return e&&"WeChat"!==e.env&&"WMPF"!==e.env}},5130:(e,t,i)=>{function n(){var e;try{e=t.storage.debug}catch(e){}return!e&&"undefined"!=typeof process&&"env"in process&&(e=process.env.DEBUG),e}(t=e.exports=i(4161)).log=function(){return"object"==typeof console&&console.log&&Function.prototype.apply.call(console.log,console,arguments)},t.formatArgs=function(e){var i=this.useColors;if(e[0]=(i?"%c":"")+this.namespace+(i?" %c":" ")+e[0]+(i?"%c ":" ")+"+"+t.humanize(this.diff),!i)return;var n="color: "+this.color;e.splice(1,0,n,"color: inherit");var r=0,a=0;e[0].replace(/%[a-zA-Z%]/g,(function(e){"%%"!==e&&(r++,"%c"===e&&(a=r))})),e.splice(a,0,n)},t.save=function(e){try{null==e?t.storage.removeItem("debug"):t.storage.debug=e}catch(e){}},t.load=n,t.useColors=function(){if("undefined"!=typeof window&&window.process&&"renderer"===window.process.type)return!0;return"undefined"!=typeof document&&document.documentElement&&document.documentElement.style&&document.documentElement.style.WebkitAppearance||"undefined"!=typeof window&&window.console&&(window.console.firebug||window.console.exception&&window.console.table)||"undefined"!=typeof navigator&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/firefox\/(\d+)/)&&parseInt(RegExp.$1,10)>=31||"undefined"!=typeof navigator&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/applewebkit\/(\d+)/)},t.storage="undefined"!=typeof chrome&&void 0!==chrome.storage?chrome.storage.local:function(){try{return window.localStorage}catch(e){}}(),t.colors=["lightseagreen","forestgreen","goldenrod","dodgerblue","darkorchid","crimson"],t.formatters.j=function(e){try{return JSON.stringify(e)}catch(e){return"[UnexpectedJSONParseError]: "+e.message}},t.enable(n())},4161:(e,t,i)=>{var n;function r(e){function i(){if(i.enabled){var e=i,r=+new Date,a=r-(n||r);e.diff=a,e.prev=n,e.curr=r,n=r;for(var o=new Array(arguments.length),s=0;s<o.length;s++)o[s]=arguments[s];o[0]=t.coerce(o[0]),"string"!=typeof o[0]&&o.unshift("%O");var l=0;o[0]=o[0].replace(/%([a-zA-Z%])/g,(function(i,n){if("%%"===i)return i;l++;var r=t.formatters[n];if("function"==typeof r){var a=o[l];i=r.call(e,a),o.splice(l,1),l--}return i})),t.formatArgs.call(e,o);var c=i.log||t.log||console.log.bind(console);c.apply(e,o)}}return i.namespace=e,i.enabled=t.enabled(e),i.useColors=t.useColors(),i.color=function(e){var i,n=0;for(i in e)n=(n<<5)-n+e.charCodeAt(i),n|=0;return t.colors[Math.abs(n)%t.colors.length]}(e),"function"==typeof t.init&&t.init(i),i}(t=e.exports=r.debug=r.default=r).coerce=function(e){return e instanceof Error?e.stack||e.message:e},t.disable=function(){t.enable("")},t.enable=function(e){t.save(e),t.names=[],t.skips=[];for(var i=("string"==typeof e?e:"").split(/[\s,]+/),n=i.length,r=0;r<n;r++)i[r]&&("-"===(e=i[r].replace(/\*/g,".*?"))[0]?t.skips.push(new RegExp("^"+e.substr(1)+"$")):t.names.push(new RegExp("^"+e+"$")))},t.enabled=function(e){var i,n;for(i=0,n=t.skips.length;i<n;i++)if(t.skips[i].test(e))return!1;for(i=0,n=t.names.length;i<n;i++)if(t.names[i].test(e))return!0;return!1},t.humanize=i(1378),t.names=[],t.skips=[],t.formatters={}},1378:e=>{var t=1e3,i=60*t,n=60*i,r=24*n,a=365.25*r;function o(e,t,i){if(!(e<t))return e<1.5*t?Math.floor(e/t)+" "+i:Math.ceil(e/t)+" "+i+"s"}e.exports=function(e,s){s=s||{};var l,c=typeof e;if("string"===c&&e.length>0)return function(e){if((e=String(e)).length>100)return;var o=/^((?:\d+)?\.?\d+) *(milliseconds?|msecs?|ms|seconds?|secs?|s|minutes?|mins?|m|hours?|hrs?|h|days?|d|years?|yrs?|y)?$/i.exec(e);if(!o)return;var s=parseFloat(o[1]);switch((o[2]||"ms").toLowerCase()){case"years":case"year":case"yrs":case"yr":case"y":return s*a;case"days":case"day":case"d":return s*r;case"hours":case"hour":case"hrs":case"hr":case"h":return s*n;case"minutes":case"minute":case"mins":case"min":case"m":return s*i;case"seconds":case"second":case"secs":case"sec":case"s":return s*t;case"milliseconds":case"millisecond":case"msecs":case"msec":case"ms":return s;default:return}}(e);if("number"===c&&!1===isNaN(e))return s.long?o(l=e,r,"day")||o(l,n,"hour")||o(l,i,"minute")||o(l,t,"second")||l+" ms":function(e){if(e>=r)return Math.round(e/r)+"d";if(e>=n)return Math.round(e/n)+"h";if(e>=i)return Math.round(e/i)+"m";if(e>=t)return Math.round(e/t)+"s";return e+"ms"}(e);throw new Error("val is not a non-empty string or a valid number. val="+JSON.stringify(e))}},2808:e=>{"use strict";function t(e,t){return Object.prototype.hasOwnProperty.call(e,t)}e.exports=function(e,i,n,r){i=i||"&",n=n||"=";var a={};if("string"!=typeof e||0===e.length)return a;var o=/\+/g;e=e.split(i);var s=1e3;r&&"number"==typeof r.maxKeys&&(s=r.maxKeys);var l=e.length;s>0&&l>s&&(l=s);for(var c=0;c<l;++c){var d,u,p,h,f=e[c].replace(o,"%20"),y=f.indexOf(n);y>=0?(d=f.substr(0,y),u=f.substr(y+1)):(d=f,u=""),p=decodeURIComponent(d),h=decodeURIComponent(u),t(a,p)?Array.isArray(a[p])?a[p].push(h):a[p]=[a[p],h]:a[p]=h}return a}},1368:e=>{"use strict";var t=function(e){switch(typeof e){case"string":return e;case"boolean":return e?"true":"false";case"number":return isFinite(e)?e:"";default:return""}};e.exports=function(e,i,n,r){return i=i||"&",n=n||"=",null===e&&(e=void 0),"object"==typeof e?Object.keys(e).map((function(r){var a=encodeURIComponent(t(r))+n;return Array.isArray(e[r])?e[r].map((function(e){return a+encodeURIComponent(t(e))})).join(i):a+encodeURIComponent(t(e[r]))})).join(i):r?encodeURIComponent(t(r))+n+encodeURIComponent(t(e)):""}},6642:(e,t,i)=>{"use strict";t.decode=t.parse=i(2808),t.encode=t.stringify=i(1368)},9639:function(e,t,i){var n;e=i.nmd(e),function(r){t&&t.nodeType,e&&e.nodeType;var a="object"==typeof i.g&&i.g;a.global!==a&&a.window!==a&&a.self;var o,s=2147483647,l=36,c=/^xn--/,d=/[^\x20-\x7E]/,u=/[\x2E\u3002\uFF0E\uFF61]/g,p={overflow:"Overflow: input needs wider integers to process","not-basic":"Illegal input >= 0x80 (not a basic code point)","invalid-input":"Invalid input"},h=Math.floor,f=String.fromCharCode;function y(e){throw RangeError(p[e])}function _(e,t){for(var i=e.length,n=[];i--;)n[i]=t(e[i]);return n}function g(e,t){var i=e.split("@"),n="";return i.length>1&&(n=i[0]+"@",e=i[1]),n+_((e=e.replace(u,".")).split("."),t).join(".")}function m(e){for(var t,i,n=[],r=0,a=e.length;r<a;)(t=e.charCodeAt(r++))>=55296&&t<=56319&&r<a?56320==(64512&(i=e.charCodeAt(r++)))?n.push(((1023&t)<<10)+(1023&i)+65536):(n.push(t),r--):n.push(t);return n}function v(e){return _(e,(function(e){var t="";return e>65535&&(t+=f((e-=65536)>>>10&1023|55296),e=56320|1023&e),t+=f(e)})).join("")}function E(e,t){return e+22+75*(e<26)-((0!=t)<<5)}function I(e,t,i){var n=0;for(e=i?h(e/700):e>>1,e+=h(e/t);e>455;n+=l)e=h(e/35);return h(n+36*e/(e+38))}function w(e){var t,i,n,r,a,o,c,d,u,p,f,_=[],g=e.length,m=0,E=128,w=72;for((i=e.lastIndexOf("-"))<0&&(i=0),n=0;n<i;++n)e.charCodeAt(n)>=128&&y("not-basic"),_.push(e.charCodeAt(n));for(r=i>0?i+1:0;r<g;){for(a=m,o=1,c=l;r>=g&&y("invalid-input"),((d=(f=e.charCodeAt(r++))-48<10?f-22:f-65<26?f-65:f-97<26?f-97:l)>=l||d>h((s-m)/o))&&y("overflow"),m+=d*o,!(d<(u=c<=w?1:c>=w+26?26:c-w));c+=l)o>h(s/(p=l-u))&&y("overflow"),o*=p;w=I(m-a,t=_.length+1,0==a),h(m/t)>s-E&&y("overflow"),E+=h(m/t),m%=t,_.splice(m++,0,E)}return v(_)}function b(e){var t,i,n,r,a,o,c,d,u,p,_,g,v,w,b,A=[];for(g=(e=m(e)).length,t=128,i=0,a=72,o=0;o<g;++o)(_=e[o])<128&&A.push(f(_));for(n=r=A.length,r&&A.push("-");n<g;){for(c=s,o=0;o<g;++o)(_=e[o])>=t&&_<c&&(c=_);for(c-t>h((s-i)/(v=n+1))&&y("overflow"),i+=(c-t)*v,t=c,o=0;o<g;++o)if((_=e[o])<t&&++i>s&&y("overflow"),_==t){for(d=i,u=l;!(d<(p=u<=a?1:u>=a+26?26:u-a));u+=l)b=d-p,w=l-p,A.push(f(E(p+b%w,0))),d=h(b/w);A.push(f(E(d,0))),a=I(i,v,n==r),i=0,++n}++i,++t}return A.join("")}o={version:"1.3.2",ucs2:{decode:m,encode:v},decode:w,encode:b,toASCII:function(e){return g(e,(function(e){return d.test(e)?"xn--"+b(e):e}))},toUnicode:function(e){return g(e,(function(e){return c.test(e)?w(e.slice(4).toLowerCase()):e}))}},void 0===(n=function(){return o}.call(t,i,t,e))||(e.exports=n)}()},883:(e,t,i)=>{"use strict";var n=i(9639),r=i(5225);function a(){this.protocol=null,this.slashes=null,this.auth=null,this.host=null,this.port=null,this.hostname=null,this.hash=null,this.search=null,this.query=null,this.pathname=null,this.path=null,this.href=null}var o=/^([a-z0-9.+-]+:)/i,s=/:[0-9]*$/,l=/^(\/\/?(?!\/)[^\?\s]*)(\?[^\s]*)?$/,c=["{","}","|","\\","^","`"].concat(["<",">",'"',"`"," ","\r","\n","\t"]),d=["'"].concat(c),u=["%","/","?",";","#"].concat(d),p=["/","?","#"],h=/^[+a-z0-9A-Z_-]{0,63}$/,f=/^([+a-z0-9A-Z_-]{0,63})(.*)$/,y={javascript:!0,"javascript:":!0},_={javascript:!0,"javascript:":!0},g={http:!0,https:!0,ftp:!0,gopher:!0,file:!0,"http:":!0,"https:":!0,"ftp:":!0,"gopher:":!0,"file:":!0},m=i(6642);function v(e,t,i){if(e&&r.isObject(e)&&e instanceof a)return e;var n=new a;return n.parse(e,t,i),n}a.prototype.parse=function(e,t,i){if(!r.isString(e))throw new TypeError("Parameter 'url' must be a string, not "+typeof e);var a=e.indexOf("?"),s=-1!==a&&a<e.indexOf("#")?"?":"#",c=e.split(s);c[0]=c[0].replace(/\\/g,"/");var v=e=c.join(s);if(v=v.trim(),!i&&1===e.split("#").length){var E=l.exec(v);if(E)return this.path=v,this.href=v,this.pathname=E[1],E[2]?(this.search=E[2],this.query=t?m.parse(this.search.substr(1)):this.search.substr(1)):t&&(this.search="",this.query={}),this}var I=o.exec(v);if(I){var w=(I=I[0]).toLowerCase();this.protocol=w,v=v.substr(I.length)}if(i||I||v.match(/^\/\/[^@\/]+@[^@\/]+/)){var b="//"===v.substr(0,2);!b||I&&_[I]||(v=v.substr(2),this.slashes=!0)}if(!_[I]&&(b||I&&!g[I])){for(var A,T,S=-1,C=0;C<p.length;C++){-1!==(P=v.indexOf(p[C]))&&(-1===S||P<S)&&(S=P)}-1!==(T=-1===S?v.lastIndexOf("@"):v.lastIndexOf("@",S))&&(A=v.slice(0,T),v=v.slice(T+1),this.auth=decodeURIComponent(A)),S=-1;for(C=0;C<u.length;C++){var P;-1!==(P=v.indexOf(u[C]))&&(-1===S||P<S)&&(S=P)}-1===S&&(S=v.length),this.host=v.slice(0,S),v=v.slice(S),this.parseHost(),this.hostname=this.hostname||"";var D="["===this.hostname[0]&&"]"===this.hostname[this.hostname.length-1];if(!D)for(var O=this.hostname.split(/\./),k=(C=0,O.length);C<k;C++){var x=O[C];if(x&&!x.match(h)){for(var R="",N=0,M=x.length;N<M;N++)x.charCodeAt(N)>127?R+="x":R+=x[N];if(!R.match(h)){var L=O.slice(0,C),F=O.slice(C+1),j=x.match(f);j&&(L.push(j[1]),F.unshift(j[2])),F.length&&(v="/"+F.join(".")+v),this.hostname=L.join(".");break}}}this.hostname.length>255?this.hostname="":this.hostname=this.hostname.toLowerCase(),D||(this.hostname=n.toASCII(this.hostname));var W=this.port?":"+this.port:"",U=this.hostname||"";this.host=U+W,this.href+=this.host,D&&(this.hostname=this.hostname.substr(1,this.hostname.length-2),"/"!==v[0]&&(v="/"+v))}if(!y[w])for(C=0,k=d.length;C<k;C++){var V=d[C];if(-1!==v.indexOf(V)){var B=encodeURIComponent(V);B===V&&(B=escape(V)),v=v.split(V).join(B)}}var Z=v.indexOf("#");-1!==Z&&(this.hash=v.substr(Z),v=v.slice(0,Z));var G=v.indexOf("?");if(-1!==G?(this.search=v.substr(G),this.query=v.substr(G+1),t&&(this.query=m.parse(this.query)),v=v.slice(0,G)):t&&(this.search="",this.query={}),v&&(this.pathname=v),g[w]&&this.hostname&&!this.pathname&&(this.pathname="/"),this.pathname||this.search){W=this.pathname||"";var H=this.search||"";this.path=W+H}return this.href=this.format(),this},a.prototype.format=function(){var e=this.auth||"";e&&(e=(e=encodeURIComponent(e)).replace(/%3A/i,":"),e+="@");var t=this.protocol||"",i=this.pathname||"",n=this.hash||"",a=!1,o="";this.host?a=e+this.host:this.hostname&&(a=e+(-1===this.hostname.indexOf(":")?this.hostname:"["+this.hostname+"]"),this.port&&(a+=":"+this.port)),this.query&&r.isObject(this.query)&&Object.keys(this.query).length&&(o=m.stringify(this.query));var s=this.search||o&&"?"+o||"";return t&&":"!==t.substr(-1)&&(t+=":"),this.slashes||(!t||g[t])&&!1!==a?(a="//"+(a||""),i&&"/"!==i.charAt(0)&&(i="/"+i)):a||(a=""),n&&"#"!==n.charAt(0)&&(n="#"+n),s&&"?"!==s.charAt(0)&&(s="?"+s),t+a+(i=i.replace(/[?#]/g,(function(e){return encodeURIComponent(e)})))+(s=s.replace("#","%23"))+n},a.prototype.resolve=function(e){return this.resolveObject(v(e,!1,!0)).format()},a.prototype.resolveObject=function(e){if(r.isString(e)){var t=new a;t.parse(e,!1,!0),e=t}for(var i=new a,n=Object.keys(this),o=0;o<n.length;o++){var s=n[o];i[s]=this[s]}if(i.hash=e.hash,""===e.href)return i.href=i.format(),i;if(e.slashes&&!e.protocol){for(var l=Object.keys(e),c=0;c<l.length;c++){var d=l[c];"protocol"!==d&&(i[d]=e[d])}return g[i.protocol]&&i.hostname&&!i.pathname&&(i.path=i.pathname="/"),i.href=i.format(),i}if(e.protocol&&e.protocol!==i.protocol){if(!g[e.protocol]){for(var u=Object.keys(e),p=0;p<u.length;p++){var h=u[p];i[h]=e[h]}return i.href=i.format(),i}if(i.protocol=e.protocol,e.host||_[e.protocol])i.pathname=e.pathname;else{for(var f=(e.pathname||"").split("/");f.length&&!(e.host=f.shift()););e.host||(e.host=""),e.hostname||(e.hostname=""),""!==f[0]&&f.unshift(""),f.length<2&&f.unshift(""),i.pathname=f.join("/")}if(i.search=e.search,i.query=e.query,i.host=e.host||"",i.auth=e.auth,i.hostname=e.hostname||e.host,i.port=e.port,i.pathname||i.search){var y=i.pathname||"",m=i.search||"";i.path=y+m}return i.slashes=i.slashes||e.slashes,i.href=i.format(),i}var v=i.pathname&&"/"===i.pathname.charAt(0),E=e.host||e.pathname&&"/"===e.pathname.charAt(0),I=E||v||i.host&&e.pathname,w=I,b=i.pathname&&i.pathname.split("/")||[],A=(f=e.pathname&&e.pathname.split("/")||[],i.protocol&&!g[i.protocol]);if(A&&(i.hostname="",i.port=null,i.host&&(""===b[0]?b[0]=i.host:b.unshift(i.host)),i.host="",e.protocol&&(e.hostname=null,e.port=null,e.host&&(""===f[0]?f[0]=e.host:f.unshift(e.host)),e.host=null),I=I&&(""===f[0]||""===b[0])),E)i.host=e.host||""===e.host?e.host:i.host,i.hostname=e.hostname||""===e.hostname?e.hostname:i.hostname,i.search=e.search,i.query=e.query,b=f;else if(f.length)b||(b=[]),b.pop(),b=b.concat(f),i.search=e.search,i.query=e.query;else if(!r.isNullOrUndefined(e.search)){if(A)i.hostname=i.host=b.shift(),(D=!!(i.host&&i.host.indexOf("@")>0)&&i.host.split("@"))&&(i.auth=D.shift(),i.host=i.hostname=D.shift());return i.search=e.search,i.query=e.query,r.isNull(i.pathname)&&r.isNull(i.search)||(i.path=(i.pathname?i.pathname:"")+(i.search?i.search:"")),i.href=i.format(),i}if(!b.length)return i.pathname=null,i.search?i.path="/"+i.search:i.path=null,i.href=i.format(),i;for(var T=b.slice(-1)[0],S=(i.host||e.host||b.length>1)&&("."===T||".."===T)||""===T,C=0,P=b.length;P>=0;P--)"."===(T=b[P])?b.splice(P,1):".."===T?(b.splice(P,1),C++):C&&(b.splice(P,1),C--);if(!I&&!w)for(;C--;C)b.unshift("..");!I||""===b[0]||b[0]&&"/"===b[0].charAt(0)||b.unshift(""),S&&"/"!==b.join("/").substr(-1)&&b.push("");var D,O=""===b[0]||b[0]&&"/"===b[0].charAt(0);A&&(i.hostname=i.host=O?"":b.length?b.shift():"",(D=!!(i.host&&i.host.indexOf("@")>0)&&i.host.split("@"))&&(i.auth=D.shift(),i.host=i.hostname=D.shift()));return(I=I||i.host&&b.length)&&!O&&b.unshift(""),b.length?i.pathname=b.join("/"):(i.pathname=null,i.path=null),r.isNull(i.pathname)&&r.isNull(i.search)||(i.path=(i.pathname?i.pathname:"")+(i.search?i.search:"")),i.auth=e.auth||i.auth,i.slashes=i.slashes||e.slashes,i.href=i.format(),i},a.prototype.parseHost=function(){var e=this.host,t=s.exec(e);t&&(":"!==(t=t[0])&&(this.port=t.substr(1)),e=e.substr(0,e.length-t.length)),e&&(this.hostname=e)}},5225:e=>{"use strict";e.exports={isString:function(e){return"string"==typeof e},isObject:function(e){return"object"==typeof e&&null!==e},isNull:function(e){return null===e},isNullOrUndefined:function(e){return null==e}}},6725:(e,t,i)=>{var n=i(5130)("xml-parser");e.exports=function(e){return e=(e=e.trim()).replace(/<!--[\s\S]*?-->/g,""),function(){return{declaration:t(),root:i()}}();function t(){if(a(/^<\?xml\s*/)){for(var e={attributes:{}};!o()&&!s("?>");){var t=r();if(!t)return e;e.attributes[t.name]=t.value}return a(/\?>\s*/),e}}function i(){n("tag %j",e);var t=a(/^<([\w-:.]+)\s*/);if(t){for(var l,c={name:t[1],attributes:{},children:[]};!(o()||s(">")||s("?>")||s("/>"));){var d=r();if(!d)return c;c.attributes[d.name]=d.value}if(a(/^\s*\/>\s*/))return c;for(a(/\??>\s*/),c.content=function(){n("content %j",e);var t=a(/^([^<]*)/);return t?t[1]:""}();l=i();)c.children.push(l);return a(/^<\/[\w-:.]+>\s*/),c}}function r(){n("attribute %j",e);var t,i=a(/([\w:-]+)\s*=\s*("[^"]*"|'[^']*'|\w+)\s*/);if(i)return{name:i[1],value:(t=i[2],t.replace(/^['"]|['"]$/g,""))}}function a(t){var i=e.match(t);if(i)return e=e.slice(i[0].length),i}function o(){return 0==e.length}function s(t){return 0==e.indexOf(t)}}},3356:e=>{"use strict";e.exports=BabelRuntimeHelpers.asyncToGenerator},1503:e=>{"use strict";e.exports=BabelRuntimeHelpers.objectSpread2}},t={};function i(n){var r=t[n];if(void 0!==r)return r.exports;var a=t[n]={id:n,loaded:!1,exports:{}};return e[n].call(a.exports,a,a.exports,i),a.loaded=!0,a.exports}i.n=e=>{var t=e&&e.__esModule?()=>e.default:()=>e;return i.d(t,{a:t}),t},i.d=(e,t)=>{for(var n in t)i.o(t,n)&&!i.o(e,n)&&Object.defineProperty(e,n,{enumerable:!0,get:t[n]})},i.g=function(){if("object"==typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"==typeof window)return window}}(),i.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),i.nmd=e=>(e.paths=[],e.children||(e.children=[]),e),(()=>{"use strict";var e=i(9598),t=i(3356),n=i.n(t),r=i(6725),a=i.n(r),o=i(1547),s=i(7046),l=i(3170),c=i(2802),d=i(5373);const u=function(e,t,i){return d.S1.call(this,e,(e=>{const t={};for(const i of Object.keys(e||{}))e[i]&&(t[i]=Object.assign({},e[i]),e[i].landscape&&!e[i].landscapeLeft&&(t[i].landscapeLeft=Object.assign({},e[i].landscape)),e[i].landscape&&!e[i].landscapeRight&&(t[i].landscapeRight=Object.assign({},e[i].landscape)));return t})(t),i)};var p=i(2582),h=i(2241),f=i(665),y=i(1503),_=i.n(y),g=i(1106),m=i(8401),v=i(19);const E={type:"EOF"};class I{constructor(){this.token=[],this.tokens=[],this.state=null,this.state=this.start}isEOF(e){return e&&"object"==typeof e&&"EOF"===e.type}start(e){return this.isEOF(e)?(this.emmitToken("EOF",E),this.start):"#"===e?(this.token.push(e),this.inTplFunc):"$"===e?(this.token.push(e),this.inTplStr):"&"===e||"|"===e?(this.token.push(e),this.inLogic):/^[0-9]/.test(e)?(this.token.push(e),this.inNumber):"'"===e?this.inQuoteStr:-1!==[">","<","=","!"].indexOf(e)?(this.token.push(e),this.inCompare):"?"===e?(this.emmitToken("QUESTION",e),this.start):":"===e?(this.emmitToken("COLON",e),this.start):","===e?(this.emmitToken("COMMA",e),this.start):/^\s/.test(e)?this.start:null}inLogic(e){return this.isEOF(e)||"&"!==e&&"|"!==e?this.start(e):(this.token.push(e),this.emmitToken("LOGIC",this.token.join("")),this.token=[],this.start)}inNumber(e){return!this.isEOF(e)&&/^[0-9.]/.test(e)?(this.token.push(e),this.inNumber):(this.emmitToken("NUMBER",this.token.join("")),this.token=[],this.start(e))}inTplFunc(e){const t=()=>{let e=0,t=0;for(let i=0,n=this.token.length;i<n;i++){const n=this.token[i];"("===n?e+=1:")"===n&&(t+=1)}return e===t};return this.isEOF(e)?(this.emmitToken("TPLFUNC",this.token.join("")),this.token=[],this.start(e)):(this.token.push(e),")"===e&&t()?(this.emmitToken("TPLFUNC",this.token.join("")),this.token=[],this.start):this.inTplFunc)}inTplStr(e){return!this.isEOF(e)&&/^[a-zA-Z0-9.-_$]/.test(e)?(this.token.push(e),this.inTplStr):(this.emmitToken("TPLSTR",this.token.join("")),this.token=[],this.start(e))}inCompare(e){return this.isEOF(e)||"="!==e?(this.emmitToken("COMPARE",this.token.join("")),this.token=[],this.start(e)):(this.token.push(e),this.inCompare)}inQuoteStr(e){return this.isEOF(e)||"'"!==e?(this.token.push(e),this.inQuoteStr):(this.emmitToken("STR",this.token.join("")),this.token=[],this.start)}emmitToken(e,t){this.tokens.push({type:e,value:t})}push(e){this.state&&(this.state=this.state(e))}end(){this.state&&this.state(E)}}const w=e=>{const t=new I;let i=0;const n=e.length;for(;i<n;){const n=e[i];i+=1,t.push(n)}return t.end(),t.tokens},b=e=>"ROOT"===e.type?{type:"ROOT",maxChildren:0,children:[],priority:-9999}:"TPLFUNC"===e.type?{type:"TPLFUNC",children:[e.value],maxChildren:1,priority:40}:"TPLSTR"===e.type?{type:"TPLSTR",children:[e.value],maxChildren:1,priority:40}:"NUMBER"===e.type?{type:"NUMBER",children:[e.value],maxChildren:1,priority:40}:"STR"===e.type?{type:"STR",children:[e.value],maxChildren:1,priority:40}:"COMPARE"===e.type?{type:"COMPARE",operator:e.value,children:[],maxChildren:2,priority:30,isSign:!0}:"LOGIC"===e.type?{type:"LOGIC",operator:e.value,children:[],maxChildren:2,priority:20,isSign:!0}:"QUESTION"===e.type?{type:"QUESTION",operator:e.value,children:[],maxChildren:3,priority:10,isSign:!0}:"COLON"===e.type?{type:"COLON",operator:e.value,children:[],maxChildren:0,priority:10,isSign:!0}:"EOF"===e.type?{type:"ROOT_END",children:[],maxChildren:0,priority:-9999}:null,A=e=>0!==e.maxChildren&&((null==e?void 0:e.children)&&e.children.length>=e.maxChildren),T=e=>0!==e.maxChildren&&((null==e?void 0:e.children)&&e.children.length<e.maxChildren),S=e=>{let t;t="string"==typeof e?w(e):e;const i=[b({type:"ROOT"})],n=e=>{const t=e.priority;for(;A(i[i.length-1])&&T(i[i.length-2])&&t<=i[i.length-1].priority&&t<=i[i.length-2].priority;){const{children:e}=i[i.length-2];null==e||e.push(i.pop())}},r=e=>{const t=b(e),r=i[i.length-1];if("STR"===t.type||"TPLSTR"===t.type||"NUMBER"===t.type||"TPLFUNC"===t.type){if(A(r))return;T(r)?r.children.push(t):i.push(t)}else"COMPARE"===t.type||"LOGIC"===t.type||"QUESTION"===t.type?A(r)&&(t.priority>r.priority?((e,t)=>{const n=t.children.pop();n&&e.children.push(n),i.push(e)})(t,r):(n(t),(e=>{const t=i.pop();t&&e.children.push(t),i.push(e)})(t))):"ROOT_END"===t.type&&(n(t),i.push(t))};for(let e=0,i=t.length;e<i;e++)r(t[e]);return i},C=({type:e,children:t,operator:i},n,r={})=>{const a=e=>C(t[e],n,r);if("COMPARE"===e){const e={">":()=>a(0)>a(1),"<":()=>a(0)<a(1),">=":()=>a(0)>=a(1),"<=":()=>a(0)<=a(1),"==":()=>a(0)==a(1),"!=":()=>a(0)!=a(1),"===":()=>a(0)===a(1)},t=i&&e[i];return t?t():null}if("LOGIC"===e){const e={"&&":()=>a(0)&&a(1),"||":()=>a(0)||a(1)},t=i&&e[i];return t?t():null}const o={NUMBER:()=>Number(t[0]),STR:()=>t[0],TPLSTR:()=>((e,t)=>{const i=e.split(".");let n="";return i.forEach((e=>{""===n?n=t[e]:("string"==typeof n&&(n=JSON.parse(n)),n=n[e])})),n})(t[0],n),QUESTION:()=>a(0)?a(1):a(2),TPLFUNC:()=>((e,t,i)=>{const n=e.indexOf("("),r=e.substring(0,n),a=e.substring(n+1,e.length-1);if(!i[r])return null;const o=w(a),s=[];let l=[];for(let e=0,t=o.length;e<t;e++){const t=o[e];"COMMA"===t.type||"EOF"===t.type?(s.push(l),l=[]):l.push(t)}const c=[];return s.forEach((e=>{c.push(D(e,t,i))})),i[r].apply(null,c)})(t[0],n,r)}[e]||null;return o?o():null},P={"#scope":e=>e,"#no":e=>!e,"#add":(e,t)=>e+t,"#sub":(e,t)=>e-t,"#multi":(e,t)=>e*t,"#division":(e,t)=>e/t,"#negative":e=>-e,"#toNumber":e=>Number(e),"#toString":e=>String(e),"#toArray":(...e)=>e,"#ceil":e=>Math.ceil(e),"#floor":e=>Math.floor(e),"#round":e=>Math.round(e),"#substring":(e,t,i)=>e.substring(t,i),"#like":(e,t)=>-1!==e.indexOf(t),"#toFixed":(e,t)=>parseFloat(e).toFixed(t),"#toLowerCase":e=>e.toLowerCase(),"#toUpperCase":e=>e.toUpperCase(),"#len":e=>e.length,"#hansLen":e=>{let t=0;for(const i of e)t+=/[\u4e00-\u9fa5]/.test(i)?2:1;return t/2},"#parse":e=>{try{return JSON.parse(e)}catch(e){return{}}},"#value":(e,t)=>e[t]||{},"#truncate":(e,t)=>{let i="",n=0;for(const r of e){if(n+=/[\u4e00-\u9fa5]/.test(r)?2:1,n>t){i+="...";break}i+=r}return i},"#concat":(...e)=>e.join(""),"#split":(e,t,i)=>null==e?void 0:e.split(t,i),"#abbrNum":e=>e<1e4?e.toString():`${(e/1e4).toFixed(1)}万`,"#trimDigit":e=>{const t=e.toString().split(".");if(t.length<2)return e;let i=t.slice(-1)[0];for(;"0"===i[i.length-1];)i=i.slice(0,-1);return t.slice(0,-1).concat(i?[i]:[]).join(".")},"#append":(e,t,i=!1)=>(i&&e.indexOf(t)>-1||e.push(t),e),"#remove":(e,t)=>e.filter((e=>e!==t)),"#include":(e,t)=>e.indexOf(t)>-1,"#mod":(e,t)=>e%t,"#indexedArray":e=>{if(e<=0)return[];const t=[];for(let i=0;i<e;i+=1)t.push(i);return t},"#get":v.U2,"#slice":(e,t,i)=>e.slice(t,i)},D=(e,t,i)=>{try{const n=S(e);return C(n[1],t,Object.assign({},P,i))}catch(e){}return null};var O=i(4643),k=i(637),x=i(6120),R=i(8476);const N={},M=p.iw;class L extends m.wA{constructor(e,{autoRegister:t=!0}={}){super(e),this.adCustomId=void 0,this.adProxy=void 0,this.adData=void 0,this.adDatas=void 0,this.template=void 0,this.manager=void 0,this.reporter=void 0,this.emitter=void 0,this.id=void 0,this.options=void 0,this.data=void 0,this.events=void 0,this.lifecycle=void 0,this.innerStyles=void 0,this.animations=void 0,this.idPrefix=void 0,this.forType=void 0,this.forItem=void 0,this.forIndex=void 0,this.ratio=1,this.tplConfig=null,this.bubbleEvent=void 0,this.adCustomListener=null,this.clickCallbackMap=new WeakMap,this.handleCommonClick=e=>{this.doActions(this.events.tap,{event:e})},this.handleAdCustomAction=e=>{e.targetid===this.id&&this.doCommonAction(e)},this.adCustomId=e.adCustomId,this.adProxy=e.adProxy,this.adData=e.adData,this.adDatas=e.adDatas,this.manager=e.manager,this.reporter=e.reporter,this.emitter=e.emitter,this.idPrefix=e.idPrefix||"",this.forType=e.forType||k.bk.NONE,this.forItem=e.forItem,this.forIndex=e.forIndex,e.ratio&&(this.ratio=e.ratio),this.checkSize();const i=e.template||{};this.template=i,this.id=`${this.adCustomId}-${this.idPrefix}${this.template.id}`;const n=i.options||{};this.options=n,this.data=n.data||{},this.events=n.events||{},this.lifecycle=n.lifecycle||{},this.innerStyles=n.innerStyles||{},this.animations=n.animations||{},this.bubbleEvent=void 0===n.bubbleEvent||n.bubbleEvent;const r=this.getDataValue("_bubbleEvent");void 0!==r&&(this.bubbleEvent=r),t&&this.bindCommonEvents()}ready(e){this.emitComponentLifeCycle("onInit"),e&&(e.adId=this.id)}updatedProps(){this.updateBubbleEvent()}destroy(){this.emitComponentLifeCycle("onDestroy"),this.offClick("container",this.handleCommonClick),this.emitter.off("adCustomAction",this.handleAdCustomAction),this.removeAdCustomListener()}bindCommonEvents(){this.onClick("container",this.handleCommonClick),this.emitter.on("adCustomAction",this.handleAdCustomAction)}getCommonSubComponentProps(){return{template:this.template,adCustomId:this.adCustomId,emitter:this.emitter,adProxy:this.adProxy,reporter:this.reporter,adData:this.adData,adDatas:this.adDatas,adPosition:this.props.adPosition,systemInfo:this.props.systemInfo,manager:this.manager,idPrefix:this.idPrefix||"",forType:this.forType,forIndex:this.forIndex,forItem:this.forItem,ratio:this.ratio,scope:this.props.scope}}getDataValue(e,t,i){const n=t||this.data,r=n[`${e}Expr`];if(r){return this.run(r,null==i?void 0:i.args)}return n[e]}getDataValueWithDefault(e,t,i,n){const r=i?this.getDataValue(e,i,n):this.getDataValue(e);return void 0===r?t:r}getAdData(){return this.forType===k.bk.ADS&&null!=this.forIndex?this.getAdDatas()[this.forIndex]||{}:this.adData}getAdDatas(){return this.adDatas||[]}addAdCustomListener(e){this.removeAdCustomListener(),this.adCustomListener=t=>{t.adCustomId===this.adCustomId&&(null==e||e(t))},this.emitter.on("adCustomEvent",this.adCustomListener)}removeAdCustomListener(){this.adCustomListener&&this.emitter.off("adCustomEvent",this.adCustomListener)}setRatio(e){this.ratio=e}checkSize(){var e,t;const{template:i}=this;if(i&&"root"!==i.type)return;this.tplConfig=(null==i?void 0:i.tplConfig)||{};const n=this.props.adPosition||{};if(!this.tplConfig)return;const{tplConfig:r}=this;let{width:a}=this.props.adPosition||{};var o,s;null==a&&(a=(null===(o=this.props)||void 0===o||null===(s=o.systemInfo)||void 0===s?void 0:s.screenWidth)||R.S3.screenWidth);a=Number(a);const l=r.minWidth||0,c=r.maxWidth||0,d=r.baseWidth||375;let u=Math.min((null===(e=this.props)||void 0===e||null===(t=e.systemInfo)||void 0===t?void 0:t.screenWidth)||R.S3.screenWidth,Math.max(l,a));c&&(u=Math.min(u,c)),0===u&&this.setRatio(d/d),n.width=u,this.setRatio(u/d)}emitAdCustomEvent(e,t){this.emitter.emit("adCustomEvent",{adCustomId:this.adCustomId,action:e,value:t})}emitComponentEvent(e,t){const i=this.events[e];null!=i&&i.length&&this.doActions(i,t||{})}emitComponentLifeCycle(e,t){const i=this.lifecycle[e];null!=i&&i.length&&this.doActions(i,t)}doActions(e=[],t={}){for(const i of e)i.force&&!i.targetid?this.doCommonAction({args:t,payload:i}):this.emitter.emit("adCustomAction",{fromid:this.id,targetid:i.targetid?`${this.adCustomId}-${i.targetid}`:this.id,args:t,payload:i})}doCommonAction(e){const{payload:t,args:i}=e,{delay:n=0,expr:r}=t,a=()=>{if(!r||this.run(r,i))switch(t.action){case k.aO.SETSTYLE:{const{value:e}=t;if(e.styleExpr)for(const t of Object.keys(e.styleExpr))e.style[t]=this.run(e.styleExpr[t],i);this.setStyle(e.id,e.style);break}case k.aO.SETEXPRVARS:{const{key:e}=t.value,i=this.getDataValue("value",t.value);this.getExprInnerVars()[e]=i;break}case k.aO.REPORTIDKEY:break;case k.aO.TRIGGEREVENT:{const{detail:e={},eventName:n}=t.value;try{if(null!=i&&i.event&&(e.rawDetail=JSON.stringify(i.event)),t.value.detailExpr)for(const n of Object.keys(t.value.detailExpr)){const r=t.value.detailExpr[n];e[n]=this.run(r,i)}}catch(e){}this.emitAdCustomEvent(k.A$.TRIGGEREVENT,{eventName:n,detail:e});break}case k.aO.REPORTMMDATA:{const{data:e,dataExpr:n,id:r}=t.value;if(n)for(const t of Object.keys(n)){const r=n[t];e[t]=this.run(r,i)}this.emitAdCustomEvent(k.A$.REPORTMMDATA,{id:r,data:e});break}case k.aO.ANIMATE:{const{id:e,animation:i}=t.value;this.doAnimation({id:e,animationName:i});break}case k.aO.TRIGGERBTNCLICK:{const e=null==i?void 0:i.event;var n;if(e)this.emitAdCustomEvent(k.A$.BTNTAP,{event:e,isHandleDownload:(null===(n=t.value)||void 0===n?void 0:n.isHandleDownload)||!1});break}case k.aO.LANDAD:{const e=null==i?void 0:i.event;e&&this.emitAdCustomEvent(k.A$.LANDAD,{index:this.getDataValueWithDefault("index",0,t.value,{args:i}),event:e});break}case k.aO.SPLASHSKIPAD:{const e=null==i?void 0:i.event;e&&this.emitAdCustomEvent(k.A$.SPLASHSKIPAD,{event:e});break}case k.aO.REPORTADMONITORDATA:{const{id:e,key:n}=t.value,r=this.getDataValue("extInfo",t.value,{args:i});this.emitAdCustomEvent(k.A$.REPORTADMONITORDATA,{id:e,key:n,extInfo:r});break}case k.aO.REWARDEDVIDEODYNAMIC:{const{list:e}=t.value;this.emitAdCustomEvent(k.A$.REWARDEDVIDEODYNAMIC,{list:e});break}default:"doAction"in this&&"function"==typeof this.doAction&&this.doAction(e)}};n?setTimeout(a,n):a()}run(e,t){const i=this.getInnerFunction(),n=_()(_()({},this.getScope()),i);return D(e,t?_()({$args:t},n):n,i)}getElementById(e){if(!e){var t,i;const e=null!==(t=null===(i=this.getRootElement())||void 0===i?void 0:i.parent)&&void 0!==t?t:null;return e===m.Ar?this.getRootElement():e}return"$$"===e?this.getRootElement():super.getElementById(e)}static animate(e,t){const{left:i,top:n,scaleWidth:r,scaleHeight:a,opacity:o,rotate:s=0,easing:l="ease-in",duration:c=500}=t;let d=new Promise(((t,d)=>{(0,g.IN)("animateCoverView",{dest:e.dest,viewId:e.id,easing:l,duration:c,finalStyle:{left:i,top:n,opacity:o,rotate:s,scaleX:r,scaleY:a},success:t,fail:d})}));return"devtools"===M&&(d=Promise.all([d,(0,h.Vs)(c)])),d}doAnimation({id:e,emitEvent:t=!0,animationName:i,animation:r}){var a=this;return n()((function*(){const n=!r&&i?a.animations[i]:r,o=a.getElementById(e);if(!n||!o)return;const{keys:s,duration:l,easing:c}=n;if(((null==s?void 0:s.length)||0)<2)return;let d=0;for(const t of Object.keys(s)){const i=s[+t],{offset:n,opacity:r,left:u,top:p,rotate:h,scaleX:f,scaleY:y}=i,g=l*n,v=(0,m.MO)({opacity:r,left:u,top:p,rotate:h,scaleWidth:f,scaleHeight:y});if(g<=0)yield a.setStyle(e,v);else{const e=_()(_()({},v),{},{easing:c,duration:g-d});e.left=v.left,e.top=v.top,yield L.animate(o,e),d=g}}i&&t&&(yield a.emitComponentEvent(k.H.ANIMATIONEND,{animation:i}))}))()}updateInnerStyle(){if(this.innerStyles)for(const e of Object.keys(this.innerStyles)){const t=this.innerStyles[e];t.expr&&!this.run(t.expr)||this.updateStyle(t.style,e)}}setStyle(e,t){var i=()=>super.setStyle,r=this;return n()((function*(){const n=r.getDataValue("_useApx")?r.convertToApxRatio(t):t;let a=e;var o;"$$"===a&&(a=null===(o=r.getRootElement())||void 0===o?void 0:o.name);if(n){for(const e of Object.keys(n))n[e]=r.convertApxStyle(n[e]);var s;if(a)yield i().call(r,a,n);else null===(s=r.parent)||void 0===s||s.setStyle("container",n)}}))()}convertApxStyle(e){const t=/([+-]?\d+(?:\.\d+)?)apx/g;return e&&"string"==typeof e?e.replace(t,((e,t)=>`${Number(t*this.ratio)}px`)):e}updateStyle(e,t){if(e)for(const i of Object.keys(e)){let n=i,r=e[i];if(i.includes("Expr")){const e=i.split("Expr");2===e.length&&([n]=e,r=this.run(r))}this.setStyle(t,{[n]:r})}}removeInnerStyle(){if(this.innerStyles)for(const e of Object.keys(this.innerStyles)){const t=this.innerStyles[e];this.removeStyle(t.style,e)}}removeStyle(e,t){if(e)for(const i of Object.keys(e))this.setStyle(t,{[i]:null})}getScope(){var e,t;return{$ad:this.getAdData(),$ads:this.getAdDatas(),$const:{true:!0,false:!1,isGame:!0,openParen:"(",closeParen:")",systemInfo:(null===(e=this.props)||void 0===e?void 0:e.systemInfo)||{},ua:"",ratio:this.ratio,time:Date.now()},$for:{index:this.forIndex,item:this.forItem},$scope:(null===(t=this.props)||void 0===t?void 0:t.scope)||{}}}getExprInnerVars(){return void 0===N[this.adCustomId]&&(N[this.adCustomId]={}),N[this.adCustomId]}getInnerFunction(){const e=this.getExprInnerVars();return{"#getVar":t=>e[t],"#measureText":(e,t)=>x.Z.getTextWidth(e,t)}}updateBubbleEvent(){const e=this.getRootElement();e&&(0,O.zJ)(e,(e=>{if(!e.isBubbleEventSet)if(e.isRootElementOfComponent){const t=e.referComponent;e.bubbleEvent=!t||t.bubbleEvent}else e.bubbleEvent=!0}))}onClick(e,t,{handleTriggerClick:i=!0,handleClickLimit:n=!0,isReport:r=!1,clickType:a=0}={}){const o=e=>{null!==this.reporter&&(i&&!this.reporter.judgeTriggerClick(e,r)||n&&this.reporter.isClickLimit(e,a))||t(e)};return this.clickCallbackMap.set(t,o),super.onClick(e,o)}offClick(e,t){return this.clickCallbackMap.has(t)?super.offClick(e,this.clickCallbackMap.get(t)):super.offClick(e,t)}checkUseApx(){if(this.getDataValue("_useApx"))for(const e of Object.keys(this.style))this.style[e]=this.convertToApxRatio(this.style[e])}convertToApxRatio(e){const{ratio:t}=this,i=/(\d+)px/g,n={};for(const r of Object.keys(e))if(null!==k.fc&&void 0!==k.fc&&k.fc.includes(r)){const a=e[r];let o=a;"number"==typeof a?o=a*t:"string"==typeof a?o=a.replace(i,((e,i)=>{const n=Number(i);return Number.isNaN(n)?e:n*t+"px"})):Array.isArray(a)&&null!=a&&a.every((e=>"number"==typeof e))&&(o=a.map((e=>e*t))),n[r]=o}else n[r]=e[r];return n}}class F extends L{getSubComponentProps(){return this.getCommonSubComponentProps()}constructor(e){var t;if((super(e,{autoRegister:!1}),this.style={blank:{width:0,height:0},linearGradient:{position:"absolute",top:0,left:0,width:"100%",height:"100%"},".reverse":{rotate:180}},this.isShow=void 0,this.isLinearGradient=!1,this.isLinearGradientReverse=!1,this.linearGradientSrc="https://wxa.wxs.qq.com/images/wxapp/linear_gradient.png",this.linearGradientRe=/^linear-gradient\(rgba\(0,0,0,([\d.]+)\),rgba\(0,0,0,([\d.]+)\)\)$/,this.isShow=this.getDataValueWithDefault("_isShow",!0),this.isShow)&&("feedback"===this.template.type?this.setStyle("container",{display:"inline-block"}):"end"===this.template.type&&this.setStyle("container",{display:"none"}),this.updateStyle(this.template.style||{},"container"),null!==(t=this.template.style)&&void 0!==t&&t.background)){const e=this.linearGradientRe.exec(this.template.style.background.replace(/ /g,""));if(e){const[t,i]=e.slice(1);this.isLinearGradient=!0,Number(t)>Number(i)&&(this.isLinearGradientReverse=!0)}}}render(){const{template:e}=this.props;let t=null;return"for"===e.type?"<CustomFor></CustomFor>":(["layout","image","text","button","video","feedback","end","carousel","countdown"].includes(e.type)&&(t=`Custom${e.type[0].toUpperCase()}${e.type.slice(1)}`),this.isShow&&t?`\n      <view id="container">\n        ${this.isLinearGradient?`\n          <image id="linear-gradient" class="${this.isLinearGradientReverse?"reverse":""}" src="${this.linearGradientSrc}"></image>\n        `:""}\n        <${t}></${t}>\n      </view>\n    `:'<view id="blank"></view>')}}F.subComponents=()=>({CustomLayout:U,CustomText:G,CustomImage:H,CustomButton:$,CustomVideo:q,CustomFeedback:K,CustomEnd:J,CustomFor:X,CustomCarousel:re,CustomCountdown:ae});var j=i(3489);class W extends L{constructor(e){var t,i,n;super(e),this.style={body:{zIndex:1,position:"absolute",hidden:!0,opacity:0,flexDirection:"column",alignItems:"center",justifyContent:"center"},".full-size":{width:"100%",height:"100%"},".full":{position:"absolute",left:0,right:0,top:0,bottom:0},".tip-container":{position:"absolute",top:0,left:0,width:"100%",height:"100%",justifyContent:"center",alignItems:"center",hidden:!0},".video-close-tip":{position:"relative",zIndex:1e3,height:48,width:122,lineHeight:48,backgroundColor:"#4C4C4C",borderRadius:12,fontSize:17,color:"#fff",textAlign:"center"},".empty":{width:"100%",height:"100%",justifyContent:"center",alignContent:"center",alignItems:"center",backgroundColor:"#dcdcdc",color:"#888",textAlign:"center",fontSize:12,minHeight:50}},this.state={hidden:!0},this.isFullScreen=void 0,this.useDefaultFeedback=void 0,this.exposureUntilVideoPlay=void 0,this.exportAid=void 0,this.enableTimer=void 0,this.hideAfterLanding=void 0,this.isMulti=void 0,this.isWidthRequired=void 0,this.multiShowList=void 0,this.show=()=>{this.setStyle("body",{hidden:!1,opacity:1}),this.emitAdCustomEvent(k.A$.CHECKEXPOSURE)},this.hide=()=>{this.setStyle("body",{hidden:!0,opacity:0}),this.emitAdCustomEvent(k.A$.CHECKEXPOSURE)},this.showFeedback=()=>{const{useDefaultFeedback:e}=this;e&&(this.setStyle("tipContainer",{hidden:!1}),setTimeout((()=>{this.setStyle("tipContainer",{hidden:!0})}),3e3))},this.handleEnterForeground=()=>{this.emitComponentEvent(k._d.APPENTERFOREGROUND),this.emitAdCustomEvent(k.A$.APPENTERFOREGROUND)},this.handleEnterBackground=()=>{this.emitComponentEvent(k._d.APPENTERBACKGROUND),this.emitAdCustomEvent(k.A$.APPENTERBACKGROUND)},this.handleContainerClick=e=>{var t,i;null!==(t=this.manager)&&void 0!==t&&t.isMulti||(this.emitComponentEvent(k._d.CONTAINERTAP),null===(i=this.reporter)||void 0===i||i.handleClick(e,2))},this.isFullScreen=this.getDataValueWithDefault("isFullScreen",!1),this.enableTimer=this.getDataValueWithDefault("enableTimer",!0),this.useDefaultFeedback=this.getDataValueWithDefault("useDefaultFeedback",!0),this.exposureUntilVideoPlay=this.getDataValueWithDefault("exposureUntilVideoPlay",!1),this.hideAfterLanding=this.getDataValueWithDefault("hideAfterLanding",!1),this.exportAid=this.getDataValueWithDefault("exportAid",!1),this.isMulti=null!==(t=null===(i=this.template)||void 0===i||null===(n=i.tplConfig)||void 0===n?void 0:n.isMulti)&&void 0!==t&&t,this.isWidthRequired=this.getDataValueWithDefault("isWidthRequired",!1),this.multiShowList=this.getDataValue("multiShowList"),this.bindEvent(),this.updateInnerStyle(),this.updateStyle(this.template.style||{},"container");const r=["left","top"];!R.S3.isWaGame&&r.push("fixed"),this.isWidthRequired&&r.push("width"),!this.isFullScreen&&e.adPosition&&this.setStyle("body",(0,O.ei)(e.adPosition,r))}destroy(){super.destroy(),this.unbindEvent()}ready(e){super.ready(e),this.isFullScreen&&(e.fullscreen=!0),this.updateBubbleEvent()}getCustomItemProps(e,t){return _()(_()({},this.getCommonSubComponentProps()),{},{template:this.props.template.children[parseInt(t,10)]})}bindEvent(){(0,j.dN)(this.handleEnterForeground),(0,j.vv)(this.handleEnterBackground),this.onClick("container",this.handleContainerClick)}unbindEvent(){(0,j.Tb)(this.handleEnterForeground),(0,j.b$)(this.handleEnterBackground),this.offClick("container",this.handleContainerClick)}getRootData(e){switch(e){case"hidable":return this.getDataValueWithDefault("hidable",!0);case"refetchable":return this.getDataValueWithDefault("refetchable",!1)}}doAction({payload:e,args:t}){var i,n;if(e.action===k.aO.HIDEAD)"value"in e&&e.value.preventClose?null===(i=this.manager)||void 0===i||i.hide(!0):null===(n=this.manager)||void 0===n||n.hide();else if(e.action===k.aO.RELOADAD){var r;null===(r=this.manager)||void 0===r||r.reload()}else e.action===k.aO.CHANGEMULTISHOW&&(e.value.listExpr?this.emitAdCustomEvent(k.A$.CHANGEMULTISHOW,{list:this.run(e.value.listExpr,t)}):e.value.list?this.emitAdCustomEvent(k.A$.CHANGEMULTISHOW,{list:e.value.list}):null!=t&&t.list&&this.emitAdCustomEvent(k.A$.CHANGEMULTISHOW,{list:t.list}))}isShow(){var e;const t=this.getElementById("body");return null!==(e=!(null!=t&&t.style.hidden))&&void 0!==e&&e}render(){if(this.props.isEmpty)return'\n        <view id="body">\n          <view id="empty-container" class="empty">\n            <text id="empty-container-text" class="empty-info" value="暂无广告，具体指引查看小程序流量主功能"></text>\n          </view>\n        </view>\n      ';const{template:e}=this.props,{isFullScreen:t}=this,{useDefaultFeedback:i}=this;return`\n      <view id="body" class="${t?"full-size":""}">\n        ${e?`\n          <view id="container" class="wx-ad-custom ${t?"full full-size":""}">\n            ${e.children.map(((e,t)=>`\n              <CustomItem get-props="getCustomItemProps:${t}"></CustomItem>\n            `)).join("\n")}\n          </view>\n          ${i?'\n            <view id="tip-container" class="tip-container">\n              <text id="close-tip" class="video-close-tip" value="感谢反馈"></text>\n            </view>\n          ':""}\n        `:""}\n      </view>\n    `}}W.subComponents={CustomItem:F};class U extends L{constructor(e){super(e),this.state={children:[]},this.style={".layout-row":{flexDirection:"row",alignItems:"center",justifyContent:"center"},".layout-column":{flexDirection:"column",alignItems:"center",justifyContent:"center"},".layout-proportion":{position:"absolute",width:"100%",height:"100%"}},this.baseType=void 0,this.classRow=!1,this.classColumn=!1,this.baseType=this.options.baseType||k.BB.COMMON,this.baseType===k.BB.ROW?this.classRow=!0:this.baseType===k.BB.COLUMN?this.classColumn=!0:(this.baseType,k.BB.PROPORTION),this.state.children=this.template.children||[],this.updateInnerStyle()}doAction({payload:e}){if(e.action===k.aO.ADDCHILDREN){const{value:t}=e,i=Array.isArray(t)?t:[t],n=[...this.state.children,...i];this.setState({children:n})}}ready(e){super.ready(e),this.initProportionComponent()}initProportionComponent(){const e=this.getDataValue("mProportion");if(!e)return;const t=this.getRootElement().layoutBox;if(t.width/t.height>e){const i=Math.round(t.height*e);this.setStyle("container",{width:i,left:(t.width-i)/2,top:0})}else{const i=Math.round(t.width/e);this.setStyle("container",{height:i,top:(t.height-i)/2,left:0})}}getSubComponentProps(e,t){return _()(_()({},this.getCommonSubComponentProps()),{},{template:this.state.children[parseInt(t,10)]})}render(){const{children:e}=this.state,t=["layout"];this.classRow&&t.push("layout-row"),this.classColumn&&t.push("layout-column");return`\n      <view\n        id="container"\n        class="${t.join(" ")}"\n      >\n      ${e.map(((e,t)=>`\n        <CustomItem get-props="getSubComponentProps:${t}"></CustomItem>\n      `)).join("\n")}\n      </view>\n    `}}U.subComponents=()=>({CustomItem:F});var V=i(5328),B=i(3324),Z=i(4684);class G extends L{constructor(e){super(e),this.style={".text":{color:"#000",fontSize:14,wordBreak:"break-all"},".text-ellipsis":{lineBreak:"ellipsis",overflow:"hidden"}},this.state={text:""},this.baseType=void 0,this.classEllipsis=!1,this.maxLen=void 0;const t=this.options.baseType||k.qW.NICKNAME;this.baseType=t,t===k.qW.COMMON?this.initCommonComponent():t===k.qW.NICKNAME?this.initNickNameComponent():t===k.qW.DESC&&this.initDescComponent(),this.classEllipsis=this.getDataValueWithDefault("isEllipsis",!0),this.maxLen=this.getDataValueWithDefault("maxLen",null),this.updateInnerStyle()}ready(e){super.ready(e),this.baseType===k.qW.RELATION&&this.initRelationComponent()}initCommonComponent(){this.state.text=this.getDataValueWithDefault("text","")}initNickNameComponent(){const e=this.getAdData(),t=[V.fY.APPLE_APP_STORE,V.fY.OPEN_PLATFORM_APP_MOB].includes(e.product_type),i=e.crt_size===V.vK.CRT_SIZE_GRID,n=[V.fY.WE_CHAT_ARTICLE,V.fY.GDT_WE_CHAT_ARTICLE].includes(e.product_type),r=[V.fY.WE_CHAT_SHOP,V.fY.JD_URL].includes(e.product_type),a=[{path:["extBackComm","nick_name"]},{path:["weapp_info","nick_name"],condition:i},{path:["crtInfo","0","wxgame_video_card","title"],condition:[V.vK.CRT_SIZE_REWARD_VEDIO169,V.vK.CRT_SIZE_REWARD_VEDIO916,V.vK.CRT_SIZE_VERTICAL_VIDEO_NEW_916,V.vK.CRT_SIZE_MULTI_POS_VIDEO].includes(e.crt_size)},{path:["appInfo","appName"],condition:t},{path:["app","nickname"],condition:!t},{path:["crtInfo","0","card_info","title"]},{value:"品牌推广",condition:n},{value:"电商推广",condition:r},{value:"活动推广"}];this.state.text=(0,O.Ze)(e,a)}initDescComponent(){const e=this.getAdData(),t=[V.fY.APPLE_APP_STORE,V.fY.OPEN_PLATFORM_APP_MOB].includes(e.product_type),i=[V.vK.CRT_SIZE_REWARD_VEDIO169,V.vK.CRT_SIZE_REWARD_VEDIO916,V.vK.CRT_SIZE_VERTICAL_VIDEO_NEW_916,V.vK.CRT_SIZE_MULTI_POS_VIDEO].includes(e.crt_size),n=e.product_type===V.fY.MINI_GAME,r=e.product_type===V.fY.WECHAT,a=[V.fY.WE_CHAT_ARTICLE,V.fY.GDT_WE_CHAT_ARTICLE].includes(e.product_type),o=[V.fY.WE_CHAT_SHOP,V.fY.JD_URL].includes(e.product_type),s=[{path:["extBackComm","desc_1"]},{path:["crtInfo","0","wxgame_video_card","desc"],condition:i},{path:["wording"],condition:[V.vK.CRT_SIZE_MULTI_POS_NEW_PIC,V.vK.CRT_SIZE_IN_TEXT_DESC_CARD].includes(e.crt_size)}];this.getDataValueWithDefault("useDefault",!1)?s.push({path:["extBackComm","default_desc"]},{value:"今日活动推荐",condition:a},{value:"今日商品推荐",condition:o},{value:"今日应用推荐",condition:t},{value:"今日公众号推荐",condition:r},{value:"今日小游戏推荐",condition:n},{value:"今日活动推荐"}):s.push({value:""}),this.state.text=(0,O.Ze)(e,s)}initRelationComponent(){var e=this;return n()((function*(){const t=e.getAdData();if(8!==(0,O.U2)(t,["crtInfo","0","card_info","mp_tag_type"]))return;const{aid:i}=t,n=Date.now(),r=(0,O.U2)(t,["button_action","button_text"],"");try{var a;const t=yield(0,B.uQ)({aid:i,buttonText:r}),o=Date.now();e.adProxy.reportRelationFetchDuration({startTime:n,endTime:o,showTime:(null===(a=e.manager)||void 0===a?void 0:a.showDetailTime)||0});let s="";if(t){const{count:i,descText:n}=t;s=e.getDataValueWithDefault("text","",void 0,{args:{count:i,descText:n}}),e.emitComponentEvent(k.Xw.RELATIONFETCHED,{count:i,descText:n})}e.setState({text:s})}catch(t){e.setState({text:""}),e.adProxy.reportAdMonitorData(k.IN.RELATION_FETCH_ERROR,t)}}))()}doAction({payload:e}){e.action===k.aO.TEXTSETTEXT&&this.setState({text:this.getDataValue("text",e.value)})}render(){const{classEllipsis:e}=this;let{text:t}=this.state;return this.classEllipsis&&null!==this.maxLen&&t&&(t=(0,Z.$G)(t,2*this.maxLen)),`\n      <view id="container">\n        <text\n          id="text"\n          class="text ${e?"text-ellipsis":""}"\n          value="${t}"\n        ></text>\n      </view>\n    `}}class H extends L{constructor(e){super(e),this.style={".image-img":{width:"100%",height:"100%"},".image-img-appicon":{borderRadius:5},".image-img-icon":{borderRadius:"50%"}},this.state={imgUrl:""},this.classAppIcon=!1,this.classIcon=!1,this.useBgMode=!1,this.baseType=void 0,this.useBgMode=this.getDataValueWithDefault("useBgMode",!1);const t=this.options.baseType||k.v5.ICON;switch(this.baseType=t,t){case k.v5.COMMON:this.initCommonComponent();break;case k.v5.AD:this.initADComponent();break;case k.v5.ICON:this.initIconComponent()}this.useBgMode,this.updateInnerStyle()}initCommonComponent(){this.state.imgUrl=this.getDataValueWithDefault("imgUrl","")}initIconComponent(){const e=this.getAdData(),t=[V.fY.APPLE_APP_STORE,V.fY.OPEN_PLATFORM_APP_MOB].includes(e.product_type),i=e.crt_size===V.vK.CRT_SIZE_GRID,n=[V.fY.WE_CHAT_SHOP,V.fY.JD_URL].includes(e.product_type),r=[V.vK.CRT_SIZE_REWARD_VEDIO169,V.vK.CRT_SIZE_REWARD_VEDIO916,V.vK.CRT_SIZE_VERTICAL_VIDEO_NEW_916].includes(e.crt_size);t?this.classAppIcon=!0:this.classIcon=!0;const a=[{path:["extBackComm","head_img"]},{path:["weapp_info","head_img"],condition:i},{path:["crtInfo","0","wxgame_video_card","thumb"],condition:r},{path:["appInfo","iconUrl"],condition:t},{path:["app","icon"],condition:!t},{path:["crtInfo","0","card_info","thumb"]},{value:"https://wxa.wxs.qq.com/images/wxapp/dianshang.png",condition:n},{value:"https://wxa.wxs.qq.com/images/wxapp/pinpai.png"}];this.state.imgUrl=(0,O.Ze)(e,a)}initADComponent(){const e=this.getAdData();let t=e.image_url;if(!t.startsWith("http"))try{t=e.crtInfo[0].image_url||t}catch(e){}this.state.imgUrl=this.getDataValue("imgUrl")||t}doAction({payload:e}){e.action===k.aO.IMAGESETSRC&&this.setState({imgUrl:this.getDataValue("imgUrl",e.value)})}render(){const{classAppIcon:e,classIcon:t}=this,i=this.baseType===k.v5.AD,{imgUrl:n}=this.state,r=["image-img"];return e&&r.push("image-img-appicon"),t&&r.push("image-img-icon"),`\n      <view id="container" class="image">\n        <image\n          id="img"\n          ${i?'bubble-event="false"':""}\n          class="${r.join(" ")}"\n          src="${n}"\n        >\n      </view>\n    `}}class $ extends L{constructor(e){super(e),this.style={".button":{position:"relative",display:"flex",flexDirection:"row",alignItems:"center",justifyContent:"center",backgroundColor:"#07c160",padding:"0 12px",borderRadius:3,overflow:"hidden"},".button-text":{textAlign:"center",color:"#fff",fontSize:16},".button-download-progress":{position:"absolute",left:0,top:0,width:0,height:"100%",overflow:"hidden"},".download-text-container":{position:"absolute",top:0,left:0,width:0,height:"100%",flexDirection:"row",alignItems:"center",justifyContent:"center"}},this.state={buttonText:""},this.downloadProgress=0,this.isHandleDownload=!1,this.handleAdCustomEvent=({action:e,value:t={}})=>{e===k.A$.CHANGEADBTNTEXT&&t.text&&(this.setState({buttonText:t.text}),t.progress&&(this.downloadProgress=t.progress))},this.handleButtonClick=e=>{this.emitAdCustomEvent(k.A$.BTNTAP,{event:e,isHandleDownload:this.isHandleDownload}),this.emitComponentEvent(k.Y8.BUTTONTAP,{event:e})};const t=this.options.baseType||k.Dx.LOGICCOMMON;t===k.Dx.COMMON?this.initCommonComponent():t===k.Dx.LOGICCOMMON&&this.initLogicCommonComponent(),this.updateInnerStyle(),this.setStyle("downloadProgressBar",{width:`${this.downloadProgress}%`}),this.setStyle("downloadTextContainer",{width:1e4/this.downloadProgress+"%"}),this.onClick("container",this.handleButtonClick,{isReport:!0,clickType:1})}destroy(){super.destroy(),this.offClick("container",this.handleButtonClick)}getButtonText(){return this.state.buttonText}initCommonComponent(){this.state.buttonText=this.getDataValueWithDefault("buttonText","")}initLogicCommonComponent(){const e=this.getAdData(),t=this.getDataValue("buttonText");t?this.state.buttonText=t:e.product_type===s.kv.WE_CHAT?this.state.buttonText=e.app.isFollowed?"查看":e.button_action.button_text:this.state.buttonText=e.button_action.button_text,this.addAdCustomListener(this.handleAdCustomEvent),this.isHandleDownload=this.getDataValueWithDefault("isHandleDownload",!1)}doAction({payload:e}){e.action===k.aO.BUTTONSETTEXT&&this.setText(e.value)}setText(e){this.setState({buttonText:this.getDataValue("text",e)})}render(){const{isHandleDownload:e}=this,{buttonText:t}=this.state;return`\n      <view id="container" class="button" bubbleEvent="false">\n        <text id="button-text" class="button-text" value="${t}"></text>\n        ${e?`\n          <view\n            id="download-progress-bar"\n            class="button-download-progress"\n          >\n            <view id="download-text-container" class="download-text-container"\n              <text id="download-text" class="button-text" value="${t}"></text>\n            </view>\n          </view>\n        `:""}\n      </view>\n    `}}const Y={videoDataMap:{}},z=(e,t={})=>{e&&(Y.videoDataMap[e]=t)};class q extends L{constructor(e){super(e),this.style={".video-context":{zIndex:1000008},".click-mask":{position:"absolute",zIndex:1000008,borderRadius:6,width:"100%",height:"100%"},".video-voice-box":{zIndex:1000009,position:"absolute",width:24,height:24},".video-voice-box-topleft":{top:10,left:10},".video-voice-box-topright":{top:10,right:10},".video-voice-box-bottomleft":{bottom:10,left:10},".video-voice-box-bottomright":{bottom:10,right:10},".video-count-down":{zIndex:1000009,position:"absolute",color:"#fff",textAlign:"right",fontSize:12,width:32,height:16,lineHeight:16},".video-count-down-topleft":{top:10,left:10},".video-count-down-topright":{top:10,right:10},".video-count-down-bottomleft":{bottom:10,left:10},".video-count-down-bottomright":{bottom:10,right:10},".video-voice-icon":{width:"100%",height:"100%"},".video-progress":{position:"absolute",zIndex:9,bottom:0,left:0,right:0,height:3,backgroundColor:"#f2f2f2"},".video-progress-played":{width:0,height:3,backgroundColor:"#07c160"}},this.state={muted:!0,loop:!0,autoplay:!1,countDownNumber:null,isEndPageShowing:!1},this.src="",this.poster="",this.isShowVoice=!0,this.isShowProgress=!0,this.isShowCountDown=!1,this.isShowEndPage=!1,this.voicePlacement=null,this.countDownPlacement=null,this.voiceIconSrc="https://wxa.wxs.qq.com/images/wxapp/voice_icon.png",this.mutedIconSrc="https://wxa.wxs.qq.com/images/wxapp/muted_icon.png",this.currentTime=0,this.videoDuration=0,this.objectFit="contain",this.baseType=void 0,this.toggleMuted=()=>{this.setState({muted:!this.state.muted}),this.emitComponentEvent(k.XP.MUTEDCHANGE,{muted:this.state.muted})},this.handleCustomEvent=({action:e,value:t={}})=>{switch(e){case k.A$.ADSHOWHALF:this.state.isEndPageShowing||this.operateVideoPlay("play");break;case k.A$.ADHIDEHALF:this.state.isEndPageShowing||this.operateVideoPlay("pause");break;case k.A$.APPENTERBACKGROUND:{const e=Math.min(this.currentTime,this.videoDuration);t.inAdDetail?this.reportVideoPlay("partial","exit",e):this.reportVideoPlay("partial","app_exit",e);break}case k.A$.ENDPAGEINIT:this.isShowEndPage=this.getDataValueWithDefault("isShowEndPage",!1),this.isShowEndPage&&this.setState({loop:!1});break;case k.A$.ENDPAGEHIDE:this.isShowEndPage&&(this.setState({isEndPageShowing:!1}),this.operateVideoPlay("play"));break;case k.A$.ENDPAGESHOW:this.isShowEndPage&&this.setState({isEndPageShowing:!0});break;case k.A$.BTNTAP:this.reportVideoPlay(this.currentTime<this.videoDuration?"partial":"complete","land",this.videoDuration)}},this.handleError=e=>{this.adProxy.reportAdMonitorData(k.IN.AD_VIDEO_LOAD_FAILED,e)},this.handleTimeUpdate=e=>{var t;const{duration:i,position:n}=e;if(null==i||null==n)return;const r=Math.min(1,n/i);this.setStyle("videoProgressPlayed",{width:100*r+"%"}),this.isShowCountDown&&this.setState({countDownNumber:`${Math.ceil(i-n)}s`}),this.emitComponentEvent(k.XP.VIDEOTIMEUPDATE,{event:e,rate:r}),this.currentTime=1e3*n,this.videoDuration||(this.videoDuration=1e3*i);const a={currentTime:this.currentTime,duration:this.videoDuration},o=(null===(t=this.manager)||void 0===t?void 0:t.adCustomId)||this.adCustomId;z(o,a)},this.handleEnded=e=>{var t;this.emitComponentEvent(k.XP.VIDEOENDED,{event:e}),this.emitAdCustomEvent(k.A$.TRIGGEREVENT,{eventName:"videoended",detail:{baseType:this.baseType}}),this.reportVideoPlay("viewable","end",this.videoDuration),p.cj&&this.reportVideoPlay("partial","start");const i={currentTime:this.videoDuration,duration:this.videoDuration},n=(null===(t=this.manager)||void 0===t?void 0:t.adCustomId)||this.adCustomId;z(n,i),this.currentTime=0,this.isShowEndPage&&this.emitAdCustomEvent(k.A$.SHOWENDPAGE,{videoId:this.id}),this.setState({countDownNumber:null})},this.handlePlay=e=>{this.emitComponentEvent(k.XP.VIDEOPLAY,{event:e}),this.emitAdCustomEvent(k.A$.ADVIDEOPLAY),this.reportVideoPlay("partial","start",Math.min(this.currentTime,this.videoDuration))},this.handlePause=e=>{this.emitComponentEvent(k.XP.VIDEOPAUSE,{event:e}),this.emitAdCustomEvent(k.A$.ADVIDEOPAUSE),this.reportVideoPlay("partial","close",Math.min(this.currentTime,this.videoDuration))},this.baseType=this.options.baseType||k.jn.AD,this.baseType===k.jn.COMMON?this.initCommonComponent():this.baseType===k.jn.AD&&this.initADComponent(),this.isShowVoice=this.getDataValueWithDefault("isShowVoice",!0),this.voicePlacement=this.getDataValueWithDefault("voicePosition","bottomleft").toLowerCase(),this.state.muted=this.getDataValueWithDefault("muted",!0),this.state.loop=this.getDataValueWithDefault("loop",!0),this.isShowProgress=this.getDataValueWithDefault("isShowProgress",!0),this.isShowCountDown=this.getDataValueWithDefault("isShowCountDown",!1),this.countDownPlacement=this.getDataValueWithDefault("countDownPosition","topright").toLowerCase(),this.objectFit=this.getDataValueWithDefault("objectFit","contain"),this.updateInnerStyle(),this.bindEvent(),setTimeout((()=>{this.emitComponentEvent(k.XP.MUTEDCHANGE,{muted:this.state.muted})}),0)}destroy(){super.destroy(),this.unbindEvent(),this.removeAdCustomListener()}bindEvent(){this.onTimeUpdate("video",this.handleTimeUpdate),this.onEnded("video",this.handleEnded),this.onPlay("video",this.handlePlay),this.onPause("video",this.handlePause),this.onError("video",this.handleError),this.onClick("videovoicebox",this.toggleMuted,{clickType:1})}unbindEvent(){this.offTimeUpdate("video",this.handleTimeUpdate),this.offEnded("video",this.handleEnded),this.offPlay("video",this.handlePlay),this.offPause("video",this.handlePause),this.offError("video",this.handleError),this.offClick("videovoicebox",this.toggleMuted)}initCommonComponent(){this.src=this.getDataValueWithDefault("src",""),this.poster=this.getDataValueWithDefault("poster","")}initADComponent(){var e;const t=this.getAdData();this.src=this.getDataValue("src")||(0,O.U2)(t,["video_info","videoUrl"])||(0,O.U2)(t,["short_video","video_url"]),this.poster=this.getDataValue("poster")||(0,O.U2)(t,["video_info","thumbUrl"])||(0,O.U2)(t,["short_video","trumb_url"]),this.addAdCustomListener(this.handleCustomEvent),this.videoDuration=(0,O.U2)(t,["wx_game_video","short_video","video_duration"])||(0,O.U2)(t,["crtInfo","0","short_video","video_duration"],0),this.videoDuration=1e3*this.videoDuration;const i={currentTime:0,duration:this.videoDuration},n=(null===(e=this.manager)||void 0===e?void 0:e.adCustomId)||this.adCustomId;z(n,i),this.emitAdCustomEvent(k.A$.REPORTTIMEPOINT,{key:"p8"})}doAction({payload:e}){switch(e.action){case k.aO.VIDEOTOGGLEMUTED:this.toggleMuted();break;case k.aO.VIDEOPLAY:this.operateVideoPlay("play");break;case k.aO.VIDEOPAUSE:this.operateVideoPlay("pause");break;case k.aO.VIDEOSTOP:this.operateVideoPlay("stop")}}operateVideoPlay(e){if(["play","pause","stop","seek"].includes(e)){this.setState({autoplay:"play"===e});const t=this.getElementById("video");null!=t&&t[e]&&t[e]()}}reportVideoPlay(e,t,i=0){this.baseType===k.jn.AD&&this.emitAdCustomEvent(k.A$.REPORTVIDEOPLAY,{playType:e,conditionType:t,videoInfo:{playDuration:i,videoDuration:this.videoDuration,isMuted:this.state.muted,isAutoPlay:this.state.autoplay}})}render(){const{src:e,poster:t,isShowVoice:i,mutedIconSrc:n,voiceIconSrc:r,voicePlacement:a,countDownPlacement:o,isShowProgress:s,isShowCountDown:l,objectFit:c}=this,{muted:d,loop:u,autoplay:p,countDownNumber:h,isEndPageShowing:f}=this.state,y=["video-voice-box"],_=["video-count-down"];return y.push(`video-voice-box-${a}`),_.push(`video-count-down-${o}`),`\n      <view id="container" class="video">\n        <video\n          id="video"\n          class="video-context"\n          src="${e}"\n          poster="${t}"\n          controls="false"\n          muted="${d}"\n          loop="${u}"\n          autoplay="${p}"\n          auto-insert="false"\n          under-game-view="false"\n          show-progress="false"\n          show-play-btn="false"\n          show-center-play-btn="false"\n          show-fullscreen-btn="false"\n          enable-progress-gesture="false"\n          object-fit="${c}"\n        >\n          ${!f&&i?`\n            <view id="videovoicebox" bubble-event="false" class="${y.join(" ")}">\n              <image\n                src="${d?n:r}"\n                id="videovoiceimg"\n                class="video-voice-icon"\n              ></image>\n            </view>\n          `:""}\n          ${s?'\n            <view id="video-progress" class="video-progress">\n              <view id="video-progress-played" class="video-progress-played"></view>\n            </view>\n          ':""}\n          ${!f&&l&&h?`\n            <text id="video-count-down" class="${_.join(" ")}" value="${h}"></text>\n          `:""}\n        </video>\n      </view>\n    `}}class K extends L{constructor(e){super(e),this.style={".feedback-icon":{width:6,height:4,marginLeft:2,position:"relative"},".close-icon":{width:6,height:6,marginLeft:2,position:"relative"},".feedback":{position:"relative",zIndex:1000010,padding:6},".feedback-tag-container":{flexDirection:"row",alignItems:"center",justifyContent:"center",position:"relative",padding:"2px 4px",backgroundColor:"rgba(0, 0, 0, 0.2)",borderRadius:2},".feedback-hot-click":{position:"absolute",top:-10,left:-10,right:-10,bottom:-10},".feedback-tag-text":{fontSize:10,height:12,lineHeight:12,color:"#fff"},".feedback-list":{position:"absolute",width:134,flexDirection:"column",alignItems:"center",justifyContent:"center",backgroundColor:"#fff",borderWidth:1,borderColor:"rgba(0, 0, 0, 0.03)",borderRadius:4,zIndex:1000011},".feedback-list-bottomleft":{top:26,left:6},".feedback-list-bottomright":{top:26,right:6},".feedback-list-topleft":{bottom:26,left:6},".feedback-list-topright":{bottom:26,right:6},".feedback-btn":{position:"relative",width:132,height:32,lineHeight:32,color:"#566a97",fontSize:12,opacity:.9,textAlign:"center",zIndex:1000011},".feedback-title":{color:"#000",zIndex:1000011},".feedback-line":{width:100,height:1,opacity:.03,backgroundColor:"#000",zIndex:1000011}},this.state={isShowFeedback:!1,isShowFeedbackMenu:!1,position:null},this.feedbackIconSrc="https://wxa.wxs.qq.com/images/wxapp/feedback_icon.png",this.closeIconSrc="https://wxa.wxs.qq.com/images/wxapp/close.png",this.dislikeReasonHandlers={},this.baseType=void 0,this.handleTagClick=e=>{if(this.baseType===k.Eo.SIMPLE)return this.handleSimpleTagClick(e);const{isShowFeedback:t,isShowFeedbackMenu:i}=this.state;t||i?this.setState({isShowFeedback:!1,isShowFeedbackMenu:!1}):(this.setState({isShowFeedback:!0}),this.updateMenuPosition(),this.updateInnerStyle(),this.emitAdCustomEvent(k.A$.FEEDBACKREPORT,{firstGradeId:1,firstGradeDesc:"广告角标"}),this.emitComponentEvent(k.nf.TAGTAP,{event:e}))},this.handleDislikeClick=e=>{this.setState({isShowFeedback:!1,isShowFeedbackMenu:!0}),this.updateMenuPosition(),this.updateInnerStyle(),this.emitComponentEvent(k.nf.DISLIKETAP,{event:e})},this.handleFeedbackBtnClick=e=>{this.setState({isShowFeedback:!1,isShowFeedbackMenu:!1}),this.emitComponentEvent(k.nf.FEEDBACKBTNTAP,{event:e}),this.emitAdCustomEvent(k.A$.FEEDBACKREPORT,{firstGradeId:1,firstGradeDesc:"投诉"}),this.emitAdCustomEvent(k.A$.FEEDBACKBTNTAP)},this.checkUseApx(),this.baseType=this.options.baseType||k.Eo.COMMON,this.bindEvent(),this.updateInnerStyle()}destroy(){super.destroy(),this.unbindEvent()}bindEvent(){this.onClick("feedbackTagContainer",this.handleTagClick),this.onClick("feedbackBtn",this.handleFeedbackBtnClick),this.onClick("dislike",this.handleDislikeClick),this.dislikeReasonHandlers={isdismatch:this.onClick("isdismatch",this.handleDislikeReasonClick.bind(this,1)),isduplicate:this.onClick("isduplicate",this.handleDislikeReasonClick.bind(this,5)),isbadad:this.onClick("isbadad",this.handleDislikeReasonClick.bind(this,4))}}unbindEvent(){this.offClick("feedbackTagContainer",this.handleTagClick),this.offClick("feedbackBtn",this.handleFeedbackBtnClick),this.offClick("dislike",this.handleDislikeClick);for(const e of Object.keys(this.dislikeReasonHandlers)){const t=this.dislikeReasonHandlers[e];this.offClick(e,t)}}updateMenuPosition(){this.setState({position:this.getDataValueWithDefault("menuPosition","bottomleft").toLowerCase()})}handleSimpleTagClick(e){this.emitAdCustomEvent(k.A$.FEEDBACKREPORT,{secondGradeId:2,secondGradeDesc:"不感兴趣",feedbackReason:6}),this.emitAdCustomEvent(k.A$.HIDEAD),this.emitComponentEvent(k.nf.TAGTAP,{event:e})}handleDislikeReasonClick(e,t){this.setState({isShowFeedback:!1,isShowFeedbackMenu:!1}),this.emitComponentEvent(k.nf.DISLIKEREASONTAP,{event:t}),this.emitAdCustomEvent(k.A$.FEEDBACKREPORT,{secondGradeId:2,secondGradeDesc:"不感兴趣",feedbackReason:e});const i=this.getDataValueWithDefault("afterDislike","showTip");"showTip"===i?this.emitAdCustomEvent(k.A$.SHOWFEEDBACK):"hide"===i&&this.emitAdCustomEvent(k.A$.HIDEAD)}render(){const{isShowFeedback:e,isShowFeedbackMenu:t,position:i}=this.state,n=["feedback-list"],r=["feedback-list"];i&&(n.push(`feedback-list-${i.toLowerCase()}`),r.push(`feedback-list-${i.toLowerCase()}`));const a=this.baseType===k.Eo.SIMPLE?this.closeIconSrc:this.feedbackIconSrc;return`\n      <view id="container" class="feedback" bubble-event="false">\n        <view id="feedback-tag-container" class="feedback-tag-container">\n          <text id="feedback-tag" class="feedback-tag-text" value="广告"></text>\n          <image id="feedback-icon" class="${this.baseType===k.Eo.SIMPLE?"close-icon":"feedback-icon"}" src="${a}"></image>\n        </view>\n        ${e?`\n          <view id="menu1" key="menu1" class="${n.join(" ")}">\n            <text class="feedback-btn feedback-title" value="由赞助商提供的内容"></text>\n            <view class="feedback-line"></view>\n            <text id="dislike" class="feedback-btn" value="不感兴趣"></text>\n            <view class="feedback-line"></view>\n            <text id="feedback-btn" class="feedback-btn" value="投诉"></text>\n          </view>\n        `:""}\n        ${t?`\n          <view id="menu2" key="menu2" class="${r.join(" ")}">\n            <text id="isdismatch" class="feedback-btn" value="与我无关"></text>\n            <view class="feedback-line"></view>\n            <text id="isduplicate" class="feedback-btn" value="重复收到多次"></text>\n            <view class="feedback-line"></view>\n            <text id="isbadad" class="feedback-btn" value="内容太差"></text>\n          </view>\n        `:""}\n      </view>\n    `}}class J extends L{constructor(e){super(e),this.style={".end":{position:"absolute",top:0,right:0,bottom:0,left:0,zIndex:1000099,backgroundColor:"rgba(0, 0, 0, 0.8)",flexDirection:"column",justifyContent:"center",alignItems:"center",hidden:!0},".end-refresh":{position:"absolute",left:0,bottom:0,flexDirection:"row",alignItems:"center"},".end-refresh-text":{color:"#D8D8D8",opacity:.5}},this.state={isShowEndPage:!1},this.children=[],this.refreshIconSrc="https://wxa.wxs.qq.com/images/wxapp/refresh_icon.png",this.showTime=0,this.cardInfo=void 0,this.backgroundImage="",this.exposured=!1,this.viewableExposured=!1,this.viewableExposureTimer=null,this.handleAdCustomListener=({action:e})=>{switch(e){case k.A$.SHOWENDPAGE:this.setState({isShowEndPage:!0}),this.emitAdCustomEvent(k.A$.ENDPAGESHOW),this.showTime=Date.now(),!this.exposured&&this.reportEndPageExposure(),this.exposured=!0,this.viewableExposured||(this.viewableExposureTimer=setTimeout((()=>{!this.viewableExposured&&this.reportEndPageExposure(!0)}),1e3)),this.emitComponentEvent(k.H_.SHOW);break;case k.A$.APPENTERBACKGROUND:this.state.isShowEndPage&&this.reportEndPageDuration();break;case k.A$.APPENTERFOREGROUND:this.state.isShowEndPage&&(this.showTime=Date.now());break;case k.A$.ADSHOWHALF:this.state.isShowEndPage&&(this.showTime=Date.now(),this.viewableExposured||(this.viewableExposureTimer=setTimeout((()=>{!this.viewableExposured&&this.reportEndPageExposure(!0)}),1e3)));break;case k.A$.ADHIDEHALF:this.state.isShowEndPage&&(this.reportEndPageDuration(),this.viewableExposureTimer&&(clearTimeout(this.viewableExposureTimer),this.viewableExposureTimer=null))}},this.handleReplay=()=>{this.setState({isShowEndPage:!1}),this.emitAdCustomEvent(k.A$.ENDPAGEHIDE),this.emitComponentEvent(k.H_.HIDE),this.reportEndPage({act_type:1003}),this.emitComponentEvent(k.H_.REPLAY)},this.handleContainerClick=e=>{var t;this.reportEndPage({act_type:1002}),null===(t=this.reporter)||void 0===t||t.handleClick(e,2)};const t=this.getAdData();this.cardInfo=(0,Z.U2)(t,["crtInfo",0,"card_info"],{});const{end_page_type:i}=this.cardInfo;i&&(this.backgroundImage=this.cardInfo.head_bg_img,this.setStyle("refresh",{padding:"13apx 12apx"}),this.setStyle("refreshIcon",{height:"16apx",width:"16apx",marginRight:"4apx"}),this.setStyle("refreshText",{lineHeight:"18apx",fontSize:"14apx"}),this.children=this.getChildren(),this.bindEvent(),this.updateInnerStyle(),setTimeout((()=>{this.emitAdCustomEvent(k.A$.ENDPAGEINIT)}),0))}updateState(e){this.state.isShowEndPage!==e.isShowEndPage&&this.setStyle("container",{hidden:!e.isShowEndPage})}getSubComponentProps(e,t){return _()(_()({},this.getCommonSubComponentProps()),{},{template:this.children[parseInt(t,10)]})}bindEvent(){this.onClick("contiainer",this.handleContainerClick),this.onClick("refresh",this.handleReplay),this.addAdCustomListener(this.handleAdCustomListener)}destroy(){super.destroy(),this.offClick("contiainer",this.handleContainerClick),this.offClick("refresh",this.handleReplay),this.removeAdCustomListener()}reportEndPageDuration(){this.showTime&&(this.reportEndPage({act_type:1006,exposure_duration:Date.now()-this.showTime}),this.showTime=0)}reportEndPageExposure(e=!1){let t=0;e&&(t=1,this.viewableExposured=!0),this.reportEndPage({act_type:t})}reportEndPage(e){this.emitAdCustomEvent(k.A$.REPORTENDPAGE,{data:e})}doAction({payload:e}){e.action===k.aO.ENDPAGEHIDE&&(this.setState({isShowEndPage:!1}),this.emitAdCustomEvent(k.A$.ENDPAGEHIDE),this.emitComponentEvent(k.H_.HIDE))}getChildren(){const e=this.getDataValueWithDefault("childType",1);if(2===e)return this.template.children||[];const t=this.getAdData(),i={pos_type:t.pos_type,costtype:t.is_cpm?1:2,slotid:"4071202390577885",is_game:0},n={},r=this.template.id;n.feedBack={type:"feedback",id:`${r}_endPageFeedback`,style:{position:"absolute",zIndex:99,top:"2px",left:"2px"},options:{events:{tagTap:[{action:k.aO.REPORTMMDATA,value:{id:"19002",data:Object.assign({act_type:1004},i)}}],dislikeReasonTap:[{action:k.aO.TRIGGEREVENT,value:{eventName:k.H_.VIDEODISLIKE}}]}}},n.iconBig={type:"image",id:`${r}_endPageIconBig`,style:{width:"40apx",height:"40apx",marginBottom:"7apx"},options:{baseType:2}},n.nickBig={type:"text",id:`${r}_endPageNickBig`,style:{marginBottom:"6apx"},options:{baseType:2,data:{},innerStyles:{text:{style:{color:"#fff",fontSize:"17apx",height:"24apx",lineHeight:"24apx"}}}}},n.descSmall={type:"text",id:`${r}_endPageDescSmall`,style:{marginBottom:"23apx"},options:{baseType:1,data:{text:this.cardInfo.end_page_desc,isEllipsis:!1},innerStyles:{text:{style:{color:"#fff",opacity:.5,fontSize:"14apx",lineHeight:"20apx"}}}}},n.button={type:"button",id:`${r}_endPageButton`,style:{},options:{innerStyles:{container:{style:{height:"32apx",backgroundColor:"#07C160",borderRadius:"4apx",padding:"0 12.5apx",paddingBottomExpr:"#like($const.systemInfo.osVersion, 'Android') ? '1px' : '0'"}},buttonText:{style:{fontSize:"16apx",color:"#fff"}}},baseType:2,events:{buttonTap:[{action:k.aO.REPORTMMDATA,value:{id:"19002",data:Object.assign({act_type:1001},i)}}]}}},n.iconSmall={type:"image",id:`${r}_endPageIconSmall`,style:{width:"20apx",height:"20apx",marginRight:"8apx"},options:{baseType:2}},n.nickSmall={type:"text",id:`${r}_endPageNickSmall`,style:{},options:{baseType:2,data:{},innerStyles:{text:{style:{color:"#fff",fontSize:"15apx",height:"18apx",lineHeight:"18apx",opacity:".5"}}}}},n.layoutSmall={type:"layout",id:`${r}_endPageLayoutSmall`,style:{marginBottom:"16apx"},options:{baseType:2},children:[]},n.layoutSmall.children.push(n.iconSmall),n.layoutSmall.children.push(n.nickSmall),n.descBig={type:"text",id:`${r}_endPageDescBig`,style:{marginBottom:"32apx"},options:{baseType:1,data:{text:this.cardInfo.end_page_desc,isEllipsis:!1},innerStyles:{text:{style:{color:"#fff",fontSize:"17apx",lineHeight:"22apx"}}}}};const a=this.getDataValue("childrenConf");if(a)for(const e of Object.keys(a))n[e]&&(0,Z.Ee)(n[e],a[e]);let o=[];return o=2===this.cardInfo.end_page_type?[n.feedBack,n.layoutSmall,n.descBig,n.button]:[n.feedBack,n.iconBig,n.nickBig,n.descSmall,n.button],3===e?o.concat(this.template.children||[]):o}render(){const{backgroundImage:e,children:t,refreshIconSrc:i}=this;return`\n      <view\n        id="container"\n        class="end"\n        bubble-event="false"\n      >\n        ${e?`<image src="${e}"></image>`:""}\n        ${t.map(((e,t)=>`\n          <CustomItem get-props="getSubComponentProps:${t}"></CustomItem>\n        `))}\n        <view id="refresh" class="end-refresh">\n          <image id="refresh-icon" class="end-refresh-icon" src=${i}></image>\n        </view>\n      </view>\n    `}}J.subComponents=()=>({CustomItem:F});class X extends L{constructor(e){super(e,{autoRegister:!1}),this.forArr=void 0,this.forType=this.options.baseType||k.bk.COMMON,this.forArr=this.getDataValueWithDefault("forArr",[]),this.forType===k.bk.COMMON?this.forArr=this.getDataValueWithDefault("forArr",[]):this.forType===k.bk.ADS&&(this.forArr=this.getAdDatas())}getSubComponentProps(e,t,i){const{template:n,forArr:r}=this;return _()(_()({},this.getCommonSubComponentProps()),{},{idPrefix:this.idPrefix+(n.id||"")+t,forType:this.forType,forItem:r[Number(t)],template:n.children[Number(i)],forIndex:Number(t)})}render(){const{template:e}=this.props;return`<Fragment>${this.forArr.map(((t,i)=>e.children.map(((e,t)=>`\n        <CustomItem get-props="getSubComponentProps:${i}:${t}"></CustomItem>\n      `)).join("\n"))).join("\n")}</Fragment>`}}X.subComponents=()=>({CustomItem:F});var Q=i(9890);let ee=1;const te=/([+-]?\d+(?:\.\d+)?)apx/g,ie=/([+-]?\d+(?:\.\d+)?)rpx/g,ne=e=>null!=e&&e.replace?e.replace(ie,((e,t)=>`${(e=>{if(0===e)return 0;const{screenWidth:t}=Q.S;let i=e/750*t;return i<0&&(i=-i),i=Math.floor(i+1e-4),e<0?-i:i})(Number(t))}px`)):e;class re extends L{constructor(e){super(e),this.style={".carousel":{overflow:"hidden",position:"relative"},".carousel-list":{position:"relative",zIndex:1},".carousel-row":{flexDirection:"row",alignItems:"center",justifyContent:"center"},".carousel-col":{flexDirection:"column",alignItems:"center",justifyContent:"center"},".carousel-mask":{position:"absolute",width:"100%",height:"100%",zIndex:2000001,backgroundColor:"rgba(0, 0, 0, 0)"}},this.baseType=void 0,this.showCount=void 0,this.allCount=void 0,this.animateCount=void 0,this.allIndexList=void 0,this.size=void 0,this.duration=void 0,this.isViewable=!1,this.isPlaying=!1,this.animated=!1,this.timerSet=new Set,this.disabled=void 0,this.isCol=void 0,this.handleMaskClick=e=>{const t=null!=this.moveTime?(Date.now()-this.moveTime)/this.duration*this.size:0;let i;i=this.animated?-this.animateCount*this.size+t:-t;const n=(this.isCol?e.relativeY:e.relativeX)-i,r=Math.floor(n/this.size);this.emitComponentEvent(k.Zw.UNITTAP,{index:r,event:e})},this.handleAdCustomEvent=({action:e})=>{[k.A$.ADSHOWHALF].includes(e)?(this.isViewable=!0,this.autoplay()):[k.A$.ADHIDEHALF].includes(e)&&(this.isViewable=!1,this.clearTimers())},this.moveTime=null,this.baseType=this.options.baseType||k.Af.ROWLOOP,this.showCount=this.getDataValueWithDefault("showCount",0),this.allCount=this.getDataValueWithDefault("allCount",0),this.animateCount=this.allCount-this.showCount,this.size=((e,t=!0)=>{const i=t?ne(e):e;return i&&"string"==typeof i?i.replace(te,((e,t)=>`${Number(t*ee)}px`)):i})(this.getDataValueWithDefault("size","0px")).replace("px",""),this.duration=this.getDataValueWithDefault("duration",1500),this.disabled=this.getDataValueWithDefault("disabled",!1),this.allIndexList=Array.from({length:this.allCount}).map(((e,t)=>t)),this.isCol=this.baseType===k.Af.COLUMNLOOP,this.onClick("mask",this.handleMaskClick),this.baseType===k.Af.ROWLOOP?this.initCarousel("width"):this.baseType===k.Af.COLUMNLOOP&&this.initCarousel("height"),this.updateInnerStyle()}destroy(){super.destroy(),this.offClick("mask",this.handleMaskClick),this.clearTimers(),this.isViewable=!1}initCarousel(e){this.setStyle("container",{[e]:this.showCount*this.size}),this.setStyle("list",{[e]:this.allCount*this.size}),this.addAdCustomListener(this.handleAdCustomEvent)}clearTimers(){for(const e of this.timerSet)clearTimeout(e)}autoplay(){var e=this;return n()((function*(){if(!e.isViewable||e.isPlaying)return;const t=e.baseType===k.Af.ROWLOOP?"left":"top";if(e.disabled)e.emitComponentEvent(k.Zw.SHOWCHANGE,{list:e.allIndexList.slice(0,e.showCount)||[]}),e.isPlaying=!1;else if(e.animateCount<=0)e.emitComponentEvent(k.Zw.SHOWCHANGE,{list:e.allIndexList||[]}),e.isPlaying=!1;else{e.isPlaying=!0;for(let t=0;t<e.animateCount;t+=1){const{animated:i}=e,n=setTimeout((()=>{e.timerSet.delete(n);const r=i?e.allIndexList.slice(e.allCount-t-e.showCount,e.allCount-t):e.allIndexList.slice(t,t+e.showCount);e.emitComponentEvent(k.Zw.SHOWCHANGE,{list:r})}),t*e.duration);e.timerSet.add(n)}e.moveTime=Date.now();try{yield e.doAnimation({id:"list",emitEvent:!1,animation:{keys:[{offset:0,[t]:e.animated?-1*e.animateCount*e.size:0},{offset:1,[t]:e.animated?0:-1*e.animateCount*e.size}],duration:e.duration*e.animateCount,easing:"linear"}})}catch(e){}e.animated=!e.animated,e.isPlaying=!1,e.moveTime=null;const i=setTimeout((()=>{e.timerSet.delete(i),e.autoplay()}),e.duration/4);e.timerSet.add(i)}}))()}getCustomItemProps(e,t){return _()(_()({},this.getCommonSubComponentProps()),{},{template:this.props.template.children[parseInt(t,10)]})}render(){const{template:{children:e}}=this.props,{baseType:t,allCount:i,showCount:n}=this;if(!(e&&e.length&&i&&n))return"<view></view>";return`\n      <view id="container" class="carousel">\n        <view id="mask" class="carousel-mask"></view>\n        <view id="list" class="${["carousel-list",t===k.Af.ROWLOOP?"carousel-row":"carousel-col"].join(" ")}">\n          ${e.map(((e,t)=>`\n            <CustomItem get-props="getCustomItemProps:${t}"></CustomItem>\n          `)).join("\n")}\n        </view>\n      </view>\n    `}}re.subComponents=()=>({CustomItem:F});class ae extends L{constructor(e){super(e),this.style={".countdown":{position:"relative",flexDirection:"row",height:32,alignItems:"center"},".countdown-background":{position:"absolute",top:0,bottom:0,left:0,right:0,height:32,background:"rgba(0, 0, 0, 0.15)",border:"0.5px solid rgba(255, 255, 255, 0.254048)",borderRadius:16},".countdown-right":{position:"relative",height:32,flexDirection:"row",alignItems:"center",alignSelf:"flex-start",paddingLeft:63,paddingRight:12,justifyContent:"center",background:"rgba(0, 0, 0, 0.15)",borderColor:"rgba(255, 255, 255, 0.25)",borderWidth:.5,borderRadius:16},".countdown-container":{height:32,flexDirection:"row",alignItems:"center",justifyContent:"center",position:"relative"},".countdown-text":{fontSize:14,height:20,lineHeight:20,width:14,color:"#fff",alignSelf:"center",position:"relative"},".countdown-value":{fontSize:14,height:20,lineHeight:20,width:11,color:"#fff",alignSelf:"center",position:"relative"},".split-line":{width:.5,height:18.5,marginRight:8.5,position:"relative",backgroundColor:"rgba(255, 255, 255, 0.25)"}},this.state={countdownValue:""},this.children=[],this.handleAdCustomEvent=({action:e,value:t={}})=>{if(e===k.A$.CHANGECOUNTDOWN){const e=this.getElementById("countdownvalue"),i=2===t.value.toString().length?18:11;this.setStyle("countdownvalue",{width:i}),e&&(e.value=t.value)}},this.children=this.getChildren(),this.updateInnerStyle(),this.addAdCustomListener(this.handleAdCustomEvent)}destroy(){super.destroy()}getSubComponentProps(e,t){return _()(_()({},this.getCommonSubComponentProps()),{},{template:this.children[parseInt(t,10)]})}getChildren(){const e=this.getDataValueWithDefault("childType",1);if(2===e)return this.template.children||[];const t=this.getAdData(),i={pos_type:t.pos_type,costtype:t.is_cpm?1:2,slotid:"4071202390577885",is_game:0},n={};n.feedBack={type:"feedback",id:"Countdown-Feedback",style:{position:"absolute",height:32,display:"flex",alignItems:"center",justifyContent:"center",zIndex:1111999,left:12},options:{innerStyles:{container:{style:{height:32,padding:0}},feedbackTag:{style:{fontSize:14,width:28,height:20,lineHeight:20}},feedbackTagContainer:{style:{backgroundColor:"",borderRadius:0,padding:0,height:32,top:0,left:0}},feedbackIcon:{style:{marginLeft:4.5,width:9,height:6,marginTop:4}},menu1:{style:{top:40,left:0}},menu2:{style:{top:40,left:0}}},events:{tagTap:[{action:k.aO.REPORTMMDATA,value:{id:"19002",data:Object.assign({act_type:1004},i)}}],dislikeReasonTap:[{action:k.aO.TRIGGEREVENT,value:{eventName:k.H_.VIDEODISLIKE}}]},data:{}}};const r=this.getDataValue("childrenConf");if(r)for(const e of Object.keys(r))n[e]&&(0,Z.Ee)(n[e],r[e]);let a=[];return a=[n.feedBack],3===e?a.concat(this.template.children||[]):a}render(){const{children:e}=this;return`\n      <view id="container" class="countdown" bubble-event="false">\n        ${e.map(((e,t)=>`\n          <CustomItem get-props="getSubComponentProps:${t}"></CustomItem>\n        `))}\n        <view class="countdown-right">\n          <view id="split-line" class="split-line"></view>\n          <view id="countdown-container" class="countdown-container">\n            <text class="countdown-value" id="countdownvalue" value="5"></text>\n            <text class="countdown-text" value="秒"></text>\n          </view>\n        </view>\n      </view>\n    `}}ae.subComponents=()=>({CustomItem:F});var oe=i(780),se=i(3866),le=i(9974);class ce extends le.Z{}var de=i(8997);const ue={container:{zIndex:1000005,top:0,left:0,overflow:"hidden",backgroundColor:"#ffffff"},adMedia:{left:0,width:"100%",flexDirection:"column"},adMaterialBg:{position:"absolute",hidden:!1,top:0,left:0},adMaterial:{position:"absolute",top:0,left:0,width:"100%"}},pe=Object.assign({},{container:{zIndex:1000005,top:0,left:0,position:"absolute",flexDirection:"column",justifyContent:"flex-start",alignItems:"center",overflow:"hidden",backgroundColor:"#ffffff"},navigator:{hidden:!0,height:72,width:"100%",backgroundColor:"#ffffff"},adMedia:{left:0,width:"100%",flexDirection:"column",overflow:"hidden"},adMaterialBg:{position:"absolute",hidden:!0,top:0,left:0},adMaterial:{position:"absolute",top:0,left:0,width:"100%"},adMaterialContainer:{hidden:!0,position:"absolute",flexDirection:"column",justifyContent:"center",alignItems:"center",top:0,left:0,width:"100%"},adMaterialLandscape:{width:311,height:175,marginLeft:32,marginRight:32,borderRadius:8},adCardInfo:{flexDirection:"column",marginTop:32,width:311,height:150},adHeadInfo:{width:311,height:28,flexDirection:"row",alignItems:"center"},adHeadIcon:{width:16,height:16,marginRight:6,borderRadius:8},adversName:{width:88,height:28,lineHeight:28,fontSize:14,lineBreak:"ellipsis",color:"#ffffff",opacity:.6},adTitle:{marginTop:18,height:28,width:216,fontSize:24,color:"#ffffff"},appInfo:{flexDirection:"column",alignItems:"center",width:"100%",height:160,backgroundColor:"#ffffff"},appIcon:{borderRadius:24,marginTop:16,marginBottom:8,width:48,height:48},appName:{width:"100%",height:24,textAlign:"center",lineHeight:24,fontSize:17,color:"#000000"}},{adFeedbackList:{hidden:!0,top:74,left:11,width:134,height:98,position:"absolute",borderWidth:1,borderColor:"#E0E0E0",borderRadius:4,backgroundColor:"#ffffff"},adFeedbackTitle:{width:134,height:32,lineHeight:32,textAlign:"center",fontSize:12,color:"#000000"},adFeedbackBtn:{width:134,height:32,lineHeight:32,textAlign:"center",fontSize:12,color:"#546c99"},adDislikeBtn:{width:134,height:32,lineHeight:32,textAlign:"center",fontSize:12,color:"#546c99"},adFeedbackMenu:{hidden:!0,top:74,left:11,width:134,height:98,position:"absolute",borderWidth:1,borderColor:"#E0E0E0",borderRadius:4,backgroundColor:"#ffffff"},adQualityBtn:{width:134,height:32,lineHeight:32,textAlign:"center",fontSize:12,color:"#546c99"},adDuplicateBtn:{width:134,height:32,lineHeight:32,textAlign:"center",fontSize:12,color:"#546c99"},adDismatchBtn:{width:134,height:32,lineHeight:32,textAlign:"center",fontSize:12,color:"#546c99"},adCloseBtnLineDislike:{width:134,height:1,backgroundColor:"#E0E0E0"},adCloseBtnLineDislike1:{width:134,height:1,backgroundColor:"#E0E0E0"},adCloseBtnLineDislike2:{width:134,height:1,backgroundColor:"#E0E0E0"},adCloseBtnLineDislike3:{width:134,height:1,backgroundColor:"#E0E0E0"}},{topBar:{position:"absolute",justifyContent:"flex-start",flexDirection:"row",alignItems:"flex-start",left:0,top:40},adFeedback:{hidden:!1,flex:1,flexDirection:"row",justifyContent:"center",alignItems:"center",height:32,lineHeight:32},adText:{width:28,height:32,lineHeight:32,color:"#ffffff",textAlign:"center",fontSize:14,"ios-portrait":{top:.5},"ios-landscape":{top:.5},"iphone x-portrait":{top:.5},"iphone x-landscape":{top:.5}},rectangle:{width:8.4,height:4.9,marginTop:2,marginLeft:2.5},splitLineLeft:{width:1,height:18.5,marginLeft:8.5,marginRight:8.5,backgroundColor:"rgba(255, 255, 255, 0.25)"},count:{marginLeft:10,paddingLeft:12,paddingRight:12,height:32,borderRadius:16,borderColor:"rgba(255, 255, 255, 0.25)",borderWidth:.5,justifyContent:"center",backgroundColor:"rgba(0, 0, 0, 0.35)",flex:1,flexDirection:"row",alignItems:"center"},countDown:{width:9,height:32,lineHeight:32,color:"#ffffff",fontSize:14},countDownAppend:{width:15,height:32,lineHeight:32,color:"#ffffff",fontSize:14}},{card:{backgroundColor:"#ffffff",flexDirection:"row",alignItems:"center",justifyContent:"flex-start",height:84,width:"100%"},adIcon:{borderRadius:20,opacity:.95,width:40,height:40,marginRight:8,marginBottom:12,marginLeft:16},adInformation:{marginBottom:12,flex:1,flexDirection:"column",justifyContent:"center",overflow:"hidden"},adName:{height:24,lineHeight:24,fontSize:17,lineBreak:"ellipsis",color:"#000000",marginBottom:2},adWording:{height:20,lineHeight:20,lineBreak:"ellipsis",color:"#000000",opacity:.3,fontSize:14},buttonContainer:{marginBottom:12,flex:1,flexDirection:"row",justifyContent:"flex-end",marginRight:16,marginLeft:12,overflow:"hidden"},button:{height:32,lineHeight:32,width:88,textAlign:"center",lineBreak:"ellipsis",fontSize:16,color:"#ffffff",backgroundColor:"#07c160",borderWidth:1,borderColor:"#07c160",borderRadius:3,marginRight:10,marginLeft:10}},{closeContainer:{flexDirection:"column",justifyContent:"flex-end",alignSelf:"flex-end",marginBottom:16,height:54},close:{height:32,lineHeight:32,width:60,marginLeft:12,marginRight:12,textAlign:"center",lineBreak:"ellipsis",fontSize:14,color:"#ffffff",borderRadius:16,borderColor:"rgba(255, 255, 255, 0.25)",borderWidth:.5,alignItems:"center",backgroundColor:"rgba(0, 0, 0, 0.35)"}},{tipsContainer:{marginTop:12,flex:1,height:32,width:"100%",flexDirection:"column",justifyContent:"center",overflow:"hidden"},tipsLineOne:{height:16,textAlign:"center",lineHeight:16,lineBreak:"ellipsis",color:"#000000",opacity:.3,fontSize:11},tipsLineTwo:{height:16,lineHeight:16,textAlign:"center",lineBreak:"ellipsis",color:"#000000",opacity:.3,fontSize:11}},{adCloseTips:{hidden:!0,position:"absolute",overflow:"hidden",flexDirection:"column",justifyContent:"center",alignItems:"center",top:0,left:0},adCloseTipsWrap:{width:124,height:36,flexDirection:"column",justifyContent:"center",alignItems:"center",backgroundColor:"rgba(40, 40, 40, 0.7)",borderRadius:5},adCloseTipsContent:{width:124,height:36,lineHeight:36,fontSize:14,color:"#ffffff",textAlign:"center"}},{mediaBottom:{backgroundColor:"#ffffff",borderRadius:8,height:24,width:"100%",alignSelf:"flex-end"}},{adButtonContainer:{width:375,height:64,overflow:"hidden",flexDirection:"row",justifyContent:"space-between",alignItems:"center",backgroundColor:"rgba(0, 0, 0, 0.15)",borderRadius:2},adButton:{marginLeft:32,flex:1,height:28,lineHeight:28,lineBreak:"ellipsis",fontSize:17,color:"#ffffff",opacity:.9,borderRadius:3},actionIconContainer:{marginRight:32,flexDirection:"row",justifyContent:"center",alignItems:"center",width:12,height:14},actionIconWrap1:{flex:1,flexDirection:"column",justifyContent:"center",alignItems:"center",height:14},actionIconWrap2:{flex:1,flexDirection:"column",justifyContent:"center",alignItems:"center",height:14},iconArrow1:{top:3,width:2,height:7,backgroundColor:"#ffffff",opacity:.9,rotate:-45,borderRadius:.5},iconArrow2:{width:2,height:7,backgroundColor:"#ffffff",opacity:.9,rotate:-135,borderRadius:.5},iconArrow3:{top:3,width:2,height:7,backgroundColor:"#ffffff",opacity:.9,rotate:-45,borderRadius:.5},iconArrow4:{width:2,height:7,backgroundColor:"#ffffff",opacity:.9,rotate:-135,borderRadius:.5}}),he={card:'\n  <view id="card">\n    <image id="ad-icon" bubble-event="true" src="https://wxa.wxs.qq.com/images/raphael/icon.png"></image>\n    <view id="ad-information" bubble-event="true">\n      <text id="ad-name" bubble-event="true" value="微信广告"></text>\n      <text id="ad-wording" bubble-event="true" value="本次封面广告赞助"></text>\n    </view>\n    <view id="button-container">\n      <text id="button" click-state="true" bubble-event="true" value="查看详情"></text>\n    </view>\n  </view>\n',appInfo:'\n  <view id="app-info">\n    <image id="app-icon"></image>\n    <text id="app-name"></text>\n  </view>\n',feedbackContent:'\n  <view id="ad-feedback-list">\n    <text id="ad-feedback-title" value="由赞助商提供的内容"></text>\n    <view id="ad-close-btn-line-dislike"></view>\n    <text id="ad-dislike-btn" click-state="true" value="不感兴趣"></text>\n    <view id="ad-close-btn-line-dislike1"></view>\n    <text id="ad-feedback-btn" click-state="true" value="投诉"></text>\n  </view>\n',feedbackMenu:'\n  <view id="ad-feedback-menu">\n    <text id="ad-dismatch-btn" click-state="true" value="与我无关"></text>\n    <view id="ad-close-btn-line-dislike2"></view>\n    <text id="ad-duplicate-btn" click-state="true" value="重复收到多次"></text>\n    <view id="ad-close-btn-line-dislike3"></view>\n    <text id="ad-quality-btn" click-state="true" value="内容太差"></text>\n  </view>\n',topBar:'\n  <view id="top-bar">\n    <view id="count">\n      <view id="ad-feedback">\n        <text id="ad-text" value="广告" bubble-event="true"></text>\n        <image id="rectangle" src="http://wxsnsdythumb.wxs.qq.com/109/20204/snsvideodownload?m=2e68819eca56a58c0a6cb6180ccb2540&filekey=3033020101041f301d02016d0402534804102e68819eca56a58c0a6cb6180ccb25400202017d040d00000004627466730000000131&hy=SH&storeid=32303138303830393032313634303030303230386639313336666664393337303561333230613030303030303664&bizid=1023" bubble-event="true"></image>\n        <view id="split-line-left" bubble-event="true"></view>\n      </view>\n      <text id="count-down" value="5"></text>\n      <text id="count-down-append" value="秒"></text>\n    </view>\n  </view>\n',close:'\n  <view id="close-container">\n    <text id="close" click-state="true" bubble-event="true" value="跳过"></text>\n  </view>\n',gameTips:'\n  <view id="tips-container">\n    <text id="tips-line-one" value="抵制不良游戏，拒绝盗版游戏。 注意自我保护，谨慎受骗上当。"></text>\n    <text id="tips-line-two" value="适度游戏益脑，沉迷游戏伤身。 合理安排时间，享受健康生活。"></text>\n  </view>\n',closeTips:'\n  <view id="ad-close-tips">\n    <view id="ad-close-tips-wrap">\n      <text id="ad-close-tips-content" bubble-event="true" value="感谢你的反馈"></text>\n    </view>\n  </view>\n',mediaBottom:'\n  <view id="media-bottom">\n  </view>\n',adHeadInfo:'\n  <view id="ad-head-info" bubble-event="true">\n    <image id="ad-head-icon" bubble-event="true" src=""></image>\n    <text id="advers-name" value="" bubble-event="true"></text>\n  </view>\n',adTitle:'\n  <text id="ad-title" value="" bubble-event="true"></text>\n',adButtonContainer:'\n  <view id="ad-button-container">\n    <text id="ad-button" bubble-event="true" value=""></text>\n    <view id="action-icon-container">\n      <view id="action-icon-wrap-1">\n        <view id="icon-arrow-1"></view>\n        <view id="icon-arrow-2"></view>\n      </view>\n      <view id="action-icon-wrap-2">\n        <view id="icon-arrow-3"></view>\n        <view id="icon-arrow-4"></view>\n      </view>\n    </view>\n  </view>\n'},fe=(...e)=>(0,h._u)(...e),{root:ye}=a()('\n  <view id="container">\n    <view id="navigator"></view>\n    <view id="ad-media">\n      <image id="ad-material-bg"></image>\n      <image id="ad-material" bubble-event="true"></image>\n      <view id="ad-material-container" bubble-event="true">\n        <image id="ad-material-landscape" bubble-event="true"></image>\n        <view id="ad-card-info" bubble-event="true"></view>\n      </view>\n    </view>\n  </view>\n');let _e=0,ge=0,me=0,ve=0,Ee=0,Ie=0,we=0,be=0,Ae=!1,Te=!1,Se=!1,Ce="",Pe="",De="",Oe="";const ke=`${V.Lq}/adinfos.txt`,xe=p.wZ?200:400,Re=2e3,Ne=function(e,t=!0){const i=(0,d.Wj)(this).adProxy.isTriggerClick(e),n=i?0:1;return t&&Me.call(this,e,n),i},Me=function(e,t=0){var i;const n=(0,d.Wj)(this);if(!n.container||!n.container.layoutBox)return;const{width:r,height:a}=n.container.layoutBox;let o=0;[0,2,3].includes(t)&&(n.clickCount+=1,o=n.clickCount);const s={slotid:V.DX[n.adType],costtype:null!==(i=n.adProxy.data)&&void 0!==i&&i.is_cpm?1:2,click_time:Date.now(),click_cnt:o,start_posx:parseInt(e.relativeX,10)||0,start_posy:parseInt(e.relativeY,10)||0,end_posx:parseInt(e.relativeEndX,10)||0,end_posy:parseInt(e.relativeEndY,10)||0,ad_width:parseInt(r,10)||0,ad_height:parseInt(a,10)||0,press_interval:e.pressInterval,block_click:t};return n.adProxy.reportTouchClick(s)},Le=function(){const e=(0,d.Wj)(this);let t=!1;return(0===e.startExposureTime||+new Date-e.startExposureTime<1e3)&&(t=!0),t},Fe=function(e,t){var i;const n=(0,d.Wj)(this),{width:r,height:a}=n.container.style,o={click_button:e,cost_type:null!==(i=n.adProxy.data)&&void 0!==i&&i.is_cpm?1:2,slotid:V.DX[n.adType],is_game:Ae?1:0,pageentertime:+new Date(n.adProxy.getProgramStartTime()),ad_width:parseInt(r,10)||0,ad_height:parseInt(a,10)||0,clientexptime:n.startExposureTime,clientclktime:+new Date,pressinterval:t.pressInterval,pos_x:parseInt(t.absoluteX,10)||0,pos_y:parseInt(t.absoluteY,10)||0,screen_width:_e,screen_height:ge};return n.adProxy.reportAntifraud(o)},je=function(e){const t=(0,d.Wj)(this),i=e.then((e=>/ok/.test(e.errMsg)?t.adProxy.reportFollow({result:"success"}):/cancel/.test(e.errMsg)?t.adProxy.reportFollow({result:"cancel"}):void 0)).catch((()=>t.adProxy.reportFollow({result:"fail"})));fe(i,"splashAd","关注")},We=function(e){var t;const i=(0,d.Wj)(this),n=+new Date,r={slotid:V.DX[i.adType],is_game:Ae?1:0,costtype:null!==(t=i.adProxy.data)&&void 0!==t&&t.is_cpm?1:2,close_type:e,exposure_duration:n-i.startExposureTime-i.hideDuration,start_time:i.startExposureTime,close_time:n};return i.adProxy.reportCloseAction(r)},Ue=function(e){var t;const i=(0,d.Wj)(this),n={slotid:V.DX[i.adType],is_game:Ae?1:0,costtype:null!==(t=i.adProxy.data)&&void 0!==t&&t.is_cpm?1:2,button_type:e};return i.adProxy.reportAdEntranceExposure(n)},Ve=function({firstGradeId:e=1,firstGradeDesc:t="广告角标",secondGradeId:i=0,secondGradeDesc:n="",feedbackReason:r=0}){const a=(0,d.Wj)(this);e&&!i&&(a.clickFirstGradeTime=+new Date),a.adProxy.reportAdFeedbackData({adWidth:_e,adHeight:ge,adPosX:0,adPosY:0,expTime:a.startExposureTime,slotId:V.DX[a.adType],firstGradeId:e,firstGradeDesc:t,firstGradeTime:e?a.clickFirstGradeTime:0,secondGradeId:i,secondGradeDesc:n,secondGradeTime:i?+new Date:0,feedbackReason:r})},Be=function(e=!1){const t=(0,d.Wj)(this);if(!t.isShowed)return Promise.resolve();if(!t.data||!t.container.layoutBox)return(0,h.Vs)(100).then((()=>Be.call(this,e)));const{left:i,top:n,width:r,height:a}=t.container.layoutBox;if(!t.isShowedExposureReported){t.isShowedExposureReported=!0,t.startExposureTime=+new Date,t.adProxy.setTimePoint("p6");const e=f.Z.onReady((()=>{t.adProxy.reportExposure({left:i,top:n,width:r,height:a,exposureType:"showed",source:t.source});const e="launch"===t.source?V.ET.firstShowSuccess:V.ET.secondShowSuccess;t.adProxy.reportAdMonitorData(e),t.adProxy.setSplashAdShowStatus()}));fe(e,"splashAd","原始")}if(!t.isViewableExposureReported){if(!e)return(0,h.Vs)(1e3).then((()=>Be.call(this,!0)));{t.adProxy.setTimePoint("p7"),t.isViewableExposureReported=!0,t.adProxy.isViewable=!0;const e=t.adProxy.reportExposure({left:i,top:n,width:r,height:a,exposureType:"viewable",source:t.source});fe(e,"splashAd","可视")}}return Promise.resolve()},Ze=function(e){const t=(0,d.Wj)(this);if(!t.container||!t.container.layoutBox)return;const{left:i,top:n,width:r,height:a}=t.container.layoutBox,o=t.adProxy.reportClick({clickAbsoluteLeft:e.absoluteX,clickAbsoluteTop:e.absoluteY,clickRelativeLeft:e.absoluteX-i,clickRelativeTop:e.absoluteY-n,pressInterval:e.pressInterval,left:i,top:n,width:r,height:a,source:t.source});return fe(o,"splashAd","点击"),o},Ge=function(e,t){const i=(0,d.Wj)(this),{appInfo:{apkName:n,channelId:r,urlScheme:a},product_type:o,dest_type:s}=i.data;if(12===o&&p.wZ&&4===i.androidAppState&&a&&a.trim().length>0)Ze.call(this,e),Fe.call(this,t,e),i.adProxy.launchApplication(a).catch((()=>{})),i.lastJsapiName="launchApplication",i.isLandingPage=!0;else if(12===o&&p.wZ&&i.isYYBInstalled){Ze.call(this,e),Fe.call(this,t,e);const{aid:a,traceid:o,apurl:s}=i.adProxy.data,l=["ANDROIDWX.YYB.WX.ADVERTISE",o,a,n.replace(/\./g,"_"),"0",15,s.indexOf("ad.wx.com")>-1?1:0].join("."),c=`tmast://download?oplist=1,2&pname=${n}&channelid=${r}&via=${l}`;i.adProxy.launchApplication(c).catch((()=>{He.call(this)})),i.lastJsapiName="launchApplication",i.isLandingPage=!0}else p.cj&&46===o&&6===s?Promise.race([Ze.call(this,e),(0,h.Vs)(500)]).then((()=>{Fe.call(this,t,e),He.call(this)})).catch((()=>{Fe.call(this,t,e),He.call(this)})):(Ze.call(this,e),Fe.call(this,t,e),He.call(this))},He=function(e={}){const t=(0,d.Wj)(this),i=t.adProxy.land(e);return 23===t.data.product_type&&e&&e.isButton&&!t.adProxy.data.biz_info.is_subscribed?(i.then((e=>{const i=/ok/.test(e.errMsg);i&&t.adProxy.data.biz_info&&(t.adProxy.data.biz_info.is_subscribed=1),e.errMsg&&(t.lastJsapiName=e.errMsg.replace(":ok","").replace(":fail cancel",""));const n=+new Date;var r;(t.lastJsapiStatus=0,t.lastJsapiCostTime=n-t.lastLandingTime,"private_addContact"===t.lastJsapiName)&&t.adProxy.reportLandingTime({slotId:V.DX[t.adType],costType:null!==(r=t.adProxy.data)&&void 0!==r&&r.is_cpm?1:2,openTime:t.lastLandingTime,closeTime:n,stayTime:t.lastJsapiCostTime,jsapiName:t.lastJsapiName,clickTime:t.lastLandingTime,clkCnt:t.clickCount,retCode:t.lastJsapiStatus,costTime:t.lastJsapiCostTime,actTypeInt:i?2:3,actTypeStr:i?"关注":"取消"})})).catch((()=>{t.lastJsapiStatus=1})),je.call(this,i)):i.then((e=>{e.errMsg&&(t.lastJsapiName=e.errMsg.replace(":ok","")),"private_openUrl"===t.lastJsapiName||"navigateToMiniProgram"===t.lastJsapiName||"openADCanvas"===t.lastJsapiName||"launchApplication"===t.lastJsapiName?t.isLandingPage=!0:t.lastJsapiStatus=0,t.lastJsapiCostTime=+new Date-t.lastLandingTime})).catch((e=>{t.lastJsapiStatus=1,t.adProxy.reportAdMonitorData(V.ET.landingPageFail,{source:t.source,msg:e})})),i},$e=function(e){const t=(0,d.Wj)(this);for(const i of e)t[i]&&clearTimeout(t[i])},Ye=function(){var e;const t=(0,d.Wj)(this);t.eventsMap={},null!==(e=t.appInfo)&&void 0!==e&&e.style&&(t.appInfo.style.top=16),t.componentsRenderred=!1,t.firstInserted=!1,t.adFeedbackInserted=!1,t.isDynamic=!1,t.isShowedExposureReported=!1,t.startExposureTime=0,t.isViewableExposureReported=!1,t.isShowed=!1,t.adProxy.isViewable=!1,t.isCheckAdRequest=!0,t.clickCount=0,t.lastLandingTime=0,t.lastJsapiName="",t.lastJsapiStatus=0,t.lastJsapiCostTime=0,t.isLandingPage=!1,t.landingPageCostTime=0,t.hideTime=0,t.hideDuration=0,t.isClosing=!1,t.isShowCloseTip=!1,t.clickFirstGradeTime=0,t.source="",$e.call(this,["countTimer"]),f.Z.onReady((()=>{var e,i,n;t.adProxy.reportTimePoints({slotid:V.DX[t.adType],costtype:null!==(e=t.adProxy.data)&&void 0!==e&&e.is_cpm?1:2,splash_instance_id:null===(i=t.showInfo)||void 0===i?void 0:i.instanceId,scene:null===(n=t.showInfo)||void 0===n?void 0:n.scene,extInfo:{adInfos:t.adInfos}})}))},ze=function(e={},t){t&&We.call(this,t),(0,de.R0)(e)},qe=function(e={},t={}){return(0,d.Wj)(this).adProxy.fetch(!1,e,t)},Ke=function(){const e=(0,d.Wj)(this);if((p.wZ||p.cj)&&!Se)try{e.adFetchResult=qe.call(this).catch((()=>{})),e.adProxy.reportAdMonitorData(V.ET.OTHER_ADS_EMIT_FETCH)}catch(e){}},Je=function(){var e;const t=(0,d.Wj)(this).data||{};let i={};if(null!==(e=t.crtInfo)&&void 0!==e&&e.card_info)i=t.crtInfo.card_info;else if(t.crtInfo&&t.crtInfo.length>0){const e=t.crtInfo?t.crtInfo[0]:{};i=null!=e&&e.card_info?e.card_info:{}}return i},Xe=function(){var e,t;const i=(0,d.Wj)(this),n=+new Date-i.startExposureTime-i.hideDuration;let r=5e3;(null==i||null===(e=i.data)||void 0===e||null===(t=e.condition)||void 0===t?void 0:t.widget_gray_splashad_show_duration)>=r&&(r=i.data.condition.widget_gray_splashad_show_duration);const a=r-n;if(a>=0){const e=Math.ceil(a/1e3).toString();i.countDown&&(i.countDown.value=e),i.tplComponent&&i.tplComponent.emitAdCustomEvent(oe.A.CHANGECOUNTDOWN,{value:e}),i.countTimer&&clearTimeout(i.countTimer),i.countTimer=setTimeout((()=>{Xe.call(this)}),1e3)}else"launch"===i.source&&i.isShowedExposureReported&&(i.isDynamic&&i.tplComponent.hide(),ze.call(this,{source:i.source,animated:!0},12))},Qe=function(){const e=(0,d.Wj)(this);if("launch"===e.source)e.topBar&&ve&&(e.topBar.style.top=ve,e.adFeedbackMenu.style.top=ve+34,e.adFeedbackList.style.top=ve+34),e.closeContainer&&(e.closeContainer.style.marginTop=Ee-68),e.appInfo&&(e.appInfo.style.height=Ie,e.appInfo.style.width=_e,e.isDarkMode&&(e.appInfo.style.backgroundColor="#191919",e.container.style.backgroundColor="#191919")),e.appIcon&&(e.appIcon.src=e.showInfo.appIcon,e.appIcon.style.marginTop=Ae?16:28),e.appName&&(e.appName.value=e.showInfo.appName,e.appName.style.width=_e,e.appName.style.color=e.isDarkMode?"#ffffff":"#000000"),e.tipsContainer&&(e.tipsContainer.style.height=32,e.tipsContainer.style.width=_e,e.tipsLineOne.style.width=_e,e.tipsLineOne.style.color=e.isDarkMode?"#ffffff":"#000000",e.tipsLineTwo.style.color=e.isDarkMode?"#ffffff":"#000000"),e.adCloseTips&&(e.adCloseTips.style.height=ge-Ie,e.adCloseTips.style.width=_e);else if("menu"===e.source){var t;if(!e.data)return;const{data:i}=e,n=Je.call(this),r=(0,l.xI)();e.adIcon.src=n.thumb,e.adName.value=n.title,null!==(t=i.button_action)&&void 0!==t&&t.button_text&&(e.button.value=i.button_action.button_text),r.screenTop&&r.screenTop>0?me=r.screenTop:me&&0!==me||(me=88*ge/812),e.navigator.style.height=me,e.navigator.style.backgroundColor=e.isDarkMode?"#191919":"#ffffff",e.card.style.backgroundColor=e.isDarkMode?"#191919":"#ffffff",e.card.style.width=_e,e.card.style.height=Ie-me,e.adName.style.color=e.isDarkMode?"#ffffff":"#000000",e.adWording.style.color=e.isDarkMode?"#ffffff":"#000000",e.mediaBottom&&(e.mediaBottom.style.marginTop=Ee-12,e.mediaBottom.style.width=_e,e.mediaBottom.style.backgroundColor=e.isDarkMode?"#191919":"#ffffff")}if("landscape"===e.crtOrientation){const t=e.data||{},i=Je.call(this);if(i&&e.adHeadInfo&&(e.adHeadIcon.src=i.thumb||"",e.adversName.value=i.title||"",e.adHeadInfo.style.width=_e/375*311,e.adversName.style.width=_e/375*311),t.hint_txt&&e.adTitle&&t.crt_size!==V.vK.CRT_SIZE_BIG_PIC?(e.adTitle.value=t.hint_txt,e.adTitle.style.width=_e/375*311):i.description&&e.adTitle?(e.adTitle.value=i.description,e.adTitle.style.width=_e/375*311):e.adTitle&&t.product_type&&V.sl[t.product_type]&&(e.adTitle.value=`今日${V.sl[t.product_type]}推荐`,e.adTitle.style.width=_e/375*311),t.button_action&&e.adButtonContainer){e.adButton.value=t.button_action.button_text,e.adButtonContainer.style.width=_e,e.closeContainer&&(e.closeContainer.style.marginTop=Ee-132);const i={text:t.button_action.button_text,fontSize:17},n=(0,Z.X1)(i)||80;e.adButton.style.width=n+8,e.adButton.style.width+12>100&&(e.adButton.style.width=e.adButton.style.width+12)}}},et=function(e){const t=(0,d.Wj)(this);if(t.dynamicElems||(t.dynamicElems={}),t.dynamicEmitter||at.call(this),t.dynamicElems.root)return;const i=t.data.adDynamicList,n=it.call(this,{tpl:i,source:e}),r=n.getRootElement();t.dynamicElems.root=r,t.container.add(t.dynamicElems.root),n.show(),t.tplComponent=n,t.tplComponent.emitComponentEvent(se._d.SPLASHADFIRSTRENDER)},tt=function(){let e="";const t=(0,d.Wj)(this).adProxy.data,i=Je.call(this);return t.hint_txt&&t.crt_size!==V.vK.CRT_SIZE_BIG_PIC?e=t.hint_txt:i.description?e=i.description:t.product_type&&V.sl[t.product_type]&&(e=`今日${V.sl[t.product_type]}推荐`),e},it=function({tpl:e,source:t}){const i=(0,d.Wj)(this),n=i.adProxy.data,r=tt.call(this),a=Je.call(this);return(0,m.sY)(W,{manager:null,reporter:null,emitter:i.dynamicEmitter,adProxy:i.adProxy,template:e,systemInfo:{screenWidth:_e,screenHeight:ge},adData:n,adCustomId:"dynamic",isEmpty:!1,scope:{rightButtonTop:ve||40,source:t,screenTop:me||88*ge/812,isDarkMode:i.isDarkMode,adTitle:r||"",cardInfo:a,materialFile:Ce,materialBgFile:De,materialBlurFile:Oe,private:i,appIcon:i.showInfo.appIcon,appName:i.showInfo.appName}},!1)},nt=function(e){const t=(0,d.Wj)(this);Ne.call(this,e,!1)&&(Le.call(this)||"launch"===t.source&&ze.call(this,{source:t.source,animated:!0},11))},rt=function(e){const t=(0,d.Wj)(this);switch(e.action){case oe.A.LANDAD:{const{event:i,index:n}=e.value,r=n;if(!Ne.call(this,i,13===r))return;13===r&&Ge.call(this,i,r),ze.call(this,{source:t.source,animated:!1},r),16===r&&(t.isLandingPage=!0,(0,h.Vs)(xe).then((()=>Ge.call(this,i,r))));break}case oe.A.CHECKEXPOSURE:t.dynamicRendered=!0,t.isShowedExposureReported||Be.call(this),t.countTimer||Xe.call(this);break;case oe.A.FEEDBACKREPORT:Ve.call(this,e.value);break;case oe.A.FEEDBACKBTNTAP:t.data&&t.adProxy.openFeedbackUrl(1014);break;case oe.A.REPORTMMDATA:e.value.id&&e.value.data&&t.adProxy.reportMMData(parseInt(e.value.id,10),e.value.data);break;case oe.A.SPLASHSKIPAD:{const{event:t}=e.value;nt.call(this,t);break}case oe.A.REPORTADMONITORDATA:{const i=null==e?void 0:e.value,{id:n,key:r,extInfo:a}=i,o=n?{idKeyGroup:n,idKey:r}:r;t.adProxy.reportAdMonitorData(o,a);break}}},at=function(){const e=(0,d.Wj)(this);e.dynamicEmitter=new ce,e.dynamicEmitter.on("adCustomEvent",(e=>{rt.call(this,e)}))},ot=function(e,t=!1){const i=(0,d.Wj)(this);e.forEach((e=>{const{root:t}=a()(he[e.name]),n=d.Ue.call(this,t);i[e.parent].add(n)})),i.componentsRenderred=!0,Qe.call(this),t&&st.call(this)},st=function(){const e=(0,d.Wj)(this);e.adFeedback&&!e.eventsMap.adFeedback&&e.adFeedback.on("click",(t=>{Ne.call(this,t,!1)&&(e.adFeedbackList.style.hidden=!e.adFeedbackMenu.style.hidden||!e.adFeedbackList.style.hidden,e.adFeedbackMenu.style.hidden=!0,e.adFeedbackList.style.hidden||Ve.call(this,{firstGradeId:1,firstGradeDesc:"广告角标"}))})),e.adFeedbackBtn&&!e.eventsMap.adFeedbackBtn&&e.adFeedbackBtn.on("click",(t=>{Ne.call(this,t,!1)&&(e.adFeedbackList.style.hidden=!0,Ve.call(this,{secondGradeId:1,secondGradeDesc:"投诉"}),"launch"===e.source&&ze.call(this,{source:e.source,animated:!0},17),e.data&&e.adProxy.openFeedbackUrl(1014))})),e.adDislikeBtn&&!e.eventsMap.adDislikeBtn&&e.adDislikeBtn.on("click",(t=>{Ne.call(this,t,!1)&&(e.adFeedbackList.style.hidden=!0,e.adFeedbackMenu.style.hidden=!1,Ve.call(this,{secondGradeId:2,secondGradeDesc:"不感兴趣"}))})),e.adQualityBtn&&!e.eventsMap.adQualityBtn&&e.adQualityBtn.on("click",(t=>{Ne.call(this,t,!1)&&(e.adFeedbackMenu.style.hidden=!0,Ve.call(this,{secondGradeId:2,secondGradeDesc:"不感兴趣",feedbackReason:4}),"launch"===e.source&&ze.call(this,{source:e.source,animated:!0},17))})),e.adDuplicateBtn&&!e.eventsMap.adDuplicateBtn&&e.adDuplicateBtn.on("click",(t=>{Ne.call(this,t,!1)&&(e.adFeedbackMenu.style.hidden=!0,Ve.call(this,{secondGradeId:2,secondGradeDesc:"不感兴趣",feedbackReason:5}),"launch"===e.source&&ze.call(this,{source:e.source,animated:!0},17))})),e.adDismatchBtn&&!e.eventsMap.adDismatchBtn&&e.adDismatchBtn.on("click",(t=>{Ne.call(this,t,!1)&&(e.adFeedbackMenu.style.hidden=!0,Ve.call(this,{secondGradeId:2,secondGradeDesc:"不感兴趣",feedbackReason:1}),"launch"===e.source&&ze.call(this,{source:e.source,animated:!0},17))})),e.closeContainer&&!e.eventsMap.closeContainer&&e.closeContainer.on("click",(t=>{Ne.call(this,t,!1)&&(Le.call(this)||"launch"===e.source&&ze.call(this,{source:e.source,animated:!0},11))})),e.adMedia&&!e.eventsMap.adMedia&&e.adMedia.on("click",(e=>{lt.call(this,e,"adMedia")})),e.adButtonContainer&&!e.eventsMap.adButtonContainer&&e.adButtonContainer.on("click",(e=>{lt.call(this,e,"button")})),e.buttonContainer&&!e.eventsMap.buttonContainer&&e.buttonContainer.on("click",(t=>{if(Ne.call(this,t,!1))return e.data?(ze.call(this,{source:e.source,animated:!1},16),e.isLandingPage=!0,(0,h.Vs)(xe).then((()=>Ge.call(this,t,16)))):void 0}));const t=["adFeedback","adFeedbackBtn","adDislikeBtn","adQualityBtn","adDuplicateBtn","adDismatchBtn","closeContainer","adMedia","buttonContainer","adButtonContainer"];for(const i of t)e[i]&&!e.eventsMap[i]&&(e.eventsMap[i]=!0)},lt=function(e,t=""){var i,n;const r=(0,d.Wj)(this);if((!((null==r||null===(i=r.data)||void 0===i||null===(n=i.condition)||void 0===n?void 0:n.widget_gray_splash_click_area_switch)||0)||"button"===t)&&Ne.call(this,e,!1))return r.data&&"launch"===r.source?!Ae||p.wZ?(Ge.call(this,e,13),(0,h.Vs)(200).then((()=>ze.call(this,{source:r.source,animated:!1},13)))):(ze.call(this,{source:r.source,animated:!1},13),Ge.call(this,e,13)):void 0},ct=function(){const e=(0,d.Wj)(this);if(e.data){const t=Je.call(this);t&&"launch"===e.source&&(0,de.yw)({showMenu:!0,title:t.title,icon:t.thumb,success:()=>{e.adProxy.reportAdMonitorData(V.ET.showSplashAdMenuSuccess)},fail:t=>{e.adProxy.reportAdMonitorData(V.ET.showSplashAdMenuFail,{msg:t})}})}},dt=function(){const e=(0,d.Wj)(this);try{var t;const i=(null===(t=e.data)||void 0===t?void 0:t.aid)||"";e.adProxy.data&&e.adInfos&&e.adInfos.waidMap&&(e.adProxy.data.waid=e.adInfos.waidMap[i])}catch(e){}},ut=function(){const e=(0,d.Wj)(this);if(!e.data||""===e.data||"object"!=typeof e.data){const t=de.fs.readFileSync(Pe,"utf-8");try{const i=JSON.parse(t);e.data=i,e.adProxy.data=i}catch(t){f.Z.onReady((()=>{e.adProxy.reportAdMonitorData(V.ET.readFileDataFail,{source:e.source,msg:t})}))}}},pt=function(){const e=(0,d.Wj)(this);if("launch"!==e.source)return;ot.call(this,[{parent:"adMedia",name:"topBar"}],!0),e.adFeedbackInserted=!0},ht=function(){const e=(0,d.Wj)(this);if("launch"!==e.source)return;let t=[{parent:"container",name:"appInfo"},{parent:"adMedia",name:"feedbackContent"},{parent:"adMedia",name:"feedbackMenu"},{parent:"adMedia",name:"close"},{parent:"container",name:"closeTips"}];"landscape"===e.crtOrientation&&(t=t.concat([{parent:"adCardInfo",name:"adHeadInfo"},{parent:"adCardInfo",name:"adTitle"},{parent:"adMedia",name:"adButtonContainer"}])),(p.wZ||ve>0)&&(t.push({parent:"adMedia",name:"topBar"}),e.adFeedbackInserted=!0),e.showInfo.isGame&&t.push({parent:"appInfo",name:"gameTips"}),ot.call(this,t,!0),(0,de.fy)({state:0}),o._w.layout().then((()=>{(0,de.fy)({state:1}),o._w.auto=!0})).catch((t=>{f.Z.onReady((()=>{e.adProxy.reportAdMonitorData(V.ET.secondInsertFail,{source:e.source,msg:t})}))}))},ft=function(){const e=(0,d.Wj)(this);Ie=Math.max(160,160*ge/812),Ee=ge-Ie,e.adMedia.style.width=_e,e.adMedia.style.height=Ee;const t=9*ge/16;e.adMaterial.style.width=t,e.adMaterial.style.height=ge,e.adMaterial.style.left=t>_e?(_e-t)/2:0,"portrait"===e.crtOrientation?e.adMaterial.src=Ce:"landscape"===e.crtOrientation&&(e.adMaterialBg.style.hidden=!1,e.adMaterialContainer.style.hidden=!1,e.adMaterial.style.width=_e,e.adMaterial.style.height=Ee,e.adMaterial.style.left=0,e.adMaterialContainer.style.width=_e,e.adMaterialContainer.style.height=Ee,e.adMaterial.src=De,e.adMaterialBg.style.width=.45*ge*16/9,e.adMaterialBg.style.height=.45*ge,e.adMaterialBg.style.left=-(.45*ge*16/9-_e)/2,e.adMaterialLandscape.style.width=_e/375*311,e.adMaterialLandscape.style.height=_e/375*175,e.adMaterialBg.src=Ce,e.adMaterialLandscape.src=Ce,e.adCardInfo.style.width=_e/375*311,e.adCardInfo.style.marginLeft=8),e.adMaterial.scale=ge/1920},yt=function(e){var t;const i=(0,d.Wj)(this);if(i.showInfo=e,i.source=e.source,i.isDarkMode=e.isDarkMode||!1,e.isGame&&(Ae=e.isGame),_e=e.screenWidth,ge=e.screenHeight,null!=i&&null!==(t=i.data)&&void 0!==t&&t.adDynamicList){const{root:t}=a()('\n  <view id="container">\n  </view>\n');u.call(this,t,ue),i.isDynamic=!0,et.call(this,e.source)}else u.call(this,ye,pe),ft.call(this);if(i.container.style.width=_e,i.container.style.height=ge,i.container.style.backgroundColor=i.isDarkMode?"#191919":"#ffffff",o._w.add(i.container),!i.isDynamic)try{de.fs.access({path:Oe,success:()=>{i.adMaterialBg.src=Oe}})}catch(e){}let n=[];"menu"!==i.source||i.isDynamic||(ut.call(this),n=[{parent:"container",name:"card"},{parent:"adMedia",name:"mediaBottom"}],"landscape"===i.crtOrientation&&(n=n.concat([{parent:"adCardInfo",name:"adHeadInfo"},{parent:"adCardInfo",name:"adTitle"}])),i.navigator.style.hidden=!1,ot.call(this,n,!0)),(0,de.Ae)({state:0}),o._w.layout().then((()=>{if(i.firstInserted=!0,i.isShowed=!0,(0,de.Ae)({state:1}),"launch"!==i.source||i.isDynamic)o._w.auto=!0,i.container.requestLayout();else try{ht.call(this)}catch(e){f.Z.onReady((()=>{i.adProxy.reportAdMonitorData(V.ET.secondRenderFail,{source:i.source,msg:e})}))}})).catch((e=>{f.Z.onReady((()=>{i.adProxy.reportAdMonitorData(V.ET.firstInsertFail,{source:i.source,msg:e})}))}))},_t=function(e,t={},i,n){const r=(0,d.Wj)(this),a=be+V.c3[n],o=V.ET[n];return f.Z.onReady((()=>{var i;r.adProxy.reportAdMonitorData(o,t),r.adProxy.reportTimePoints({slotid:V.DX[r.adType],costtype:null!==(i=r.adProxy.data)&&void 0!==i&&i.is_cpm?1:2,splash_instance_id:e.instanceId,errCode:a,scene:e.scene,extInfo:t})})),(0,de.mQ)({adCallTime:Date.now(),errCode:a,show:!1,eventReceivedTime:i.startInit,cgiFetchStart:i.startFetchTime||0,cgiFetchCallBack:i.fetchCallbackTime||0})};class gt extends d.wA{constructor(){super();const t=(0,d.Wj)(this);t.canShowed=!1,t.today=(0,Z.Cy)(),t.countTimer=null,t.componentsRenderred=!1,t.isShowed=!1,t.firstInserted=!1,t.adFeedbackInserted=!1,t.isDynamic=!1,t.isShowedExposureReported=!1,t.startExposureTime=0,t.isViewableExposureReported=!1,t.isCheckAdRequest=!0,t.clickCount=0,t.lastLandingTime=0,t.lastJsapiName="",t.lastJsapiStatus=0,t.lastJsapiCostTime=0,t.isLandingPage=!1,t.landingPageCostTime=0,t.hideTime=0,t.hideDuration=0,t.isClosing=!1,t.isShowCloseTip=!1,t.clickFirstGradeTime=0,t.eventsMap={},t.source="",t.crtOrientation="portrait",t.adType="splashAd",t.adProxy=new s.FF({adUnitId:"",adType:t.adType}),t.dynamicElems={},t.dynamicEmitter=null,t.tplComponent=null,(0,e.vl)((e=>{"close"===e.buttonType&&"launch"===e.source?(We.call(this,10),$e.call(this,["countTimer"])):"close"===e.buttonType&&"menu"===e.source?We.call(this,14):"back"!==e.buttonType||"menu"!==e.source||t.isLandingPage?"menu"===e.buttonType&&Ue.call(this,1):We.call(this,15)})),(0,e.vj)((e=>{if(e.menuViewFrame&&("launch"===e.source?(ve=e.menuViewFrame.y||0,t.dynamicEmitter&&t.isDynamic&&t.tplComponent&&ve&&t.tplComponent.emitComponentEvent(se._d.SPLASHADMENUVIEW,{countdownTop:ve})):"menu"===e.source&&(me=e.menuViewFrame.height||0,t.dynamicEmitter&&t.isDynamic&&t.tplComponent&&me&&t.tplComponent.emitComponentEvent(se._d.SPLASHADMENUVIEW,{navHeight:me,menuHeight:172-me})),p.cj&&t.firstInserted&&!t.adFeedbackInserted))try{pt.call(this)}catch(e){f.Z.onReady((()=>{t.adProxy.reportAdMonitorData(V.ET.iosThirdInsertFail,{source:t.source,msg:e})}))}})),(0,e.Pp)((()=>{t.adProxy.setTimePoint("p5"),"launch"!==t.source||t.isDynamic||(ut.call(this),Qe.call(this)),ct.call(this),dt.call(this),t.hideTime>0&&(t.hideDuration=+new Date-t.hideTime),Be.call(this),"launch"===t.source&&t.isShowedExposureReported&&Xe.call(this),t.isLandingPage&&(t.isLandingPage=!1)})),(0,e.EJ)((()=>{t.hideTime=+new Date,$e.call(this,["countTimer"])})),(0,e.BZ)((()=>{Te||(Te=!0),p.cj&&t.startExposureTime>0&&+new Date-t.startExposureTime>1e3&&Be.call(this,!0),t.container&&(t.isDynamic&&(t.tplComponent&&(0,m.vE)(t.tplComponent),t.dynamicElems={},t.dynamicEmitter=null,t.tplComponent=null),o._w.remove(t.container)),Ye.call(this)}))}otherAdsEmitFetch(){Ke.call(this)}show(e){Se=!0;const t=(0,d.Wj)(this);t.showInfo=e,t.adProxy.scene=e.scene,t.adProxy.setTimePoint("p14");const i=t.adProxy.getTimePoint("p14");if(f.Z.onReady((()=>{setTimeout((()=>{const i="launch"===e.source?V.ET.launchAcceptShouldShow:V.ET.menuAcceptShouldShow;t.adProxy.reportAdMonitorData(i)}),Re)})),"launch"!==e.source)return this.showDetail(e);const n={};try{const e=de.fs.readFileSync(ke,"utf-8");n.adInfos=e||{},t.adInfos=JSON.parse(e)}catch(e){t.adInfos={},n.errMsg=t.adProxy.processStackMsg(e),n.fileName=ke}if(0===Object.keys(t.adInfos).length)be=1e4,we=V.c3.NO_ADINFOS,this.showAdByRealtimeFetch(e,i);else{var r;f.Z.onReady((()=>{setTimeout((()=>{t.isCheckAdRequest&&(t.adFetchResult=qe.call(this).catch((()=>{})))}),Re)}));const n=t.adInfos.ads||[];(null===(r=t.adInfos)||void 0===r?void 0:r.isCheckAndFetch)||0?(be=2e4,this.showAdByRealtimeFetch(e,i,n)):this.showAdByCheckAdsOnline(e,i),t.adDatas={};for(const e of n)try{const i=`${V.Lq}/${e.aid}.txt`,n=de.fs.readFileSync(i,"utf-8"),r=JSON.parse(n);t.adDatas[e.aid]=r}catch(e){}}try{var a;const e=(null===(a=t.adInfos)||void 0===a?void 0:a.deviceInfo)||{};t.adProxy.setDeviceInfo(e)}catch(e){}}showAdByRealtimeFetch(e,t,i=[]){const n=(0,d.Wj)(this),r={gameAppId:e.appId,deviceOrientation:e.screenHeight>e.screenWidth?"portrait":"landscape",screenWidth:e.screenWidth,screenHeight:e.screenHeight,systemVersion:e.osVersion,wechatVersion:e.weixinVersion,SDKVersion:c.c,envVersion:e.osVersion,model:e.model,platform:e.osType,isWaGame:e.isGame,isIOS:p.cj,isAndroid:p.wZ,adNetworkType:e.networkType},a={weappEnterScene:e.scene,requestType:2,preloadAds:i};return n.adProxy.setTimePoint("p15"),f.Z.onReady((()=>{setTimeout((()=>{n.adProxy.reportAdMonitorData(V.ET.START_CHECK_AD_STATUS)}),Re)})),qe.call(this,r,a).then((t=>{f.Z.onReady((()=>{setTimeout((()=>{n.adProxy.reportAdMonitorData(V.ET.CHECK_AD_STATUS_SUCCESS)}),Re)})),n.adProxy.setTimePoint("p16");let i=!1;"fetch"===n.adProxy.lastAdRespone&&(n.isCheckAdRequest=!1,n.data=t,n.adProxy.data=t,i=!0,be=1e4===be?1e4:3e4),this.showDetail(e,{aid:Number(t.aid)},i)})).catch((i=>(n.adProxy.setTimePoint("p16"),_t.call(this,e,{msg:i},{startInit:t},"CHECK_AD_STATUS_ERROR"))))}showAdByCheckAdsOnline(e,t){const i=(0,d.Wj)(this),n=i.adInfos.requestInQueue&&"true"===i.adInfos.requestInQueue,r=JSON.stringify({weapp_enter_scene:e.scene||0}),a={slot_id:V.DX[i.adType],publisher_appid:e.appId,network_type:V.MC[e.networkType]||0,app_service_type:e.isGame?2:1,sdk_version:c.c,weixin_version:e.weixinVersion,os_version:e.osVersion,os_type:e.osType,model:e.model,ads:i.adInfos.ads||[],ext_check_ads_weapp:r};i.adProxy.setTimePoint("p15"),f.Z.onReady((()=>{setTimeout((()=>{i.adProxy.reportAdMonitorData(V.ET.START_CHECK_AD_STATUS)}),1500)})),(0,B.G_)(a,n).then((t=>{f.Z.onReady((()=>{setTimeout((()=>{i.adProxy.reportAdMonitorData(V.ET.CHECK_AD_STATUS_SUCCESS)}),1500)})),i.adProxy.setTimePoint("p16");const n=JSON.parse(t.rawData);this.showDetail(e,n)})).catch((n=>(i.adProxy.setTimePoint("p16"),_t.call(this,e,{msg:n},{startInit:t},"CHECK_AD_STATUS_ERROR"))))}showDetail(e,t={aid:0},i=!1){var r=this;return n()((function*(){o._w.style.width=e.screenWidth,o._w.style.height=e.screenHeight,o._w.auto=!1;const n=(0,d.Wj)(r),a={startInit:n.adProxy.getTimePoint("p14"),startFetchTime:n.adProxy.getTimePoint("p15"),fetchCallbackTime:n.adProxy.getTimePoint("p16")},s=[],{aid:l}=t;if("launch"===e.source&&i){var c,u,p;const e=(null==n||null===(c=n.data)||void 0===c||null===(u=c.rerankingExtInfo)||void 0===u?void 0:u.material_hash)||"";Ce=`${V.Lq}/${l}_${e}.png`,De=`${V.Lq}/${l}_${e}_pure_color.png`,Oe=`${V.Lq}/${l}_${e}_blur.png`,s.push(Ce),n.crtOrientation="portrait";const t=(null==n||null===(p=n.data)||void 0===p?void 0:p.crtInfo[0])||{};if(Object.keys(t).length>0){const{width:e,height:i}=t;n.crtOrientation=e>i?"landscape":"portrait"}"landscape"===n.crtOrientation&&s.push(De)}else if("launch"!==e.source||i){if("menu"===e.source){var h,y;let e={};null!==(h=n.data)&&void 0!==h&&h.crtInfo&&n.data.crtInfo.length>0?[e]=n.data.crtInfo:null!==(y=n.data)&&void 0!==y&&y.crtInfo&&(e=n.data.crtInfo),Object.keys(e).length>0&&!n.crtOrientation&&(n.crtOrientation=n.data.crtInfo.width>n.data.crtInfo.height?"landscape":"portrait"),Ue.call(r,2)}}else{var _,g,m,v;if(!l||"0"===l)return _t.call(r,e,{adInfos:n.adInfos,checkAdStatus:t},a,"NO_AID");if(l&&null!=n&&null!==(_=n.adDatas)&&void 0!==_&&_[l]&&(n.data=n.adDatas[l],n.adProxy.data=n.adDatas[l]),n.crtOrientation=l?null==n||null===(g=n.adInfos)||void 0===g||null===(m=g.crtSizeMap)||void 0===m?void 0:m[l]:"",!n.crtOrientation)return _t.call(r,e,{adInfos:n.adInfos,checkAdStatus:t},a,"CRT_ORIENTATION_NOT_SURE");const i=l?null==n||null===(v=n.adInfos)||void 0===v?void 0:v.materialHashMap[l]:"";Pe=`${V.Lq}/${l}.txt`,Ce=`${V.Lq}/${l}_${i}.png`,De=`${V.Lq}/${l}_${i}_pure_color.png`,Oe=`${V.Lq}/${l}_${i}_blur.png`,s.push(Pe),s.push(Ce),"landscape"===n.crtOrientation&&s.push(De)}try{"launch"===e.source&&s.forEach((e=>{de.fs.accessSync(e)}))}catch(i){we=V.c3.MATERIAL_NOT_READY;const o=n.adProxy.processStackMsg(i);let s=!1;if(n.data)try{yield n.adProxy.handleBulkSaveMaterials(n.data),s=!0}catch(e){}if(!s)return _t.call(r,e,{adInfos:n.adInfos,checkAdStatus:t,msg:o},a,"MATERIAL_NOT_READY")}n.adProxy.setTimePoint("p17"),"launch"===e.source&&(0,de.mQ)({showMenu:!0,show:!0,errCode:we+be,adCallTime:n.adProxy.getTimePoint("p17"),eventReceivedTime:a.startInit,cgiFetchStart:a.startFetchTime,cgiFetchCallBack:a.fetchCallbackTime,success:()=>{n.adProxy.setTimePoint("p18"),f.Z.onReady((()=>{n.adProxy.reportAdMonitorData(V.ET.launchShowSplashAdSuccess)}))},fail:e=>{n.adProxy.setTimePoint("p18"),f.Z.onReady((()=>{n.adProxy.reportAdMonitorData(V.ET.showSplashAdFail,{adInfos:n.adInfos,checkAdStatus:t,msg:e})})),Ye.call(r),n.container&&o._w.remove(n.container)}});try{n.adProxy.setTimePoint("p4"),yt.call(r,e)}catch(t){ze.call(r,{source:e.source,animated:!1},19),Ye.call(r),f.Z.onReady((()=>{n.adProxy.reportAdMonitorData(V.ET.firstRenderFail,{adInfos:n.adInfos,source:e.source,msg:t})}))}}))()}}try{const t=new gt;(0,e.Ug)((e=>{t.show(e)}))}catch(e){}})()})();;})(this);